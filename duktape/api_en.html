
<!DOCTYPE html>
<html class="wf-nojavascript">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<link href="favicon.ico" rel="icon" type="image/x-icon"/>
<link href="touch_icon_152x152.png" rel="apple-touch-icon" sizes="152x152"/>
<link href="touch_icon_144x144.png" rel="apple-touch-icon" sizes="144x144"/>
<link href="touch_icon_120x120.png" rel="apple-touch-icon" sizes="120x120"/>
<link href="touch_icon_114x114.png" rel="apple-touch-icon" sizes="114x114"/>
<link href="touch_icon_72x72.png" rel="apple-touch-icon" sizes="72x72"/>
<link href="touch_icon_60x60.png" rel="apple-touch-icon" sizes="60x60"/>
<link href="touch_icon_57x57.png" rel="apple-touch-icon" sizes="57x57"/>
<link href="touch_icon_57x57.png" rel="apple-touch-icon"/>
<link href="startup_image_320x480.png" rel="apple-touch-startup-image"/>
<script type="text/javascript">
// allows non-javascript browsers to render with fallback fonts
document.getElementsByTagName("html")[0].className = "";

/*
  WebFont.load({
    google: {
      families: ['Open Sans', 'Droid Sans Mono']
    }
  });
*/
// link href='http://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'
// link href='http://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'

WebFontConfig = {
    google: {
      families: ['Open Sans', 'Droid Sans Mono']
    }
};

// http://kevindew.me/post/47052453532/a-fallback-for-when-google-web-font-loader-fails
(function() {
    var wf = document.createElement('script');
    wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
        '://ajax.googleapis.com/ajax/libs/webfont/1.4.2/webfont.js';
    wf.type = 'text/javascript';
    wf.async = 'true';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(wf, s);
    setTimeout(function() {
        if (!("WebFont" in window)) {
            document.getElementsByTagName("html")[0].className += " wf-fail";
        }
    }, 1000);
})();
</script>
<!-- combined stylesheet -->
<link href="style.css" rel="stylesheet" type="text/css"/>
<title>Duktape API</title>
</head>
<body>
<div id="site-top">
<div id="site-top-logo">
<strong id="logo">((o) Duktape</strong>
</div> <!-- site-top-logo -->
<div id="site-top-nav">
<ul>
<li><a href="index.html">Home</a></li>
<li><a href="download.html">Download</a></li>
<li class="selected"><a href="api.html">API</a></li>
<li><a href="guide.html">Guide</a></li>
<li><a href="http://wiki.duktape.org/">Wiki</a></li>
<li><a href="dukweb.html">REPL</a></li>
</ul>
</div> <!-- site-top-nav -->
</div> <!-- site-top -->
<div id="site-dummy-github" style="position:relative">
<a href="https://github.com/svaarala/duktape"><img alt="Fork me on GitHub" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" style="position: absolute; top: 0; right: 0; border: 0;"/></a>
</div>
<div id="site-middle">
<div id="site-middle-nav"><ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#notation">Notation</a></li>
<li><a href="#concepts">Concepts</a></li>
<li><a href="#defines">Header definitions</a></li>
<li><a href="#bytag">API calls by tag</a></li>
<li><a href=""> </a></li>
<li><a href="#duk_alloc">duk_alloc</a></li>
<li><a href="#duk_alloc_raw">duk_alloc_raw</a></li>
<li><a href="#duk_base64_decode">duk_base64_decode</a></li>
<li><a href="#duk_base64_encode">duk_base64_encode</a></li>
<li><a href="#duk_buffer_to_string">duk_buffer_to_string</a></li>
<li><a href="#duk_call">duk_call</a></li>
<li><a href="#duk_call_method">duk_call_method</a></li>
<li><a href="#duk_call_prop">duk_call_prop</a></li>
<li><a href="#duk_char_code_at">duk_char_code_at</a></li>
<li><a href="#duk_check_stack">duk_check_stack</a></li>
<li><a href="#duk_check_stack_top">duk_check_stack_top</a></li>
<li><a href="#duk_check_type">duk_check_type</a></li>
<li><a href="#duk_check_type_mask">duk_check_type_mask</a></li>
<li><a href="#duk_compact">duk_compact</a></li>
<li><a href="#duk_compile">duk_compile</a></li>
<li><a href="#duk_compile_lstring">duk_compile_lstring</a></li>
<li><a href="#duk_compile_lstring_filename">duk_compile_lstring_filename</a></li>
<li><a href="#duk_compile_string">duk_compile_string</a></li>
<li><a href="#duk_compile_string_filename">duk_compile_string_filename</a></li>
<li><a href="#duk_components_to_time">duk_components_to_time</a></li>
<li><a href="#duk_concat">duk_concat</a></li>
<li><a href="#duk_config_buffer">duk_config_buffer</a></li>
<li><a href="#duk_copy">duk_copy</a></li>
<li><a href="#duk_create_heap">duk_create_heap</a></li>
<li><a href="#duk_create_heap_default">duk_create_heap_default</a></li>
<li><a href="#duk_debugger_attach">duk_debugger_attach</a></li>
<li><a href="#duk_debugger_cooperate">duk_debugger_cooperate</a></li>
<li><a href="#duk_debugger_detach">duk_debugger_detach</a></li>
<li><a href="#duk_debugger_notify">duk_debugger_notify</a></li>
<li><a href="#duk_debugger_pause">duk_debugger_pause</a></li>
<li><a href="#duk_decode_string">duk_decode_string</a></li>
<li><a href="#duk_def_prop">duk_def_prop</a></li>
<li><a href="#duk_del_prop">duk_del_prop</a></li>
<li><a href="#duk_del_prop_index">duk_del_prop_index</a></li>
<li><a href="#duk_del_prop_lstring">duk_del_prop_lstring</a></li>
<li><a href="#duk_del_prop_string">duk_del_prop_string</a></li>
<li><a href="#duk_destroy_heap">duk_destroy_heap</a></li>
<li><a href="#duk_dump_function">duk_dump_function</a></li>
<li><a href="#duk_dup">duk_dup</a></li>
<li><a href="#duk_dup_top">duk_dup_top</a></li>
<li><a href="#duk_enum">duk_enum</a></li>
<li><a href="#duk_equals">duk_equals</a></li>
<li><a href="#duk_error">duk_error</a></li>
<li><a href="#duk_error_va">duk_error_va</a></li>
<li><a href="#duk_eval">duk_eval</a></li>
<li><a href="#duk_eval_error">duk_eval_error</a></li>
<li><a href="#duk_eval_error_va">duk_eval_error_va</a></li>
<li><a href="#duk_eval_lstring">duk_eval_lstring</a></li>
<li><a href="#duk_eval_lstring_noresult">duk_eval_lstring_noresult</a></li>
<li><a href="#duk_eval_noresult">duk_eval_noresult</a></li>
<li><a href="#duk_eval_string">duk_eval_string</a></li>
<li><a href="#duk_eval_string_noresult">duk_eval_string_noresult</a></li>
<li><a href="#duk_fatal">duk_fatal</a></li>
<li><a href="#duk_free">duk_free</a></li>
<li><a href="#duk_free_raw">duk_free_raw</a></li>
<li><a href="#duk_gc">duk_gc</a></li>
<li><a href="#duk_generic_error">duk_generic_error</a></li>
<li><a href="#duk_generic_error_va">duk_generic_error_va</a></li>
<li><a href="#duk_get_boolean">duk_get_boolean</a></li>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_get_c_function">duk_get_c_function</a></li>
<li><a href="#duk_get_context">duk_get_context</a></li>
<li><a href="#duk_get_current_magic">duk_get_current_magic</a></li>
<li><a href="#duk_get_error_code">duk_get_error_code</a></li>
<li><a href="#duk_get_finalizer">duk_get_finalizer</a></li>
<li><a href="#duk_get_global_lstring">duk_get_global_lstring</a></li>
<li><a href="#duk_get_global_string">duk_get_global_string</a></li>
<li><a href="#duk_get_heapptr">duk_get_heapptr</a></li>
<li><a href="#duk_get_int">duk_get_int</a></li>
<li><a href="#duk_get_length">duk_get_length</a></li>
<li><a href="#duk_get_lstring">duk_get_lstring</a></li>
<li><a href="#duk_get_magic">duk_get_magic</a></li>
<li><a href="#duk_get_memory_functions">duk_get_memory_functions</a></li>
<li><a href="#duk_get_now">duk_get_now</a></li>
<li><a href="#duk_get_number">duk_get_number</a></li>
<li><a href="#duk_get_pointer">duk_get_pointer</a></li>
<li><a href="#duk_get_prop">duk_get_prop</a></li>
<li><a href="#duk_get_prop_desc">duk_get_prop_desc</a></li>
<li><a href="#duk_get_prop_index">duk_get_prop_index</a></li>
<li><a href="#duk_get_prop_lstring">duk_get_prop_lstring</a></li>
<li><a href="#duk_get_prop_string">duk_get_prop_string</a></li>
<li><a href="#duk_get_prototype">duk_get_prototype</a></li>
<li><a href="#duk_get_string">duk_get_string</a></li>
<li><a href="#duk_get_top">duk_get_top</a></li>
<li><a href="#duk_get_top_index">duk_get_top_index</a></li>
<li><a href="#duk_get_type">duk_get_type</a></li>
<li><a href="#duk_get_type_mask">duk_get_type_mask</a></li>
<li><a href="#duk_get_uint">duk_get_uint</a></li>
<li><a href="#duk_has_prop">duk_has_prop</a></li>
<li><a href="#duk_has_prop_index">duk_has_prop_index</a></li>
<li><a href="#duk_has_prop_lstring">duk_has_prop_lstring</a></li>
<li><a href="#duk_has_prop_string">duk_has_prop_string</a></li>
<li><a href="#duk_hex_decode">duk_hex_decode</a></li>
<li><a href="#duk_hex_encode">duk_hex_encode</a></li>
<li><a href="#duk_insert">duk_insert</a></li>
<li><a href="#duk_inspect_callstack_entry">duk_inspect_callstack_entry</a></li>
<li><a href="#duk_inspect_value">duk_inspect_value</a></li>
<li><a href="#duk_instanceof">duk_instanceof</a></li>
<li><a href="#duk_is_array">duk_is_array</a></li>
<li><a href="#duk_is_boolean">duk_is_boolean</a></li>
<li><a href="#duk_is_bound_function">duk_is_bound_function</a></li>
<li><a href="#duk_is_buffer">duk_is_buffer</a></li>
<li><a href="#duk_is_buffer_data">duk_is_buffer_data</a></li>
<li><a href="#duk_is_c_function">duk_is_c_function</a></li>
<li><a href="#duk_is_callable">duk_is_callable</a></li>
<li><a href="#duk_is_constructor_call">duk_is_constructor_call</a></li>
<li><a href="#duk_is_dynamic_buffer">duk_is_dynamic_buffer</a></li>
<li><a href="#duk_is_ecmascript_function">duk_is_ecmascript_function</a></li>
<li><a href="#duk_is_error">duk_is_error</a></li>
<li><a href="#duk_is_eval_error">duk_is_eval_error</a></li>
<li><a href="#duk_is_fixed_buffer">duk_is_fixed_buffer</a></li>
<li><a href="#duk_is_function">duk_is_function</a></li>
<li><a href="#duk_is_lightfunc">duk_is_lightfunc</a></li>
<li><a href="#duk_is_nan">duk_is_nan</a></li>
<li><a href="#duk_is_null">duk_is_null</a></li>
<li><a href="#duk_is_null_or_undefined">duk_is_null_or_undefined</a></li>
<li><a href="#duk_is_number">duk_is_number</a></li>
<li><a href="#duk_is_object">duk_is_object</a></li>
<li><a href="#duk_is_object_coercible">duk_is_object_coercible</a></li>
<li><a href="#duk_is_pointer">duk_is_pointer</a></li>
<li><a href="#duk_is_primitive">duk_is_primitive</a></li>
<li><a href="#duk_is_range_error">duk_is_range_error</a></li>
<li><a href="#duk_is_reference_error">duk_is_reference_error</a></li>
<li><a href="#duk_is_strict_call">duk_is_strict_call</a></li>
<li><a href="#duk_is_string">duk_is_string</a></li>
<li><a href="#duk_is_symbol">duk_is_symbol</a></li>
<li><a href="#duk_is_syntax_error">duk_is_syntax_error</a></li>
<li><a href="#duk_is_thread">duk_is_thread</a></li>
<li><a href="#duk_is_type_error">duk_is_type_error</a></li>
<li><a href="#duk_is_undefined">duk_is_undefined</a></li>
<li><a href="#duk_is_uri_error">duk_is_uri_error</a></li>
<li><a href="#duk_is_valid_index">duk_is_valid_index</a></li>
<li><a href="#duk_join">duk_join</a></li>
<li><a href="#duk_json_decode">duk_json_decode</a></li>
<li><a href="#duk_json_encode">duk_json_encode</a></li>
<li><a href="#duk_load_function">duk_load_function</a></li>
<li><a href="#duk_map_string">duk_map_string</a></li>
<li><a href="#duk_new">duk_new</a></li>
<li><a href="#duk_next">duk_next</a></li>
<li><a href="#duk_normalize_index">duk_normalize_index</a></li>
<li><a href="#duk_pcall">duk_pcall</a></li>
<li><a href="#duk_pcall_method">duk_pcall_method</a></li>
<li><a href="#duk_pcall_prop">duk_pcall_prop</a></li>
<li><a href="#duk_pcompile">duk_pcompile</a></li>
<li><a href="#duk_pcompile_lstring">duk_pcompile_lstring</a></li>
<li><a href="#duk_pcompile_lstring_filename">duk_pcompile_lstring_filename</a></li>
<li><a href="#duk_pcompile_string">duk_pcompile_string</a></li>
<li><a href="#duk_pcompile_string_filename">duk_pcompile_string_filename</a></li>
<li><a href="#duk_peval">duk_peval</a></li>
<li><a href="#duk_peval_lstring">duk_peval_lstring</a></li>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
<li><a href="#duk_peval_noresult">duk_peval_noresult</a></li>
<li><a href="#duk_peval_string">duk_peval_string</a></li>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
<li><a href="#duk_pnew">duk_pnew</a></li>
<li><a href="#duk_pop">duk_pop</a></li>
<li><a href="#duk_pop_2">duk_pop_2</a></li>
<li><a href="#duk_pop_3">duk_pop_3</a></li>
<li><a href="#duk_pop_n">duk_pop_n</a></li>
<li><a href="#duk_push_array">duk_push_array</a></li>
<li><a href="#duk_push_bare_object">duk_push_bare_object</a></li>
<li><a href="#duk_push_boolean">duk_push_boolean</a></li>
<li><a href="#duk_push_buffer">duk_push_buffer</a></li>
<li><a href="#duk_push_buffer_object">duk_push_buffer_object</a></li>
<li><a href="#duk_push_c_function">duk_push_c_function</a></li>
<li><a href="#duk_push_c_lightfunc">duk_push_c_lightfunc</a></li>
<li><a href="#duk_push_context_dump">duk_push_context_dump</a></li>
<li><a href="#duk_push_current_function">duk_push_current_function</a></li>
<li><a href="#duk_push_current_thread">duk_push_current_thread</a></li>
<li><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
<li><a href="#duk_push_false">duk_push_false</a></li>
<li><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer</a></li>
<li><a href="#duk_push_global_object">duk_push_global_object</a></li>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
<li><a href="#duk_push_int">duk_push_int</a></li>
<li><a href="#duk_push_lstring">duk_push_lstring</a></li>
<li><a href="#duk_push_nan">duk_push_nan</a></li>
<li><a href="#duk_push_null">duk_push_null</a></li>
<li><a href="#duk_push_number">duk_push_number</a></li>
<li><a href="#duk_push_object">duk_push_object</a></li>
<li><a href="#duk_push_pointer">duk_push_pointer</a></li>
<li><a href="#duk_push_sprintf">duk_push_sprintf</a></li>
<li><a href="#duk_push_string">duk_push_string</a></li>
<li><a href="#duk_push_this">duk_push_this</a></li>
<li><a href="#duk_push_thread">duk_push_thread</a></li>
<li><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_push_true">duk_push_true</a></li>
<li><a href="#duk_push_uint">duk_push_uint</a></li>
<li><a href="#duk_push_undefined">duk_push_undefined</a></li>
<li><a href="#duk_push_vsprintf">duk_push_vsprintf</a></li>
<li><a href="#duk_put_function_list">duk_put_function_list</a></li>
<li><a href="#duk_put_global_lstring">duk_put_global_lstring</a></li>
<li><a href="#duk_put_global_string">duk_put_global_string</a></li>
<li><a href="#duk_put_number_list">duk_put_number_list</a></li>
<li><a href="#duk_put_prop">duk_put_prop</a></li>
<li><a href="#duk_put_prop_index">duk_put_prop_index</a></li>
<li><a href="#duk_put_prop_lstring">duk_put_prop_lstring</a></li>
<li><a href="#duk_put_prop_string">duk_put_prop_string</a></li>
<li><a href="#duk_range_error">duk_range_error</a></li>
<li><a href="#duk_range_error_va">duk_range_error_va</a></li>
<li><a href="#duk_realloc">duk_realloc</a></li>
<li><a href="#duk_realloc_raw">duk_realloc_raw</a></li>
<li><a href="#duk_reference_error">duk_reference_error</a></li>
<li><a href="#duk_reference_error_va">duk_reference_error_va</a></li>
<li><a href="#duk_remove">duk_remove</a></li>
<li><a href="#duk_replace">duk_replace</a></li>
<li><a href="#duk_require_boolean">duk_require_boolean</a></li>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
<li><a href="#duk_require_c_function">duk_require_c_function</a></li>
<li><a href="#duk_require_callable">duk_require_callable</a></li>
<li><a href="#duk_require_context">duk_require_context</a></li>
<li><a href="#duk_require_function">duk_require_function</a></li>
<li><a href="#duk_require_heapptr">duk_require_heapptr</a></li>
<li><a href="#duk_require_int">duk_require_int</a></li>
<li><a href="#duk_require_lstring">duk_require_lstring</a></li>
<li><a href="#duk_require_normalize_index">duk_require_normalize_index</a></li>
<li><a href="#duk_require_null">duk_require_null</a></li>
<li><a href="#duk_require_number">duk_require_number</a></li>
<li><a href="#duk_require_object_coercible">duk_require_object_coercible</a></li>
<li><a href="#duk_require_pointer">duk_require_pointer</a></li>
<li><a href="#duk_require_stack">duk_require_stack</a></li>
<li><a href="#duk_require_stack_top">duk_require_stack_top</a></li>
<li><a href="#duk_require_string">duk_require_string</a></li>
<li><a href="#duk_require_top_index">duk_require_top_index</a></li>
<li><a href="#duk_require_type_mask">duk_require_type_mask</a></li>
<li><a href="#duk_require_uint">duk_require_uint</a></li>
<li><a href="#duk_require_undefined">duk_require_undefined</a></li>
<li><a href="#duk_require_valid_index">duk_require_valid_index</a></li>
<li><a href="#duk_resize_buffer">duk_resize_buffer</a></li>
<li><a href="#duk_resume">duk_resume</a></li>
<li><a href="#duk_safe_call">duk_safe_call</a></li>
<li><a href="#duk_safe_to_lstring">duk_safe_to_lstring</a></li>
<li><a href="#duk_safe_to_string">duk_safe_to_string</a></li>
<li><a href="#duk_samevalue">duk_samevalue</a></li>
<li><a href="#duk_set_finalizer">duk_set_finalizer</a></li>
<li><a href="#duk_set_global_object">duk_set_global_object</a></li>
<li><a href="#duk_set_length">duk_set_length</a></li>
<li><a href="#duk_set_magic">duk_set_magic</a></li>
<li><a href="#duk_set_prototype">duk_set_prototype</a></li>
<li><a href="#duk_set_top">duk_set_top</a></li>
<li><a href="#duk_steal_buffer">duk_steal_buffer</a></li>
<li><a href="#duk_strict_equals">duk_strict_equals</a></li>
<li><a href="#duk_substring">duk_substring</a></li>
<li><a href="#duk_suspend">duk_suspend</a></li>
<li><a href="#duk_swap">duk_swap</a></li>
<li><a href="#duk_swap_top">duk_swap_top</a></li>
<li><a href="#duk_syntax_error">duk_syntax_error</a></li>
<li><a href="#duk_syntax_error_va">duk_syntax_error_va</a></li>
<li><a href="#duk_throw">duk_throw</a></li>
<li><a href="#duk_time_to_components">duk_time_to_components</a></li>
<li><a href="#duk_to_boolean">duk_to_boolean</a></li>
<li><a href="#duk_to_buffer">duk_to_buffer</a></li>
<li><a href="#duk_to_dynamic_buffer">duk_to_dynamic_buffer</a></li>
<li><a href="#duk_to_fixed_buffer">duk_to_fixed_buffer</a></li>
<li><a href="#duk_to_int">duk_to_int</a></li>
<li><a href="#duk_to_int32">duk_to_int32</a></li>
<li><a href="#duk_to_lstring">duk_to_lstring</a></li>
<li><a href="#duk_to_null">duk_to_null</a></li>
<li><a href="#duk_to_number">duk_to_number</a></li>
<li><a href="#duk_to_object">duk_to_object</a></li>
<li><a href="#duk_to_pointer">duk_to_pointer</a></li>
<li><a href="#duk_to_primitive">duk_to_primitive</a></li>
<li><a href="#duk_to_string">duk_to_string</a></li>
<li><a href="#duk_to_uint">duk_to_uint</a></li>
<li><a href="#duk_to_uint16">duk_to_uint16</a></li>
<li><a href="#duk_to_uint32">duk_to_uint32</a></li>
<li><a href="#duk_to_undefined">duk_to_undefined</a></li>
<li><a href="#duk_trim">duk_trim</a></li>
<li><a href="#duk_type_error">duk_type_error</a></li>
<li><a href="#duk_type_error_va">duk_type_error_va</a></li>
<li><a href="#duk_uri_error">duk_uri_error</a></li>
<li><a href="#duk_uri_error_va">duk_uri_error_va</a></li>
<li><a href="#duk_xcopy_top">duk_xcopy_top</a></li>
<li><a href="#duk_xmove_top">duk_xmove_top</a></li>
</ul></div> <!-- site-middle-nav -->
<div class="content" id="site-middle-content"><div class="main-title"><strong>Duktape API</strong></div><hr/><h1 class="sectiontitle" id="introduction">Introduction <a class="sectionlink" href="#introduction">§</a></h1><p>Version: 2.0.0 (2017-01-02)</p><h2 class="sectiontitle" id="introduction.1">Document scope <a class="sectionlink" href="#introduction.1">§</a></h2><p>The Duktape API (defined in <code>duktape.h</code>) is a set of constants
and API calls which allows C/C++ programs to interface with Ecmascript
code and shields them from internal details like value representation.
</p><p>This document provides a concise reference for the Duktape API and
its core concepts.  If you're new to Duktape, please read the
<a href="guide.html">Duktape Programmer's Guide</a> first.</p><h2 class="sectiontitle" id="introduction.2">Searching for functions using browser search <a class="sectionlink" href="#introduction.2">§</a></h2><p>You can use browser search (typically CTRL-F) to search for
function definitions by prepending a dot to the search term.  For instance,
use ".duk_example_func" to look for <code>duk_example_func()</code>.  In most
browsers only the actual section defining the function should be found.</p><h2 class="sectiontitle" id="introduction.3">API safety <a class="sectionlink" href="#introduction.3">§</a></h2><p>As a general rule, API calls check all their parameters and tolerate
<code>NULL</code> arguments and invalid value stack indices without unsafe
behavior (crashes).</p><p>One major exception is the Duktape context argument, <code>ctx</code>.
Unless stated otherwise, it is not checked and is required to be
non-<code>NULL</code> or unsafe behavior may occur.  This is the case
because explicit checks for the argument would increase code footprint
for little practical gain.</p><p>Also see <a href="guide.html#error-handling">Error handling</a> best
practices, especially to avoid uncaught errors which lead to difficult
to diagnose fatal errors.</p><h2 class="sectiontitle" id="introduction.4">API calls may be macros <a class="sectionlink" href="#introduction.4">§</a></h2><p>All Duktape API calls are potentially macros.  The implementation of a
certain API call may change between a macro and an actual function even
between compatible releases.  See <a href="guide.html#duktape-api">Duktape API</a>
for more discussion.</p><h2 class="sectiontitle" id="introduction.5">Minimal Duktape program <a class="sectionlink" href="#introduction.5">§</a></h2><pre class="c-code"><span class="preproc">#include</span><span class="normal"> </span><span class="string">"duktape.h"</span>

<span class="type">int</span><span class="normal"> </span><span class="function">main</span><span class="symbol">(</span><span class="type">int</span><span class="normal"> argc</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">argv</span><span class="symbol">[])</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_create_heap_default</span><span class="symbol">();</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('Hello world from Javascript!');"</span><span class="symbol">);</span>
<span class="normal">        </span><span class="function">duk_destroy_heap</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre><hr/><h1 class="sectiontitle" id="notation">Notation <a class="sectionlink" href="#notation">§</a></h1><h2 class="sectiontitle" id="notation.1">Value stacks <a class="sectionlink" href="#notation.1">§</a></h2><p>This document uses the following stack notation.  Stacks are represented
visually with the stack growing to the right.  For instance, after:</p><pre class="c-code"><span class="function">duk_push_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_true</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre><p>the stack would look like:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem">123</span> <span class="elem literal">"foo"</span> <span class="elem literal">true</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>The elements on the stack which don't affect the operation are denoted
with a single element with ellipsis ("..."):</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>The elements actively operated on, either being read, written, inserted,
or removed, have a white background:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>Elements which are identified by an explicit index in an API call are
indicated with surrounding ellipsis elements, to emphasize that they may
be anywhere in the stack:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">value</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>In some cases the index of an element may be emphasized with a number
or symbolic value in parenthesis:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(index)</span> <span class="elem active">val(index+1)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>Stack transformation is represented with an arrow and two stacks:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">value</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><hr/><h1 class="sectiontitle" id="concepts">Concepts <a class="sectionlink" href="#concepts">§</a></h1><h2 class="sectiontitle" id="concepts.1">Heap <a class="sectionlink" href="#concepts.1">§</a></h2><p>A single region for garbage collection.  Shared by one or more
contexts.</p><h2 class="sectiontitle" id="concepts.2">Context <a class="sectionlink" href="#concepts.2">§</a></h2><p>A handle used in the Duktape API, associated with a Duktape thread
(coroutine) and its call and value stacks.</p><h2 class="sectiontitle" id="concepts.3">Call stack (of a context) <a class="sectionlink" href="#concepts.3">§</a></h2><p>Book-keeping of the active function call chain of a context.
Includes both Ecmascript and Duktape/C function calls.</p><h2 class="sectiontitle" id="concepts.4">Value stack (of a context) <a class="sectionlink" href="#concepts.4">§</a></h2><p>Storage for tagged values belonging to current activations in a
context's call stack.</p><p>The values kept in a value stack are traditional tagged <a href="#stack-type">types</a>.
Stack entries are indexed either from the bottom (&gt;= 0) or from the top
(&lt; 0) of the most recent function call.
</p><h2 class="sectiontitle" id="concepts.5">Value stack index <a class="sectionlink" href="#concepts.5">§</a></h2><p>Non-negative (&gt;= 0) indices refer to stack entries in the
current stack frame, relative to the frame bottom:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem">0</span> <span class="elem">1</span> <span class="elem">2</span> <span class="elem">3</span> <span class="elem">4</span> <span class="elem active">5</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>Negative (&lt; 0) indices refer to stack entries relative to the top:</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem">-6</span> <span class="elem">-5</span> <span class="elem">-4</span> <span class="elem">-3</span> <span class="elem">-2</span> <span class="elem active">-1</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><p>The special constant <code>DUK_INVALID_INDEX</code> is a negative integer
which denotes an invalid stack index.  It can be returned from API calls
and can also be given to API calls to indicate a "no value".</p><p>The <i>value stack top</i> (or just "top") is the non-negative index of
an imaginary element just above the highest used index.  For instance, above
the highest used index is 5, so the stack top is 6.  The top indicates the
current stack size, and is also the index of the next element pushed to the
stack.</p><div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem">0</span> <span class="elem">1</span> <span class="elem">2</span> <span class="elem">3</span> <span class="elem">4</span> <span class="elem active">5</span> <span class="elem ghost">6</span> <span class="cap">]</span> </span> <span class="stack-comment"></span> </div><div class="note">
<p>API stack operations are always confined to the current stack frame.
There is no way to refer to stack entries below the current frame.  This
is intentional, as it protects functions in the call stack from affecting
each other's values.</p>
</div><h2 class="sectiontitle" id="stack-type">Stack type <a class="sectionlink" href="#stack-type">§</a></h2><div class="table-wrap">
<table>
<tr class="header"><th>Type</th><th>Type constant</th><th>Type mask constant</th><th>Description</th><th>Heap alloc</th></tr>
<tr><td>(none)</td><td>DUK_TYPE_NONE</td><td>DUK_TYPE_MASK_NONE</td><td>no type (missing value, invalid index, etc)</td><td>no</td></tr>
<tr><td>undefined</td><td>DUK_TYPE_UNDEFINED</td><td>DUK_TYPE_MASK_UNDEFINED</td><td><code>undefined</code></td><td>no</td></tr>
<tr><td>null</td><td>DUK_TYPE_NULL</td><td>DUK_TYPE_MASK_NULL</td><td><code>null</code></td><td>no</td></tr>
<tr><td>boolean</td><td>DUK_TYPE_BOOLEAN</td><td>DUK_TYPE_MASK_BOOLEAN</td><td><code>true</code> and <code>false</code></td><td>no</td></tr>
<tr><td>number</td><td>DUK_TYPE_NUMBER</td><td>DUK_TYPE_MASK_NUMBER</td><td>IEEE double</td><td>no</td></tr>
<tr><td>string</td><td>DUK_TYPE_STRING</td><td>DUK_TYPE_MASK_STRING</td><td>immutable string</td><td>yes</td></tr>
<tr><td>object</td><td>DUK_TYPE_OBJECT</td><td>DUK_TYPE_MASK_OBJECT</td><td>object with properties</td><td>yes</td></tr>
<tr><td>buffer</td><td>DUK_TYPE_BUFFER</td><td>DUK_TYPE_MASK_BUFFER</td><td>mutable byte buffer, fixed/dynamic</td><td>yes</td></tr>
<tr><td>pointer</td><td>DUK_TYPE_POINTER</td><td>DUK_TYPE_MASK_POINTER</td><td>opaque pointer (void *)</td><td>no</td></tr>
<tr><td>lightfunc</td><td>DUK_TYPE_LIGHTFUNC</td><td>DUK_TYPE_MASK_LIGHTFUNC</td><td>plain Duktape/C pointer (non-object)</td><td>no</td></tr>
</table>
</div><p>The "Heap alloc" column indicates whether the tagged value points to
a heap allocated object with possibly additional allocations (like object
property table).</p><h2 class="sectiontitle" id="concepts.7">Stack type mask <a class="sectionlink" href="#concepts.7">§</a></h2><p>Each stack type has a bit index which allows a set of stack types to be
represented as a bit mask.  Calling code can use such bit sets to e.g. check
whether or not a certain stack value belongs to a set of types.  Example:</p><pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_type_mask</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">DUK_TYPE_MASK_NUMBER </span><span class="symbol">|</span>
<span class="normal">                                  DUK_TYPE_MASK_STRING </span><span class="symbol">|</span>
<span class="normal">                                  DUK_TYPE_MASK_OBJECT</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"type is number, string, or object</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre><p>There is a specific API call for matching a set of types even more
conveniently:</p><pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_check_type_mask</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> DUK_TYPE_MASK_NUMBER </span><span class="symbol">|</span>
<span class="normal">                                 DUK_TYPE_MASK_STRING </span><span class="symbol">|</span>
<span class="normal">                                 DUK_TYPE_MASK_OBJECT</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"type is number, string, or object</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre><h2 class="sectiontitle" id="concepts.8">Array index <a class="sectionlink" href="#concepts.8">§</a></h2><p>Ecmascript object and array keys can only be strings; this includes
array indices (0, 1, 2, ...) which are expressed as canonical string
representations ("0", "1", "2", ...) of the respective numbers for all
integers in the range [0, 2**32-1].  Conceptually any key used in a
property lookup is first coerced to a string, so that <code>obj[123]</code>
is really just a shorthand for <code>obj["123"]</code>.</p><p>Duktape tries to avoid explicit number-to-string conversions for array
accesses whenever possible, so it is preferable to use numeric array
indices in both Ecmascript code and C code using the Duktape API.</p><h2 class="sectiontitle" id="concepts.9">Duktape/C function <a class="sectionlink" href="#concepts.9">§</a></h2><p>A C function with a Duktape/C API signature can be associated with an
Ecmascript function object or a lightfunc value, and gets called when
the associated value is called from Ecmascript code.  Example:</p><pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">my_func</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre><p>Argument count given in value stack is specified when the corresponding
Ecmascript function object is created: either a fixed number of arguments
of <code>DUK_VARARGS</code> for getting arguments "as is".  Extra arguments
are dropped and missing arguments padded with <code>undefined</code> as necessary.
Use <code><a href="#duk_get_top">duk_get_top()</a></code> to determine number of
actual arguments.
</p><p>Function return values:</p><ul>
<li>Return value 1: stack top contains return value.</li>
<li>Return value 0: return value is <code>undefined</code>.</li>
<li>Return value &lt;0: shorthand for throwing errors, use <code>DUK_RET_xxx</code>
    constants which are negative variants of <code>DUK_ERR_xxx</code>.</li>
<li>Return value &gt;1: reserved, currently invalid.</li>
</ul><p>No error message can be given when using the error shorthand:</p><pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">my_func</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="comment">/* throw TypeError if no arguments given */</span>
<span class="normal">        </span><span class="keyword">return</span><span class="normal"> DUK_RET_TYPE_ERROR</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre><h2 class="sectiontitle" id="concepts.10">Stashes <a class="sectionlink" href="#concepts.10">§</a></h2><p>A stash is an object reachable from C code using the Duktape/C API, but
which is unreachable from Ecmascript code.  Stashes allow C code to store
internal state which can be safely isolated from Ecmascript code.  There are
three stashes:</p><ul>
<li>Heap stash: shared by all threads in the same heap.</li>
<li>Global stash: shared by all threads which share a global object.</li>
<li>Thread stash: specific to a certain thread.</li>
</ul><hr/><h1 class="sectiontitle" id="defines">Header definitions <a class="sectionlink" href="#defines">§</a></h1><p>This section summarizes some commonly needed header definitions in
<code>duktape.h</code>.  It is not exhaustive and the excerpts have been
reorganized for readability.  Don't rely on the specific define values
shown below for e.g. flags fields.  When in doubt, consult the header
directly.</p><h2 class="sectiontitle" id="defines.1">Duktape version <a class="sectionlink" href="#defines.1">§</a></h2><p>Duktape version is available through the <code>DUK_VERSION</code> define,
with the numeric value <code>(major * 10000 + minor * 100 + patch)</code>.
The same value is available to Ecmascript code through <code>Duktape.version</code>.
For example, version 1.2.3 would have <code>DUK_VERSION</code> and
<code>Duktape.version</code> set to 10203.  For pre-releases <code>DUK_VERSION</code>
is one less than the actual release, e.g. 1199 for a 0.12.0 pre-release and 10299
for a 1.3.0 pre-release.  See <a href="guide.html#versioning">Versioning</a>.</p><h2 class="sectiontitle" id="defines.2">Git information <a class="sectionlink" href="#defines.2">§</a></h2><p>The following Git identifiers are available (all refer to the
<a href="https://github.com/svaarala/duktape">Duktape GitHub repo</a>):</p><table>
<tr>
<td><code>DUK_GIT_DESCRIBE</code></td>
<td>Git describe string for the Duktape build.  For official releases this
is just "v1.0.0" or similar, but for snapshot builds it provides useful
version information, e.g. "v1.0.0-155-g5b7ef1f-dirty".</td>
</tr>
<tr>
<td><code>DUK_GIT_COMMIT</code></td>
<td>Exact commit hash where distributable was built from.</td>
</tr>
<tr>
<td><code>DUK_GIT_BRANCH</code></td>
<td>Branch where the distributable was built from.  This is useful to
identify prototypes built from a development branch.</td>
</tr>
</table><p>There are no equivalent defines in the Ecmascript environment.</p><h2 class="sectiontitle" id="defines.3">Debug protocol version <a class="sectionlink" href="#defines.3">§</a></h2><p>The version number of the debug protocol (a single integer) is available as
the define <code>DUK_DEBUG_PROTOCOL_VERSION</code>.</p><h2 class="sectiontitle" id="defines.4">Structs and typedefs <a class="sectionlink" href="#defines.4">§</a></h2><pre class="c-code"><span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_hthread</span><span class="normal"> duk_context</span><span class="symbol">;</span>

<span class="keyword">typedef</span><span class="normal"> </span><span class="function">duk_ret_t</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_c_function</span><span class="symbol">)(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*(*</span><span class="normal">duk_alloc_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*(*</span><span class="normal">duk_realloc_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_free_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_fatal_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">msg</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_decode_char_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_codepoint_t</span><span class="normal"> codepoint</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="function">duk_codepoint_t</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_map_char_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_codepoint_t</span><span class="normal"> codepoint</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="function">duk_ret_t</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_safe_call_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="function">duk_size_t</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_debug_read_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buffer</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> length</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="function">duk_size_t</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_debug_write_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buffer</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> length</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="function">duk_size_t</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_debug_peek_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_debug_read_flush_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_debug_write_flush_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">(*</span><span class="normal">duk_debug_detached_function</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_memory_functions</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="usertype">duk_alloc_function</span><span class="normal"> alloc_func</span><span class="symbol">;</span>
<span class="normal">        </span><span class="usertype">duk_realloc_function</span><span class="normal"> realloc_func</span><span class="symbol">;</span>
<span class="normal">        </span><span class="usertype">duk_free_function</span><span class="normal"> free_func</span><span class="symbol">;</span>
<span class="normal">        </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_memory_functions</span><span class="normal"> duk_memory_functions</span><span class="symbol">;</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_function_list_entry</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">duk_c_function</span><span class="normal"> value</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">duk_int_t</span><span class="normal"> nargs</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_function_list_entry</span><span class="normal"> duk_function_list_entry</span><span class="symbol">;</span>

<span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_number_list_entry</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">	</span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">;</span>
<span class="normal">	</span><span class="usertype">duk_double_t</span><span class="normal"> value</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="classname">duk_number_list_entry</span><span class="normal"> duk_number_list_entry</span><span class="symbol">;</span>
</pre><h2 class="sectiontitle" id="defines.5">Error codes <a class="sectionlink" href="#defines.5">§</a></h2><pre class="c-code"><span class="preproc">#define</span><span class="normal"> DUK_ERR_NONE                 </span><span class="number">0</span><span class="normal">    </span><span class="comment">/* no error (e.g. from duk_get_error_code()) */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_ERROR                </span><span class="number">100</span><span class="normal">  </span><span class="comment">/* Error */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_EVAL_ERROR           </span><span class="number">101</span><span class="normal">  </span><span class="comment">/* EvalError */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_RANGE_ERROR          </span><span class="number">102</span><span class="normal">  </span><span class="comment">/* RangeError */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_REFERENCE_ERROR      </span><span class="number">103</span><span class="normal">  </span><span class="comment">/* ReferenceError */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_SYNTAX_ERROR         </span><span class="number">104</span><span class="normal">  </span><span class="comment">/* SyntaxError */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_TYPE_ERROR           </span><span class="number">105</span><span class="normal">  </span><span class="comment">/* TypeError */</span>
<span class="preproc">#define</span><span class="normal"> DUK_ERR_URI_ERROR            </span><span class="number">106</span><span class="normal">  </span><span class="comment">/* URIError */</span>
</pre><h2 class="sectiontitle" id="defines.6">Return codes from Duktape/C functions <a class="sectionlink" href="#defines.6">§</a></h2><pre class="c-code"><span class="comment">/* Return codes for C functions */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_ERROR</span><span class="normal">                </span><span class="symbol">(-</span><span class="normal">DUK_ERR_ERROR</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_EVAL_ERROR</span><span class="normal">           </span><span class="symbol">(-</span><span class="normal">DUK_ERR_EVAL_ERROR</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_RANGE_ERROR</span><span class="normal">          </span><span class="symbol">(-</span><span class="normal">DUK_ERR_RANGE_ERROR</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_REFERENCE_ERROR</span><span class="normal">      </span><span class="symbol">(-</span><span class="normal">DUK_ERR_REFERENCE_ERROR</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_SYNTAX_ERROR</span><span class="normal">         </span><span class="symbol">(-</span><span class="normal">DUK_ERR_SYNTAX_ERROR</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_TYPE_ERROR</span><span class="normal">           </span><span class="symbol">(-</span><span class="normal">DUK_ERR_TYPE_ERROR</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_RET_URI_ERROR</span><span class="normal">            </span><span class="symbol">(-</span><span class="normal">DUK_ERR_URI_ERROR</span><span class="symbol">)</span>

<span class="comment">/* Return codes for protected calls (duk_safe_call(), duk_pcall()). */</span>
<span class="preproc">#define</span><span class="normal"> DUK_EXEC_SUCCESS             </span><span class="number">0</span>
<span class="preproc">#define</span><span class="normal"> DUK_EXEC_ERROR               </span><span class="number">1</span>
</pre><h2 class="sectiontitle" id="defines.7">Compilation flags for duk_compile() <a class="sectionlink" href="#defines.7">§</a></h2><pre class="c-code"><span class="comment">/* Compilation flags for duk_compile() and duk_eval() */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_COMPILE_EVAL</span><span class="normal">                  </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* compile eval code (instead of program) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_COMPILE_FUNCTION</span><span class="normal">              </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* compile function code (instead of program) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_COMPILE_STRICT</span><span class="normal">                </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* use strict (outer) context for program, eval, or function */</span>
</pre><h2 class="sectiontitle" id="defines.8">Flags for duk_def_prop() <a class="sectionlink" href="#defines.8">§</a></h2><pre class="c-code"><span class="comment">/* Flags for duk_def_prop() and its variants */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_WRITABLE</span><span class="normal">              </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set writable (effective if DUK_DEFPROP_HAVE_WRITABLE set) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_ENUMERABLE</span><span class="normal">            </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set enumerable (effective if DUK_DEFPROP_HAVE_ENUMERABLE set) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_CONFIGURABLE</span><span class="normal">          </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set configurable (effective if DUK_DEFPROP_HAVE_CONFIGURABLE set) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_HAVE_WRITABLE</span><span class="normal">         </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set/clear writable */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_HAVE_ENUMERABLE</span><span class="normal">       </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">4</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set/clear enumerable */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_HAVE_CONFIGURABLE</span><span class="normal">     </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">5</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set/clear configurable */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_HAVE_VALUE</span><span class="normal">            </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">6</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set value (given on value stack) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_HAVE_GETTER</span><span class="normal">           </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">7</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set getter (given on value stack) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_HAVE_SETTER</span><span class="normal">           </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">8</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* set setter (given on value stack) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_FORCE</span><span class="normal">                 </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">9</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* force change if possible, may still fail for e.g. virtual properties */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_SET_WRITABLE</span><span class="normal">          </span><span class="symbol">(</span><span class="normal">DUK_DEFPROP_HAVE_WRITABLE </span><span class="symbol">|</span><span class="normal"> DUK_DEFPROP_WRITABLE</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="usertype">DUK_DEFPROP_CLEAR_WRITABLE</span><span class="normal">        DUK_DEFPROP_HAVE_WRITABLE</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_SET_ENUMERABLE</span><span class="normal">        </span><span class="symbol">(</span><span class="normal">DUK_DEFPROP_HAVE_ENUMERABLE </span><span class="symbol">|</span><span class="normal"> DUK_DEFPROP_ENUMERABLE</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="usertype">DUK_DEFPROP_CLEAR_ENUMERABLE</span><span class="normal">      DUK_DEFPROP_HAVE_ENUMERABLE</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_DEFPROP_SET_CONFIGURABLE</span><span class="normal">      </span><span class="symbol">(</span><span class="normal">DUK_DEFPROP_HAVE_CONFIGURABLE </span><span class="symbol">|</span><span class="normal"> DUK_DEFPROP_CONFIGURABLE</span><span class="symbol">)</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="usertype">DUK_DEFPROP_CLEAR_CONFIGURABLE</span><span class="normal">    DUK_DEFPROP_HAVE_CONFIGURABLE</span>
</pre><h2 class="sectiontitle" id="defines.9">Enumeration flags for duk_enum() <a class="sectionlink" href="#defines.9">§</a></h2><pre class="c-code"><span class="comment">/* Enumeration flags for duk_enum() */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_ENUM_INCLUDE_NONENUMERABLE</span><span class="normal">    </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* enumerate non-numerable properties in addition to enumerable */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_ENUM_INCLUDE_INTERNAL</span><span class="normal">         </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* enumerate internal properties */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_ENUM_OWN_PROPERTIES_ONLY</span><span class="normal">      </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* don't walk prototype chain, only check own properties */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_ENUM_ARRAY_INDICES_ONLY</span><span class="normal">       </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">3</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* only enumerate array indices */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_ENUM_SORT_ARRAY_INDICES</span><span class="normal">       </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">4</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* sort array indices (applied to full enumeration result, including inherited array indices) */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_ENUM_NO_PROXY_BEHAVIOR</span><span class="normal">        </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">5</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* enumerate a proxy object itself without invoking proxy behavior */</span>
</pre><h2 class="sectiontitle" id="defines.10">Garbage collection flags for duk_gc() <a class="sectionlink" href="#defines.10">§</a></h2><pre class="c-code"><span class="comment">/* Flags for duk_gc() */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_GC_COMPACT</span><span class="normal">                    </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* compact heap objects */</span>
</pre><h2 class="sectiontitle" id="defines.11">Coercion hints <a class="sectionlink" href="#defines.11">§</a></h2><pre class="c-code"><span class="comment">/* Coercion hints */</span>
<span class="preproc">#define</span><span class="normal"> DUK_HINT_NONE         </span><span class="number">0</span><span class="normal">    </span><span class="comment">/* prefer number, unless coercion input is a Date, in which case prefer string (E5 Section 8.12.8) */</span>
<span class="preproc">#define</span><span class="normal"> DUK_HINT_STRING       </span><span class="number">1</span><span class="normal">    </span><span class="comment">/* prefer string */</span>
<span class="preproc">#define</span><span class="normal"> DUK_HINT_NUMBER       </span><span class="number">2</span><span class="normal">    </span><span class="comment">/* prefer number */</span>
</pre><h2 class="sectiontitle" id="defines.12">Flags for duk_push_thread_raw() <a class="sectionlink" href="#defines.12">§</a></h2><pre class="c-code"><span class="comment">/* Flags for duk_push_thread_raw() */</span>
<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_THREAD_NEW_GLOBAL_ENV</span><span class="normal">         </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal">    </span><span class="comment">/* create a new global environment */</span>
</pre><h2 class="sectiontitle" id="defines.13">Misc defines <a class="sectionlink" href="#defines.13">§</a></h2><pre class="c-code"><span class="preproc">#define</span><span class="normal"> </span><span class="usertype">DUK_INVALID_INDEX</span><span class="normal">     DUK_IDX_MIN</span>

<span class="preproc">#define</span><span class="normal"> </span><span class="function">DUK_VARARGS</span><span class="normal">           </span><span class="symbol">((</span><span class="normal">duk_int_t</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(-</span><span class="number">1</span><span class="symbol">))</span>

<span class="preproc">#define</span><span class="normal"> DUK_API_ENTRY_STACK   </span><span class="number">64</span>
</pre><hr/><h1 class="sectiontitle" id="bytag">API calls by tag <a class="sectionlink" href="#bytag">§</a></h1><h2 class="sectiontitle" id="taglist-1.0.0">1.0.0 <a class="sectionlink" href="#taglist-1.0.0">§</a></h2><ul class="taglist">
<li><a href="#duk_alloc">duk_alloc</a></li>
<li><a href="#duk_alloc_raw">duk_alloc_raw</a></li>
<li><a href="#duk_base64_decode">duk_base64_decode</a></li>
<li><a href="#duk_base64_encode">duk_base64_encode</a></li>
<li><a href="#duk_call">duk_call</a></li>
<li><a href="#duk_call_method">duk_call_method</a></li>
<li><a href="#duk_call_prop">duk_call_prop</a></li>
<li><a href="#duk_char_code_at">duk_char_code_at</a></li>
<li><a href="#duk_check_stack">duk_check_stack</a></li>
<li><a href="#duk_check_stack_top">duk_check_stack_top</a></li>
<li><a href="#duk_check_type">duk_check_type</a></li>
<li><a href="#duk_check_type_mask">duk_check_type_mask</a></li>
<li><a href="#duk_compact">duk_compact</a></li>
<li><a href="#duk_compile">duk_compile</a></li>
<li><a href="#duk_compile_lstring">duk_compile_lstring</a></li>
<li><a href="#duk_compile_lstring_filename">duk_compile_lstring_filename</a></li>
<li><a href="#duk_compile_string">duk_compile_string</a></li>
<li><a href="#duk_compile_string_filename">duk_compile_string_filename</a></li>
<li><a href="#duk_concat">duk_concat</a></li>
<li><a href="#duk_copy">duk_copy</a></li>
<li><a href="#duk_create_heap">duk_create_heap</a></li>
<li><a href="#duk_create_heap_default">duk_create_heap_default</a></li>
<li><a href="#duk_decode_string">duk_decode_string</a></li>
<li><a href="#duk_del_prop">duk_del_prop</a></li>
<li><a href="#duk_del_prop_index">duk_del_prop_index</a></li>
<li><a href="#duk_del_prop_string">duk_del_prop_string</a></li>
<li><a href="#duk_destroy_heap">duk_destroy_heap</a></li>
<li><a href="#duk_dup">duk_dup</a></li>
<li><a href="#duk_dup_top">duk_dup_top</a></li>
<li><a href="#duk_enum">duk_enum</a></li>
<li><a href="#duk_equals">duk_equals</a></li>
<li><a href="#duk_error">duk_error</a></li>
<li><a href="#duk_eval">duk_eval</a></li>
<li><a href="#duk_eval_lstring">duk_eval_lstring</a></li>
<li><a href="#duk_eval_lstring_noresult">duk_eval_lstring_noresult</a></li>
<li><a href="#duk_eval_noresult">duk_eval_noresult</a></li>
<li><a href="#duk_eval_string">duk_eval_string</a></li>
<li><a href="#duk_eval_string_noresult">duk_eval_string_noresult</a></li>
<li><a href="#duk_fatal">duk_fatal</a></li>
<li><a href="#duk_free">duk_free</a></li>
<li><a href="#duk_free_raw">duk_free_raw</a></li>
<li><a href="#duk_gc">duk_gc</a></li>
<li><a href="#duk_get_boolean">duk_get_boolean</a></li>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
<li><a href="#duk_get_c_function">duk_get_c_function</a></li>
<li><a href="#duk_get_context">duk_get_context</a></li>
<li><a href="#duk_get_current_magic">duk_get_current_magic</a></li>
<li><a href="#duk_get_finalizer">duk_get_finalizer</a></li>
<li><a href="#duk_get_global_string">duk_get_global_string</a></li>
<li><a href="#duk_get_int">duk_get_int</a></li>
<li><a href="#duk_get_length">duk_get_length</a></li>
<li><a href="#duk_get_lstring">duk_get_lstring</a></li>
<li><a href="#duk_get_magic">duk_get_magic</a></li>
<li><a href="#duk_get_memory_functions">duk_get_memory_functions</a></li>
<li><a href="#duk_get_number">duk_get_number</a></li>
<li><a href="#duk_get_pointer">duk_get_pointer</a></li>
<li><a href="#duk_get_prop">duk_get_prop</a></li>
<li><a href="#duk_get_prop_index">duk_get_prop_index</a></li>
<li><a href="#duk_get_prop_string">duk_get_prop_string</a></li>
<li><a href="#duk_get_prototype">duk_get_prototype</a></li>
<li><a href="#duk_get_string">duk_get_string</a></li>
<li><a href="#duk_get_top">duk_get_top</a></li>
<li><a href="#duk_get_top_index">duk_get_top_index</a></li>
<li><a href="#duk_get_type">duk_get_type</a></li>
<li><a href="#duk_get_type_mask">duk_get_type_mask</a></li>
<li><a href="#duk_get_uint">duk_get_uint</a></li>
<li><a href="#duk_has_prop">duk_has_prop</a></li>
<li><a href="#duk_has_prop_index">duk_has_prop_index</a></li>
<li><a href="#duk_has_prop_string">duk_has_prop_string</a></li>
<li><a href="#duk_hex_decode">duk_hex_decode</a></li>
<li><a href="#duk_hex_encode">duk_hex_encode</a></li>
<li><a href="#duk_insert">duk_insert</a></li>
<li><a href="#duk_is_array">duk_is_array</a></li>
<li><a href="#duk_is_boolean">duk_is_boolean</a></li>
<li><a href="#duk_is_bound_function">duk_is_bound_function</a></li>
<li><a href="#duk_is_buffer">duk_is_buffer</a></li>
<li><a href="#duk_is_c_function">duk_is_c_function</a></li>
<li><a href="#duk_is_callable">duk_is_callable</a></li>
<li><a href="#duk_is_constructor_call">duk_is_constructor_call</a></li>
<li><a href="#duk_is_dynamic_buffer">duk_is_dynamic_buffer</a></li>
<li><a href="#duk_is_ecmascript_function">duk_is_ecmascript_function</a></li>
<li><a href="#duk_is_fixed_buffer">duk_is_fixed_buffer</a></li>
<li><a href="#duk_is_function">duk_is_function</a></li>
<li><a href="#duk_is_nan">duk_is_nan</a></li>
<li><a href="#duk_is_null">duk_is_null</a></li>
<li><a href="#duk_is_null_or_undefined">duk_is_null_or_undefined</a></li>
<li><a href="#duk_is_number">duk_is_number</a></li>
<li><a href="#duk_is_object">duk_is_object</a></li>
<li><a href="#duk_is_object_coercible">duk_is_object_coercible</a></li>
<li><a href="#duk_is_pointer">duk_is_pointer</a></li>
<li><a href="#duk_is_primitive">duk_is_primitive</a></li>
<li><a href="#duk_is_strict_call">duk_is_strict_call</a></li>
<li><a href="#duk_is_string">duk_is_string</a></li>
<li><a href="#duk_is_thread">duk_is_thread</a></li>
<li><a href="#duk_is_undefined">duk_is_undefined</a></li>
<li><a href="#duk_is_valid_index">duk_is_valid_index</a></li>
<li><a href="#duk_join">duk_join</a></li>
<li><a href="#duk_json_decode">duk_json_decode</a></li>
<li><a href="#duk_json_encode">duk_json_encode</a></li>
<li><a href="#duk_map_string">duk_map_string</a></li>
<li><a href="#duk_new">duk_new</a></li>
<li><a href="#duk_next">duk_next</a></li>
<li><a href="#duk_normalize_index">duk_normalize_index</a></li>
<li><a href="#duk_pcall">duk_pcall</a></li>
<li><a href="#duk_pcall_method">duk_pcall_method</a></li>
<li><a href="#duk_pcall_prop">duk_pcall_prop</a></li>
<li><a href="#duk_pcompile">duk_pcompile</a></li>
<li><a href="#duk_pcompile_lstring">duk_pcompile_lstring</a></li>
<li><a href="#duk_pcompile_lstring_filename">duk_pcompile_lstring_filename</a></li>
<li><a href="#duk_pcompile_string">duk_pcompile_string</a></li>
<li><a href="#duk_pcompile_string_filename">duk_pcompile_string_filename</a></li>
<li><a href="#duk_peval">duk_peval</a></li>
<li><a href="#duk_peval_lstring">duk_peval_lstring</a></li>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
<li><a href="#duk_peval_noresult">duk_peval_noresult</a></li>
<li><a href="#duk_peval_string">duk_peval_string</a></li>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
<li><a href="#duk_pop">duk_pop</a></li>
<li><a href="#duk_pop_2">duk_pop_2</a></li>
<li><a href="#duk_pop_3">duk_pop_3</a></li>
<li><a href="#duk_pop_n">duk_pop_n</a></li>
<li><a href="#duk_push_array">duk_push_array</a></li>
<li><a href="#duk_push_boolean">duk_push_boolean</a></li>
<li><a href="#duk_push_buffer">duk_push_buffer</a></li>
<li><a href="#duk_push_c_function">duk_push_c_function</a></li>
<li><a href="#duk_push_context_dump">duk_push_context_dump</a></li>
<li><a href="#duk_push_current_function">duk_push_current_function</a></li>
<li><a href="#duk_push_current_thread">duk_push_current_thread</a></li>
<li><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_push_false">duk_push_false</a></li>
<li><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer</a></li>
<li><a href="#duk_push_global_object">duk_push_global_object</a></li>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_int">duk_push_int</a></li>
<li><a href="#duk_push_lstring">duk_push_lstring</a></li>
<li><a href="#duk_push_nan">duk_push_nan</a></li>
<li><a href="#duk_push_null">duk_push_null</a></li>
<li><a href="#duk_push_number">duk_push_number</a></li>
<li><a href="#duk_push_object">duk_push_object</a></li>
<li><a href="#duk_push_pointer">duk_push_pointer</a></li>
<li><a href="#duk_push_sprintf">duk_push_sprintf</a></li>
<li><a href="#duk_push_string">duk_push_string</a></li>
<li><a href="#duk_push_this">duk_push_this</a></li>
<li><a href="#duk_push_thread">duk_push_thread</a></li>
<li><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_push_true">duk_push_true</a></li>
<li><a href="#duk_push_uint">duk_push_uint</a></li>
<li><a href="#duk_push_undefined">duk_push_undefined</a></li>
<li><a href="#duk_push_vsprintf">duk_push_vsprintf</a></li>
<li><a href="#duk_put_function_list">duk_put_function_list</a></li>
<li><a href="#duk_put_global_string">duk_put_global_string</a></li>
<li><a href="#duk_put_number_list">duk_put_number_list</a></li>
<li><a href="#duk_put_prop">duk_put_prop</a></li>
<li><a href="#duk_put_prop_index">duk_put_prop_index</a></li>
<li><a href="#duk_put_prop_string">duk_put_prop_string</a></li>
<li><a href="#duk_realloc">duk_realloc</a></li>
<li><a href="#duk_realloc_raw">duk_realloc_raw</a></li>
<li><a href="#duk_remove">duk_remove</a></li>
<li><a href="#duk_replace">duk_replace</a></li>
<li><a href="#duk_require_boolean">duk_require_boolean</a></li>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
<li><a href="#duk_require_c_function">duk_require_c_function</a></li>
<li><a href="#duk_require_context">duk_require_context</a></li>
<li><a href="#duk_require_int">duk_require_int</a></li>
<li><a href="#duk_require_lstring">duk_require_lstring</a></li>
<li><a href="#duk_require_normalize_index">duk_require_normalize_index</a></li>
<li><a href="#duk_require_null">duk_require_null</a></li>
<li><a href="#duk_require_number">duk_require_number</a></li>
<li><a href="#duk_require_object_coercible">duk_require_object_coercible</a></li>
<li><a href="#duk_require_pointer">duk_require_pointer</a></li>
<li><a href="#duk_require_stack">duk_require_stack</a></li>
<li><a href="#duk_require_stack_top">duk_require_stack_top</a></li>
<li><a href="#duk_require_string">duk_require_string</a></li>
<li><a href="#duk_require_top_index">duk_require_top_index</a></li>
<li><a href="#duk_require_type_mask">duk_require_type_mask</a></li>
<li><a href="#duk_require_uint">duk_require_uint</a></li>
<li><a href="#duk_require_undefined">duk_require_undefined</a></li>
<li><a href="#duk_require_valid_index">duk_require_valid_index</a></li>
<li><a href="#duk_resize_buffer">duk_resize_buffer</a></li>
<li><a href="#duk_safe_call">duk_safe_call</a></li>
<li><a href="#duk_safe_to_lstring">duk_safe_to_lstring</a></li>
<li><a href="#duk_safe_to_string">duk_safe_to_string</a></li>
<li><a href="#duk_set_finalizer">duk_set_finalizer</a></li>
<li><a href="#duk_set_global_object">duk_set_global_object</a></li>
<li><a href="#duk_set_magic">duk_set_magic</a></li>
<li><a href="#duk_set_prototype">duk_set_prototype</a></li>
<li><a href="#duk_set_top">duk_set_top</a></li>
<li><a href="#duk_strict_equals">duk_strict_equals</a></li>
<li><a href="#duk_substring">duk_substring</a></li>
<li><a href="#duk_swap">duk_swap</a></li>
<li><a href="#duk_swap_top">duk_swap_top</a></li>
<li><a href="#duk_throw">duk_throw</a></li>
<li><a href="#duk_to_boolean">duk_to_boolean</a></li>
<li><a href="#duk_to_buffer">duk_to_buffer</a></li>
<li><a href="#duk_to_dynamic_buffer">duk_to_dynamic_buffer</a></li>
<li><a href="#duk_to_fixed_buffer">duk_to_fixed_buffer</a></li>
<li><a href="#duk_to_int">duk_to_int</a></li>
<li><a href="#duk_to_int32">duk_to_int32</a></li>
<li><a href="#duk_to_lstring">duk_to_lstring</a></li>
<li><a href="#duk_to_null">duk_to_null</a></li>
<li><a href="#duk_to_number">duk_to_number</a></li>
<li><a href="#duk_to_object">duk_to_object</a></li>
<li><a href="#duk_to_pointer">duk_to_pointer</a></li>
<li><a href="#duk_to_primitive">duk_to_primitive</a></li>
<li><a href="#duk_to_string">duk_to_string</a></li>
<li><a href="#duk_to_uint">duk_to_uint</a></li>
<li><a href="#duk_to_uint16">duk_to_uint16</a></li>
<li><a href="#duk_to_uint32">duk_to_uint32</a></li>
<li><a href="#duk_to_undefined">duk_to_undefined</a></li>
<li><a href="#duk_trim">duk_trim</a></li>
<li><a href="#duk_xcopy_top">duk_xcopy_top</a></li>
<li><a href="#duk_xmove_top">duk_xmove_top</a></li>
</ul><h2 class="sectiontitle" id="taglist-1.1.0">1.1.0 <a class="sectionlink" href="#taglist-1.1.0">§</a></h2><ul class="taglist">
<li><a href="#duk_def_prop">duk_def_prop</a></li>
<li><a href="#duk_error_va">duk_error_va</a></li>
<li><a href="#duk_get_error_code">duk_get_error_code</a></li>
<li><a href="#duk_get_heapptr">duk_get_heapptr</a></li>
<li><a href="#duk_is_error">duk_is_error</a></li>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
<li><a href="#duk_require_heapptr">duk_require_heapptr</a></li>
</ul><h2 class="sectiontitle" id="taglist-1.2.0">1.2.0 <a class="sectionlink" href="#taglist-1.2.0">§</a></h2><ul class="taglist">
<li><a href="#duk_debugger_attach">duk_debugger_attach</a></li>
<li><a href="#duk_debugger_cooperate">duk_debugger_cooperate</a></li>
<li><a href="#duk_debugger_detach">duk_debugger_detach</a></li>
</ul><h2 class="sectiontitle" id="taglist-1.3.0">1.3.0 <a class="sectionlink" href="#taglist-1.3.0">§</a></h2><ul class="taglist">
<li><a href="#duk_config_buffer">duk_config_buffer</a></li>
<li><a href="#duk_dump_function">duk_dump_function</a></li>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_instanceof">duk_instanceof</a></li>
<li><a href="#duk_load_function">duk_load_function</a></li>
<li><a href="#duk_pnew">duk_pnew</a></li>
<li><a href="#duk_push_buffer_object">duk_push_buffer_object</a></li>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
<li><a href="#duk_steal_buffer">duk_steal_buffer</a></li>
</ul><h2 class="sectiontitle" id="taglist-1.4.0">1.4.0 <a class="sectionlink" href="#taglist-1.4.0">§</a></h2><ul class="taglist">
<li><a href="#duk_is_eval_error">duk_is_eval_error</a></li>
<li><a href="#duk_is_range_error">duk_is_range_error</a></li>
<li><a href="#duk_is_reference_error">duk_is_reference_error</a></li>
<li><a href="#duk_is_syntax_error">duk_is_syntax_error</a></li>
<li><a href="#duk_is_type_error">duk_is_type_error</a></li>
<li><a href="#duk_is_uri_error">duk_is_uri_error</a></li>
<li><a href="#duk_require_callable">duk_require_callable</a></li>
<li><a href="#duk_require_function">duk_require_function</a></li>
</ul><h2 class="sectiontitle" id="taglist-1.5.0">1.5.0 <a class="sectionlink" href="#taglist-1.5.0">§</a></h2><ul class="taglist">
<li><a href="#duk_debugger_notify">duk_debugger_notify</a></li>
<li><a href="#duk_debugger_pause">duk_debugger_pause</a></li>
</ul><h2 class="sectiontitle" id="taglist-1.6.0">1.6.0 <a class="sectionlink" href="#taglist-1.6.0">§</a></h2><ul class="taglist">
<li><a href="#duk_resume">duk_resume</a></li>
<li><a href="#duk_suspend">duk_suspend</a></li>
</ul><h2 class="sectiontitle" id="taglist-2.0.0">2.0.0 <a class="sectionlink" href="#taglist-2.0.0">§</a></h2><ul class="taglist">
<li><a href="#duk_buffer_to_string">duk_buffer_to_string</a></li>
<li><a href="#duk_components_to_time">duk_components_to_time</a></li>
<li><a href="#duk_del_prop_lstring">duk_del_prop_lstring</a></li>
<li><a href="#duk_eval_error">duk_eval_error</a></li>
<li><a href="#duk_eval_error_va">duk_eval_error_va</a></li>
<li><a href="#duk_generic_error">duk_generic_error</a></li>
<li><a href="#duk_generic_error_va">duk_generic_error_va</a></li>
<li><a href="#duk_get_global_lstring">duk_get_global_lstring</a></li>
<li><a href="#duk_get_now">duk_get_now</a></li>
<li><a href="#duk_get_prop_desc">duk_get_prop_desc</a></li>
<li><a href="#duk_get_prop_lstring">duk_get_prop_lstring</a></li>
<li><a href="#duk_has_prop_lstring">duk_has_prop_lstring</a></li>
<li><a href="#duk_inspect_callstack_entry">duk_inspect_callstack_entry</a></li>
<li><a href="#duk_inspect_value">duk_inspect_value</a></li>
<li><a href="#duk_is_buffer_data">duk_is_buffer_data</a></li>
<li><a href="#duk_is_symbol">duk_is_symbol</a></li>
<li><a href="#duk_push_bare_object">duk_push_bare_object</a></li>
<li><a href="#duk_put_global_lstring">duk_put_global_lstring</a></li>
<li><a href="#duk_put_prop_lstring">duk_put_prop_lstring</a></li>
<li><a href="#duk_range_error">duk_range_error</a></li>
<li><a href="#duk_range_error_va">duk_range_error_va</a></li>
<li><a href="#duk_reference_error">duk_reference_error</a></li>
<li><a href="#duk_reference_error_va">duk_reference_error_va</a></li>
<li><a href="#duk_samevalue">duk_samevalue</a></li>
<li><a href="#duk_set_length">duk_set_length</a></li>
<li><a href="#duk_syntax_error">duk_syntax_error</a></li>
<li><a href="#duk_syntax_error_va">duk_syntax_error_va</a></li>
<li><a href="#duk_time_to_components">duk_time_to_components</a></li>
<li><a href="#duk_type_error">duk_type_error</a></li>
<li><a href="#duk_type_error_va">duk_type_error_va</a></li>
<li><a href="#duk_uri_error">duk_uri_error</a></li>
<li><a href="#duk_uri_error_va">duk_uri_error_va</a></li>
</ul><h2 class="sectiontitle" id="taglist-borrowed">borrowed <a class="sectionlink" href="#taglist-borrowed">§</a></h2><ul class="taglist">
<li><a href="#duk_get_context">duk_get_context</a></li>
<li><a href="#duk_get_heapptr">duk_get_heapptr</a></li>
<li><a href="#duk_push_current_thread">duk_push_current_thread</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
<li><a href="#duk_push_thread">duk_push_thread</a></li>
<li><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv</a></li>
<li><a href="#duk_require_context">duk_require_context</a></li>
<li><a href="#duk_require_heapptr">duk_require_heapptr</a></li>
</ul><h2 class="sectiontitle" id="taglist-buffer">buffer <a class="sectionlink" href="#taglist-buffer">§</a></h2><ul class="taglist">
<li><a href="#duk_buffer_to_string">duk_buffer_to_string</a></li>
<li><a href="#duk_config_buffer">duk_config_buffer</a></li>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_is_buffer">duk_is_buffer</a></li>
<li><a href="#duk_is_buffer_data">duk_is_buffer_data</a></li>
<li><a href="#duk_is_dynamic_buffer">duk_is_dynamic_buffer</a></li>
<li><a href="#duk_is_fixed_buffer">duk_is_fixed_buffer</a></li>
<li><a href="#duk_push_buffer">duk_push_buffer</a></li>
<li><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer</a></li>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
<li><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer</a></li>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
<li><a href="#duk_resize_buffer">duk_resize_buffer</a></li>
<li><a href="#duk_steal_buffer">duk_steal_buffer</a></li>
<li><a href="#duk_to_buffer">duk_to_buffer</a></li>
<li><a href="#duk_to_dynamic_buffer">duk_to_dynamic_buffer</a></li>
<li><a href="#duk_to_fixed_buffer">duk_to_fixed_buffer</a></li>
</ul><h2 class="sectiontitle" id="taglist-bufferobject">bufferobject <a class="sectionlink" href="#taglist-bufferobject">§</a></h2><ul class="taglist">
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_push_buffer_object">duk_push_buffer_object</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
</ul><h2 class="sectiontitle" id="taglist-bytecode">bytecode <a class="sectionlink" href="#taglist-bytecode">§</a></h2><ul class="taglist">
<li><a href="#duk_dump_function">duk_dump_function</a></li>
<li><a href="#duk_load_function">duk_load_function</a></li>
</ul><h2 class="sectiontitle" id="taglist-call">call <a class="sectionlink" href="#taglist-call">§</a></h2><ul class="taglist">
<li><a href="#duk_call">duk_call</a></li>
<li><a href="#duk_call_method">duk_call_method</a></li>
<li><a href="#duk_call_prop">duk_call_prop</a></li>
<li><a href="#duk_new">duk_new</a></li>
<li><a href="#duk_pcall">duk_pcall</a></li>
<li><a href="#duk_pcall_method">duk_pcall_method</a></li>
<li><a href="#duk_pcall_prop">duk_pcall_prop</a></li>
<li><a href="#duk_pnew">duk_pnew</a></li>
<li><a href="#duk_safe_call">duk_safe_call</a></li>
</ul><h2 class="sectiontitle" id="taglist-codec">codec <a class="sectionlink" href="#taglist-codec">§</a></h2><ul class="taglist">
<li><a href="#duk_base64_decode">duk_base64_decode</a></li>
<li><a href="#duk_base64_encode">duk_base64_encode</a></li>
<li><a href="#duk_hex_decode">duk_hex_decode</a></li>
<li><a href="#duk_hex_encode">duk_hex_encode</a></li>
<li><a href="#duk_json_decode">duk_json_decode</a></li>
<li><a href="#duk_json_encode">duk_json_encode</a></li>
</ul><h2 class="sectiontitle" id="taglist-compare">compare <a class="sectionlink" href="#taglist-compare">§</a></h2><ul class="taglist">
<li><a href="#duk_equals">duk_equals</a></li>
<li><a href="#duk_instanceof">duk_instanceof</a></li>
<li><a href="#duk_samevalue">duk_samevalue</a></li>
<li><a href="#duk_strict_equals">duk_strict_equals</a></li>
</ul><h2 class="sectiontitle" id="taglist-compile">compile <a class="sectionlink" href="#taglist-compile">§</a></h2><ul class="taglist">
<li><a href="#duk_compile">duk_compile</a></li>
<li><a href="#duk_compile_lstring">duk_compile_lstring</a></li>
<li><a href="#duk_compile_lstring_filename">duk_compile_lstring_filename</a></li>
<li><a href="#duk_compile_string">duk_compile_string</a></li>
<li><a href="#duk_compile_string_filename">duk_compile_string_filename</a></li>
<li><a href="#duk_eval">duk_eval</a></li>
<li><a href="#duk_eval_lstring">duk_eval_lstring</a></li>
<li><a href="#duk_eval_lstring_noresult">duk_eval_lstring_noresult</a></li>
<li><a href="#duk_eval_noresult">duk_eval_noresult</a></li>
<li><a href="#duk_eval_string">duk_eval_string</a></li>
<li><a href="#duk_eval_string_noresult">duk_eval_string_noresult</a></li>
<li><a href="#duk_pcompile">duk_pcompile</a></li>
<li><a href="#duk_pcompile_lstring">duk_pcompile_lstring</a></li>
<li><a href="#duk_pcompile_lstring_filename">duk_pcompile_lstring_filename</a></li>
<li><a href="#duk_pcompile_string">duk_pcompile_string</a></li>
<li><a href="#duk_pcompile_string_filename">duk_pcompile_string_filename</a></li>
<li><a href="#duk_peval">duk_peval</a></li>
<li><a href="#duk_peval_lstring">duk_peval_lstring</a></li>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
<li><a href="#duk_peval_noresult">duk_peval_noresult</a></li>
<li><a href="#duk_peval_string">duk_peval_string</a></li>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
</ul><h2 class="sectiontitle" id="taglist-debug">debug <a class="sectionlink" href="#taglist-debug">§</a></h2><ul class="taglist">
<li><a href="#duk_push_context_dump">duk_push_context_dump</a></li>
</ul><h2 class="sectiontitle" id="taglist-debugger">debugger <a class="sectionlink" href="#taglist-debugger">§</a></h2><ul class="taglist">
<li><a href="#duk_debugger_attach">duk_debugger_attach</a></li>
<li><a href="#duk_debugger_cooperate">duk_debugger_cooperate</a></li>
<li><a href="#duk_debugger_detach">duk_debugger_detach</a></li>
<li><a href="#duk_debugger_notify">duk_debugger_notify</a></li>
<li><a href="#duk_debugger_pause">duk_debugger_pause</a></li>
</ul><h2 class="sectiontitle" id="taglist-error">error <a class="sectionlink" href="#taglist-error">§</a></h2><ul class="taglist">
<li><a href="#duk_error">duk_error</a></li>
<li><a href="#duk_error_va">duk_error_va</a></li>
<li><a href="#duk_eval_error">duk_eval_error</a></li>
<li><a href="#duk_eval_error_va">duk_eval_error_va</a></li>
<li><a href="#duk_fatal">duk_fatal</a></li>
<li><a href="#duk_generic_error">duk_generic_error</a></li>
<li><a href="#duk_generic_error_va">duk_generic_error_va</a></li>
<li><a href="#duk_get_error_code">duk_get_error_code</a></li>
<li><a href="#duk_is_error">duk_is_error</a></li>
<li><a href="#duk_is_eval_error">duk_is_eval_error</a></li>
<li><a href="#duk_is_range_error">duk_is_range_error</a></li>
<li><a href="#duk_is_reference_error">duk_is_reference_error</a></li>
<li><a href="#duk_is_syntax_error">duk_is_syntax_error</a></li>
<li><a href="#duk_is_type_error">duk_is_type_error</a></li>
<li><a href="#duk_is_uri_error">duk_is_uri_error</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
<li><a href="#duk_range_error">duk_range_error</a></li>
<li><a href="#duk_range_error_va">duk_range_error_va</a></li>
<li><a href="#duk_reference_error">duk_reference_error</a></li>
<li><a href="#duk_reference_error_va">duk_reference_error_va</a></li>
<li><a href="#duk_syntax_error">duk_syntax_error</a></li>
<li><a href="#duk_syntax_error_va">duk_syntax_error_va</a></li>
<li><a href="#duk_throw">duk_throw</a></li>
<li><a href="#duk_type_error">duk_type_error</a></li>
<li><a href="#duk_type_error_va">duk_type_error_va</a></li>
<li><a href="#duk_uri_error">duk_uri_error</a></li>
<li><a href="#duk_uri_error_va">duk_uri_error_va</a></li>
</ul><h2 class="sectiontitle" id="taglist-experimental">experimental <a class="sectionlink" href="#taglist-experimental">§</a></h2><ul class="taglist">
<li><a href="#duk_components_to_time">duk_components_to_time</a></li>
<li><a href="#duk_get_now">duk_get_now</a></li>
<li><a href="#duk_time_to_components">duk_time_to_components</a></li>
</ul><h2 class="sectiontitle" id="taglist-finalizer">finalizer <a class="sectionlink" href="#taglist-finalizer">§</a></h2><ul class="taglist">
<li><a href="#duk_get_finalizer">duk_get_finalizer</a></li>
<li><a href="#duk_set_finalizer">duk_set_finalizer</a></li>
</ul><h2 class="sectiontitle" id="taglist-function">function <a class="sectionlink" href="#taglist-function">§</a></h2><ul class="taglist">
<li><a href="#duk_get_c_function">duk_get_c_function</a></li>
<li><a href="#duk_get_current_magic">duk_get_current_magic</a></li>
<li><a href="#duk_get_magic">duk_get_magic</a></li>
<li><a href="#duk_is_bound_function">duk_is_bound_function</a></li>
<li><a href="#duk_is_c_function">duk_is_c_function</a></li>
<li><a href="#duk_is_ecmascript_function">duk_is_ecmascript_function</a></li>
<li><a href="#duk_is_function">duk_is_function</a></li>
<li><a href="#duk_is_strict_call">duk_is_strict_call</a></li>
<li><a href="#duk_push_c_function">duk_push_c_function</a></li>
<li><a href="#duk_push_c_lightfunc">duk_push_c_lightfunc</a></li>
<li><a href="#duk_push_current_function">duk_push_current_function</a></li>
<li><a href="#duk_push_current_thread">duk_push_current_thread</a></li>
<li><a href="#duk_push_this">duk_push_this</a></li>
<li><a href="#duk_require_c_function">duk_require_c_function</a></li>
<li><a href="#duk_set_magic">duk_set_magic</a></li>
</ul><h2 class="sectiontitle" id="taglist-heap">heap <a class="sectionlink" href="#taglist-heap">§</a></h2><ul class="taglist">
<li><a href="#duk_create_heap">duk_create_heap</a></li>
<li><a href="#duk_create_heap_default">duk_create_heap_default</a></li>
<li><a href="#duk_destroy_heap">duk_destroy_heap</a></li>
<li><a href="#duk_gc">duk_gc</a></li>
<li><a href="#duk_get_memory_functions">duk_get_memory_functions</a></li>
</ul><h2 class="sectiontitle" id="taglist-inspect">inspect <a class="sectionlink" href="#taglist-inspect">§</a></h2><ul class="taglist">
<li><a href="#duk_inspect_callstack_entry">duk_inspect_callstack_entry</a></li>
<li><a href="#duk_inspect_value">duk_inspect_value</a></li>
</ul><h2 class="sectiontitle" id="taglist-json">json <a class="sectionlink" href="#taglist-json">§</a></h2><ul class="taglist">
<li><a href="#duk_json_decode">duk_json_decode</a></li>
<li><a href="#duk_json_encode">duk_json_encode</a></li>
</ul><h2 class="sectiontitle" id="taglist-lightfunc">lightfunc <a class="sectionlink" href="#taglist-lightfunc">§</a></h2><ul class="taglist">
<li><a href="#duk_push_c_lightfunc">duk_push_c_lightfunc</a></li>
</ul><h2 class="sectiontitle" id="taglist-magic">magic <a class="sectionlink" href="#taglist-magic">§</a></h2><ul class="taglist">
<li><a href="#duk_get_current_magic">duk_get_current_magic</a></li>
<li><a href="#duk_get_magic">duk_get_magic</a></li>
<li><a href="#duk_set_magic">duk_set_magic</a></li>
</ul><h2 class="sectiontitle" id="taglist-memory">memory <a class="sectionlink" href="#taglist-memory">§</a></h2><ul class="taglist">
<li><a href="#duk_alloc">duk_alloc</a></li>
<li><a href="#duk_alloc_raw">duk_alloc_raw</a></li>
<li><a href="#duk_compact">duk_compact</a></li>
<li><a href="#duk_free">duk_free</a></li>
<li><a href="#duk_free_raw">duk_free_raw</a></li>
<li><a href="#duk_gc">duk_gc</a></li>
<li><a href="#duk_get_memory_functions">duk_get_memory_functions</a></li>
<li><a href="#duk_realloc">duk_realloc</a></li>
<li><a href="#duk_realloc_raw">duk_realloc_raw</a></li>
</ul><h2 class="sectiontitle" id="taglist-module">module <a class="sectionlink" href="#taglist-module">§</a></h2><ul class="taglist">
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_put_function_list">duk_put_function_list</a></li>
<li><a href="#duk_put_number_list">duk_put_number_list</a></li>
</ul><h2 class="sectiontitle" id="taglist-object">object <a class="sectionlink" href="#taglist-object">§</a></h2><ul class="taglist">
<li><a href="#duk_compact">duk_compact</a></li>
<li><a href="#duk_enum">duk_enum</a></li>
<li><a href="#duk_get_finalizer">duk_get_finalizer</a></li>
<li><a href="#duk_get_prototype">duk_get_prototype</a></li>
<li><a href="#duk_is_object">duk_is_object</a></li>
<li><a href="#duk_is_object_coercible">duk_is_object_coercible</a></li>
<li><a href="#duk_new">duk_new</a></li>
<li><a href="#duk_next">duk_next</a></li>
<li><a href="#duk_pnew">duk_pnew</a></li>
<li><a href="#duk_push_array">duk_push_array</a></li>
<li><a href="#duk_push_bare_object">duk_push_bare_object</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
<li><a href="#duk_push_global_object">duk_push_global_object</a></li>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
<li><a href="#duk_push_object">duk_push_object</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_require_object_coercible">duk_require_object_coercible</a></li>
<li><a href="#duk_set_finalizer">duk_set_finalizer</a></li>
<li><a href="#duk_set_prototype">duk_set_prototype</a></li>
<li><a href="#duk_to_object">duk_to_object</a></li>
</ul><h2 class="sectiontitle" id="taglist-property">property <a class="sectionlink" href="#taglist-property">§</a></h2><ul class="taglist">
<li><a href="#duk_call_prop">duk_call_prop</a></li>
<li><a href="#duk_compact">duk_compact</a></li>
<li><a href="#duk_def_prop">duk_def_prop</a></li>
<li><a href="#duk_del_prop">duk_del_prop</a></li>
<li><a href="#duk_del_prop_index">duk_del_prop_index</a></li>
<li><a href="#duk_del_prop_lstring">duk_del_prop_lstring</a></li>
<li><a href="#duk_del_prop_string">duk_del_prop_string</a></li>
<li><a href="#duk_enum">duk_enum</a></li>
<li><a href="#duk_get_global_lstring">duk_get_global_lstring</a></li>
<li><a href="#duk_get_global_string">duk_get_global_string</a></li>
<li><a href="#duk_get_prop">duk_get_prop</a></li>
<li><a href="#duk_get_prop_desc">duk_get_prop_desc</a></li>
<li><a href="#duk_get_prop_index">duk_get_prop_index</a></li>
<li><a href="#duk_get_prop_lstring">duk_get_prop_lstring</a></li>
<li><a href="#duk_get_prop_string">duk_get_prop_string</a></li>
<li><a href="#duk_has_prop">duk_has_prop</a></li>
<li><a href="#duk_has_prop_index">duk_has_prop_index</a></li>
<li><a href="#duk_has_prop_lstring">duk_has_prop_lstring</a></li>
<li><a href="#duk_has_prop_string">duk_has_prop_string</a></li>
<li><a href="#duk_next">duk_next</a></li>
<li><a href="#duk_pcall_prop">duk_pcall_prop</a></li>
<li><a href="#duk_put_function_list">duk_put_function_list</a></li>
<li><a href="#duk_put_global_lstring">duk_put_global_lstring</a></li>
<li><a href="#duk_put_global_string">duk_put_global_string</a></li>
<li><a href="#duk_put_number_list">duk_put_number_list</a></li>
<li><a href="#duk_put_prop">duk_put_prop</a></li>
<li><a href="#duk_put_prop_index">duk_put_prop_index</a></li>
<li><a href="#duk_put_prop_lstring">duk_put_prop_lstring</a></li>
<li><a href="#duk_put_prop_string">duk_put_prop_string</a></li>
</ul><h2 class="sectiontitle" id="taglist-protected">protected <a class="sectionlink" href="#taglist-protected">§</a></h2><ul class="taglist">
<li><a href="#duk_pcall">duk_pcall</a></li>
<li><a href="#duk_pcall_method">duk_pcall_method</a></li>
<li><a href="#duk_pcall_prop">duk_pcall_prop</a></li>
<li><a href="#duk_pcompile">duk_pcompile</a></li>
<li><a href="#duk_pcompile_lstring">duk_pcompile_lstring</a></li>
<li><a href="#duk_pcompile_lstring_filename">duk_pcompile_lstring_filename</a></li>
<li><a href="#duk_pcompile_string">duk_pcompile_string</a></li>
<li><a href="#duk_pcompile_string_filename">duk_pcompile_string_filename</a></li>
<li><a href="#duk_peval">duk_peval</a></li>
<li><a href="#duk_peval_lstring">duk_peval_lstring</a></li>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
<li><a href="#duk_peval_noresult">duk_peval_noresult</a></li>
<li><a href="#duk_peval_string">duk_peval_string</a></li>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
<li><a href="#duk_pnew">duk_pnew</a></li>
<li><a href="#duk_safe_call">duk_safe_call</a></li>
<li><a href="#duk_safe_to_string">duk_safe_to_string</a></li>
</ul><h2 class="sectiontitle" id="taglist-prototype">prototype <a class="sectionlink" href="#taglist-prototype">§</a></h2><ul class="taglist">
<li><a href="#duk_get_prototype">duk_get_prototype</a></li>
<li><a href="#duk_set_prototype">duk_set_prototype</a></li>
</ul><h2 class="sectiontitle" id="taglist-sandbox">sandbox <a class="sectionlink" href="#taglist-sandbox">§</a></h2><ul class="taglist">
<li><a href="#duk_def_prop">duk_def_prop</a></li>
<li><a href="#duk_get_prop_desc">duk_get_prop_desc</a></li>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_set_global_object">duk_set_global_object</a></li>
</ul><h2 class="sectiontitle" id="taglist-slice">slice <a class="sectionlink" href="#taglist-slice">§</a></h2><ul class="taglist">
<li><a href="#duk_xcopy_top">duk_xcopy_top</a></li>
<li><a href="#duk_xmove_top">duk_xmove_top</a></li>
</ul><h2 class="sectiontitle" id="taglist-stack">stack <a class="sectionlink" href="#taglist-stack">§</a></h2><ul class="taglist">
<li><a href="#duk_buffer_to_string">duk_buffer_to_string</a></li>
<li><a href="#duk_check_stack">duk_check_stack</a></li>
<li><a href="#duk_check_stack_top">duk_check_stack_top</a></li>
<li><a href="#duk_check_type">duk_check_type</a></li>
<li><a href="#duk_check_type_mask">duk_check_type_mask</a></li>
<li><a href="#duk_config_buffer">duk_config_buffer</a></li>
<li><a href="#duk_copy">duk_copy</a></li>
<li><a href="#duk_dump_function">duk_dump_function</a></li>
<li><a href="#duk_dup">duk_dup</a></li>
<li><a href="#duk_dup_top">duk_dup_top</a></li>
<li><a href="#duk_get_boolean">duk_get_boolean</a></li>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_get_c_function">duk_get_c_function</a></li>
<li><a href="#duk_get_context">duk_get_context</a></li>
<li><a href="#duk_get_error_code">duk_get_error_code</a></li>
<li><a href="#duk_get_heapptr">duk_get_heapptr</a></li>
<li><a href="#duk_get_int">duk_get_int</a></li>
<li><a href="#duk_get_length">duk_get_length</a></li>
<li><a href="#duk_get_lstring">duk_get_lstring</a></li>
<li><a href="#duk_get_pointer">duk_get_pointer</a></li>
<li><a href="#duk_get_string">duk_get_string</a></li>
<li><a href="#duk_get_top">duk_get_top</a></li>
<li><a href="#duk_get_top_index">duk_get_top_index</a></li>
<li><a href="#duk_get_type">duk_get_type</a></li>
<li><a href="#duk_get_type_mask">duk_get_type_mask</a></li>
<li><a href="#duk_get_uint">duk_get_uint</a></li>
<li><a href="#duk_has_prop">duk_has_prop</a></li>
<li><a href="#duk_has_prop_index">duk_has_prop_index</a></li>
<li><a href="#duk_has_prop_lstring">duk_has_prop_lstring</a></li>
<li><a href="#duk_has_prop_string">duk_has_prop_string</a></li>
<li><a href="#duk_insert">duk_insert</a></li>
<li><a href="#duk_inspect_callstack_entry">duk_inspect_callstack_entry</a></li>
<li><a href="#duk_inspect_value">duk_inspect_value</a></li>
<li><a href="#duk_is_array">duk_is_array</a></li>
<li><a href="#duk_is_boolean">duk_is_boolean</a></li>
<li><a href="#duk_is_bound_function">duk_is_bound_function</a></li>
<li><a href="#duk_is_buffer">duk_is_buffer</a></li>
<li><a href="#duk_is_buffer_data">duk_is_buffer_data</a></li>
<li><a href="#duk_is_c_function">duk_is_c_function</a></li>
<li><a href="#duk_is_callable">duk_is_callable</a></li>
<li><a href="#duk_is_constructor_call">duk_is_constructor_call</a></li>
<li><a href="#duk_is_dynamic_buffer">duk_is_dynamic_buffer</a></li>
<li><a href="#duk_is_ecmascript_function">duk_is_ecmascript_function</a></li>
<li><a href="#duk_is_error">duk_is_error</a></li>
<li><a href="#duk_is_eval_error">duk_is_eval_error</a></li>
<li><a href="#duk_is_fixed_buffer">duk_is_fixed_buffer</a></li>
<li><a href="#duk_is_function">duk_is_function</a></li>
<li><a href="#duk_is_lightfunc">duk_is_lightfunc</a></li>
<li><a href="#duk_is_nan">duk_is_nan</a></li>
<li><a href="#duk_is_null">duk_is_null</a></li>
<li><a href="#duk_is_null_or_undefined">duk_is_null_or_undefined</a></li>
<li><a href="#duk_is_number">duk_is_number</a></li>
<li><a href="#duk_is_object">duk_is_object</a></li>
<li><a href="#duk_is_object_coercible">duk_is_object_coercible</a></li>
<li><a href="#duk_is_pointer">duk_is_pointer</a></li>
<li><a href="#duk_is_primitive">duk_is_primitive</a></li>
<li><a href="#duk_is_range_error">duk_is_range_error</a></li>
<li><a href="#duk_is_reference_error">duk_is_reference_error</a></li>
<li><a href="#duk_is_string">duk_is_string</a></li>
<li><a href="#duk_is_symbol">duk_is_symbol</a></li>
<li><a href="#duk_is_syntax_error">duk_is_syntax_error</a></li>
<li><a href="#duk_is_thread">duk_is_thread</a></li>
<li><a href="#duk_is_type_error">duk_is_type_error</a></li>
<li><a href="#duk_is_undefined">duk_is_undefined</a></li>
<li><a href="#duk_is_uri_error">duk_is_uri_error</a></li>
<li><a href="#duk_is_valid_index">duk_is_valid_index</a></li>
<li><a href="#duk_load_function">duk_load_function</a></li>
<li><a href="#duk_normalize_index">duk_normalize_index</a></li>
<li><a href="#duk_pop">duk_pop</a></li>
<li><a href="#duk_pop_2">duk_pop_2</a></li>
<li><a href="#duk_pop_3">duk_pop_3</a></li>
<li><a href="#duk_pop_n">duk_pop_n</a></li>
<li><a href="#duk_push_array">duk_push_array</a></li>
<li><a href="#duk_push_bare_object">duk_push_bare_object</a></li>
<li><a href="#duk_push_boolean">duk_push_boolean</a></li>
<li><a href="#duk_push_buffer">duk_push_buffer</a></li>
<li><a href="#duk_push_buffer_object">duk_push_buffer_object</a></li>
<li><a href="#duk_push_c_function">duk_push_c_function</a></li>
<li><a href="#duk_push_c_lightfunc">duk_push_c_lightfunc</a></li>
<li><a href="#duk_push_context_dump">duk_push_context_dump</a></li>
<li><a href="#duk_push_current_function">duk_push_current_function</a></li>
<li><a href="#duk_push_current_thread">duk_push_current_thread</a></li>
<li><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
<li><a href="#duk_push_false">duk_push_false</a></li>
<li><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer</a></li>
<li><a href="#duk_push_global_object">duk_push_global_object</a></li>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
<li><a href="#duk_push_int">duk_push_int</a></li>
<li><a href="#duk_push_lstring">duk_push_lstring</a></li>
<li><a href="#duk_push_nan">duk_push_nan</a></li>
<li><a href="#duk_push_null">duk_push_null</a></li>
<li><a href="#duk_push_number">duk_push_number</a></li>
<li><a href="#duk_push_object">duk_push_object</a></li>
<li><a href="#duk_push_pointer">duk_push_pointer</a></li>
<li><a href="#duk_push_sprintf">duk_push_sprintf</a></li>
<li><a href="#duk_push_string">duk_push_string</a></li>
<li><a href="#duk_push_this">duk_push_this</a></li>
<li><a href="#duk_push_thread">duk_push_thread</a></li>
<li><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_push_true">duk_push_true</a></li>
<li><a href="#duk_push_uint">duk_push_uint</a></li>
<li><a href="#duk_push_undefined">duk_push_undefined</a></li>
<li><a href="#duk_push_vsprintf">duk_push_vsprintf</a></li>
<li><a href="#duk_remove">duk_remove</a></li>
<li><a href="#duk_replace">duk_replace</a></li>
<li><a href="#duk_require_boolean">duk_require_boolean</a></li>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
<li><a href="#duk_require_c_function">duk_require_c_function</a></li>
<li><a href="#duk_require_callable">duk_require_callable</a></li>
<li><a href="#duk_require_context">duk_require_context</a></li>
<li><a href="#duk_require_function">duk_require_function</a></li>
<li><a href="#duk_require_heapptr">duk_require_heapptr</a></li>
<li><a href="#duk_require_int">duk_require_int</a></li>
<li><a href="#duk_require_lstring">duk_require_lstring</a></li>
<li><a href="#duk_require_normalize_index">duk_require_normalize_index</a></li>
<li><a href="#duk_require_null">duk_require_null</a></li>
<li><a href="#duk_require_number">duk_require_number</a></li>
<li><a href="#duk_require_object_coercible">duk_require_object_coercible</a></li>
<li><a href="#duk_require_pointer">duk_require_pointer</a></li>
<li><a href="#duk_require_stack">duk_require_stack</a></li>
<li><a href="#duk_require_stack_top">duk_require_stack_top</a></li>
<li><a href="#duk_require_string">duk_require_string</a></li>
<li><a href="#duk_require_top_index">duk_require_top_index</a></li>
<li><a href="#duk_require_type_mask">duk_require_type_mask</a></li>
<li><a href="#duk_require_uint">duk_require_uint</a></li>
<li><a href="#duk_require_undefined">duk_require_undefined</a></li>
<li><a href="#duk_require_valid_index">duk_require_valid_index</a></li>
<li><a href="#duk_resize_buffer">duk_resize_buffer</a></li>
<li><a href="#duk_safe_to_lstring">duk_safe_to_lstring</a></li>
<li><a href="#duk_safe_to_string">duk_safe_to_string</a></li>
<li><a href="#duk_set_global_object">duk_set_global_object</a></li>
<li><a href="#duk_set_length">duk_set_length</a></li>
<li><a href="#duk_set_top">duk_set_top</a></li>
<li><a href="#duk_steal_buffer">duk_steal_buffer</a></li>
<li><a href="#duk_swap">duk_swap</a></li>
<li><a href="#duk_swap_top">duk_swap_top</a></li>
<li><a href="#duk_to_boolean">duk_to_boolean</a></li>
<li><a href="#duk_to_buffer">duk_to_buffer</a></li>
<li><a href="#duk_to_dynamic_buffer">duk_to_dynamic_buffer</a></li>
<li><a href="#duk_to_fixed_buffer">duk_to_fixed_buffer</a></li>
<li><a href="#duk_to_int">duk_to_int</a></li>
<li><a href="#duk_to_int32">duk_to_int32</a></li>
<li><a href="#duk_to_lstring">duk_to_lstring</a></li>
<li><a href="#duk_to_null">duk_to_null</a></li>
<li><a href="#duk_to_number">duk_to_number</a></li>
<li><a href="#duk_to_object">duk_to_object</a></li>
<li><a href="#duk_to_pointer">duk_to_pointer</a></li>
<li><a href="#duk_to_primitive">duk_to_primitive</a></li>
<li><a href="#duk_to_string">duk_to_string</a></li>
<li><a href="#duk_to_uint">duk_to_uint</a></li>
<li><a href="#duk_to_uint16">duk_to_uint16</a></li>
<li><a href="#duk_to_uint32">duk_to_uint32</a></li>
<li><a href="#duk_to_undefined">duk_to_undefined</a></li>
<li><a href="#duk_trim">duk_trim</a></li>
<li><a href="#duk_xcopy_top">duk_xcopy_top</a></li>
<li><a href="#duk_xmove_top">duk_xmove_top</a></li>
</ul><h2 class="sectiontitle" id="taglist-stash">stash <a class="sectionlink" href="#taglist-stash">§</a></h2><ul class="taglist">
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
</ul><h2 class="sectiontitle" id="taglist-string">string <a class="sectionlink" href="#taglist-string">§</a></h2><ul class="taglist">
<li><a href="#duk_buffer_to_string">duk_buffer_to_string</a></li>
<li><a href="#duk_char_code_at">duk_char_code_at</a></li>
<li><a href="#duk_concat">duk_concat</a></li>
<li><a href="#duk_decode_string">duk_decode_string</a></li>
<li><a href="#duk_get_string">duk_get_string</a></li>
<li><a href="#duk_is_string">duk_is_string</a></li>
<li><a href="#duk_is_symbol">duk_is_symbol</a></li>
<li><a href="#duk_join">duk_join</a></li>
<li><a href="#duk_map_string">duk_map_string</a></li>
<li><a href="#duk_push_lstring">duk_push_lstring</a></li>
<li><a href="#duk_push_sprintf">duk_push_sprintf</a></li>
<li><a href="#duk_push_string">duk_push_string</a></li>
<li><a href="#duk_push_vsprintf">duk_push_vsprintf</a></li>
<li><a href="#duk_require_lstring">duk_require_lstring</a></li>
<li><a href="#duk_require_string">duk_require_string</a></li>
<li><a href="#duk_safe_to_lstring">duk_safe_to_lstring</a></li>
<li><a href="#duk_safe_to_string">duk_safe_to_string</a></li>
<li><a href="#duk_substring">duk_substring</a></li>
<li><a href="#duk_to_lstring">duk_to_lstring</a></li>
<li><a href="#duk_to_string">duk_to_string</a></li>
<li><a href="#duk_trim">duk_trim</a></li>
</ul><h2 class="sectiontitle" id="taglist-symbol">symbol <a class="sectionlink" href="#taglist-symbol">§</a></h2><ul class="taglist">
<li><a href="#duk_is_symbol">duk_is_symbol</a></li>
</ul><h2 class="sectiontitle" id="taglist-thread">thread <a class="sectionlink" href="#taglist-thread">§</a></h2><ul class="taglist">
<li><a href="#duk_is_thread">duk_is_thread</a></li>
<li><a href="#duk_push_current_thread">duk_push_current_thread</a></li>
<li><a href="#duk_push_thread">duk_push_thread</a></li>
<li><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
<li><a href="#duk_resume">duk_resume</a></li>
<li><a href="#duk_set_global_object">duk_set_global_object</a></li>
<li><a href="#duk_suspend">duk_suspend</a></li>
</ul><h2 class="sectiontitle" id="taglist-time">time <a class="sectionlink" href="#taglist-time">§</a></h2><ul class="taglist">
<li><a href="#duk_components_to_time">duk_components_to_time</a></li>
<li><a href="#duk_get_now">duk_get_now</a></li>
<li><a href="#duk_time_to_components">duk_time_to_components</a></li>
</ul><h2 class="sectiontitle" id="taglist-vararg">vararg <a class="sectionlink" href="#taglist-vararg">§</a></h2><ul class="taglist">
<li><a href="#duk_error_va">duk_error_va</a></li>
<li><a href="#duk_eval_error_va">duk_eval_error_va</a></li>
<li><a href="#duk_generic_error_va">duk_generic_error_va</a></li>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
<li><a href="#duk_push_vsprintf">duk_push_vsprintf</a></li>
<li><a href="#duk_range_error_va">duk_range_error_va</a></li>
<li><a href="#duk_reference_error_va">duk_reference_error_va</a></li>
<li><a href="#duk_syntax_error_va">duk_syntax_error_va</a></li>
<li><a href="#duk_type_error_va">duk_type_error_va</a></li>
<li><a href="#duk_uri_error_va">duk_uri_error_va</a></li>
</ul><hr/><h1 class="apih1 sectiontitle" id="duk_alloc">
<a href="#duk_alloc"><span class="hidechar">.</span>duk_alloc()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_alloc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_alloc.1">Prototype <a class="sectionlink" href="#duk_alloc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_alloc(duk_context *ctx, size_t size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_alloc</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_alloc.2">Stack <a class="sectionlink" href="#duk_alloc.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_alloc.3">Summary <a class="sectionlink" href="#duk_alloc.3">§</a></h2>
<p>Like <code><a href="#duk_alloc_raw">duk_alloc_raw()</a></code> but may trigger
a garbage collection to satisfy the request.  However, the allocated memory
itself is not automatically garbage collected.  The allocation request may
fail even after garbage collection, in which case a <code>NULL</code> is returned.
The allocated memory is not automatically zeroed, and may contain arbitrary garbage.</p>
<p>Memory allocated with <code>duk_alloc()</code> can be freed with either
<code><a href="#duk_free">duk_free()</a></code> or
<code><a href="#duk_free_raw">duk_free_raw()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_alloc.4">Example <a class="sectionlink" href="#duk_alloc.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Although duk_alloc() triggers a GC if necessary, it can still fail to</span>
<span class="comment"> * allocate the desired amount of memory.  Caller must check for NULL</span>
<span class="comment"> * (however, if allocation size is 0, a NULL may be returned even in</span>
<span class="comment"> * a success case).</span>
<span class="comment"> */</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_alloc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"allocation successful: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> buf</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"allocation failed</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_alloc.5">See also <a class="sectionlink" href="#duk_alloc.5">§</a></h2>
<ul>
<li><a href="#duk_alloc_raw">duk_alloc_raw</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_alloc_raw">
<a href="#duk_alloc_raw"><span class="hidechar">.</span>duk_alloc_raw()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_alloc_raw">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_alloc_raw.1">Prototype <a class="sectionlink" href="#duk_alloc_raw.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_alloc_raw(duk_context *ctx, size_t size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_alloc_raw</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_alloc_raw.2">Stack <a class="sectionlink" href="#duk_alloc_raw.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_alloc_raw.3">Summary <a class="sectionlink" href="#duk_alloc_raw.3">§</a></h2>
<p>Allocate <code>size</code> bytes using the raw allocation function registered
to the context.  If allocation fails, returns <code>NULL</code>.  If <code>size</code>
is zero, the call may either return a <code>NULL</code> or some non-<code>NULL</code>
value which may be safely given to e.g. <code>duk_free_raw()</code>.  The allocation
cannot trigger a garbage collection, and the allocated memory is not automatically
garbage collected.  The allocated memory is not automatically zeroed, and may contain
arbitrary garbage.</p>
<p>Memory allocated with <code>duk_alloc_raw()</code> can be freed with either
<code><a href="#duk_free">duk_free()</a></code> or
<code><a href="#duk_free_raw">duk_free_raw()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_alloc_raw.4">Example <a class="sectionlink" href="#duk_alloc_raw.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_alloc_raw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"allocation successful: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> buf</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"allocation failed</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_alloc_raw.5">See also <a class="sectionlink" href="#duk_alloc_raw.5">§</a></h2>
<ul>
<li><a href="#duk_alloc">duk_alloc</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_base64_decode">
<a href="#duk_base64_decode"><span class="hidechar">.</span>duk_base64_decode()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-codec">codec</a>
 <a class="sectionlink" href="#duk_base64_decode">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_base64_decode.1">Prototype <a class="sectionlink" href="#duk_base64_decode.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_base64_decode(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_base64_decode</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_base64_decode.2">Stack <a class="sectionlink" href="#duk_base64_decode.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">base64_val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_base64_decode.3">Summary <a class="sectionlink" href="#duk_base64_decode.3">§</a></h2>
<p>Decodes a base-64 encoded value into a buffer as an in-place operation.
If the input is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_base64_decode.4">Example <a class="sectionlink" href="#duk_base64_decode.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Zm9v"</span><span class="symbol">);</span>
<span class="function">duk_base64_decode</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* buffer */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"base-64 decoded: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Output:</span>
<span class="comment"> * base-64 decoded: foo</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_base64_decode.5">See also <a class="sectionlink" href="#duk_base64_decode.5">§</a></h2>
<ul>
<li><a href="#duk_base64_encode">duk_base64_encode</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_base64_encode">
<a href="#duk_base64_encode"><span class="hidechar">.</span>duk_base64_encode()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-codec">codec</a>
 <a class="sectionlink" href="#duk_base64_encode">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_base64_encode.1">Prototype <a class="sectionlink" href="#duk_base64_encode.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_base64_encode(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_base64_encode</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_base64_encode.2">Stack <a class="sectionlink" href="#duk_base64_encode.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">base64_val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_base64_encode.3">Summary <a class="sectionlink" href="#duk_base64_encode.3">§</a></h2>
<p>Coerces an arbitrary value into a buffer and then encodes the result
into base-64 as an in-place operation.  Returns a pointer to the resulting
string for convenience.</p>
<div class="note">
Coercing to a buffer first coerces a non-buffer value into a string, and
then coerces the string into a buffer.  The resulting buffer contains the
string in CESU-8 encoding.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_base64_encode.4">Example <a class="sectionlink" href="#duk_base64_encode.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"base-64 encoded: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_base64_encode</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>

<span class="comment">/* Output:</span>
<span class="comment"> * base-64 encoded: Zm9v</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_base64_encode.5">See also <a class="sectionlink" href="#duk_base64_encode.5">§</a></h2>
<ul>
<li><a href="#duk_base64_decode">duk_base64_decode</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_buffer_to_string">
<a href="#duk_buffer_to_string"><span class="hidechar">.</span>duk_buffer_to_string()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_buffer_to_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_buffer_to_string.1">Prototype <a class="sectionlink" href="#duk_buffer_to_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_buffer_to_string(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_buffer_to_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_buffer_to_string.2">Stack <a class="sectionlink" href="#duk_buffer_to_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buffer_to_string(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_buffer_to_string.3">Summary <a class="sectionlink" href="#duk_buffer_to_string.3">§</a></h2>
<p>Replace the buffer value (plain buffer or any buffer object) at
<code>idx</code> with a string whose internal byte representation is taken
1:1 from the buffer (same as if the buffer data was pushed using
<code>duk_push_lstring()</code>).  Returns a non-<code>NULL</code>
pointer to the read-only, NUL-terminated string data.  A TypeError is
thrown if (1) the argument is not a buffer value, (2) the argument is
a buffer object whose backing buffer doesn't cover the apparent
buffer size, (3) the index is invalid.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
<div class="note">
Since Duktape 2.0 the <code>duk_to_string()</code> coercion for a buffer
value is typically something like "[object Uint8Array]", which is not
usually intended.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_buffer_to_string.4">Example <a class="sectionlink" href="#duk_buffer_to_string.4">§</a></h2>
<pre class="c-code"><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal"> </span><span class="function">duk_push_fixed_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="symbol">);</span>
<span class="normal">ptr</span><span class="symbol">[</span><span class="number">0</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0x61</span><span class="symbol">;</span>
<span class="normal">ptr</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0x62</span><span class="symbol">;</span>
<span class="normal">ptr</span><span class="symbol">[</span><span class="number">2</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0x63</span><span class="symbol">;</span>
<span class="normal">ptr</span><span class="symbol">[</span><span class="number">3</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0x64</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* 61 62 63 64 */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_buffer_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_call">
<a href="#duk_call"><span class="hidechar">.</span>duk_call()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_call">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_call.1">Prototype <a class="sectionlink" href="#duk_call.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_call(duk_context *ctx, int nargs);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_call</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_call.2">Stack <a class="sectionlink" href="#duk_call.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_call.3">Summary <a class="sectionlink" href="#duk_call.3">§</a></h2>
<p>Call target function <code>func</code> with <code>nargs</code> arguments
(not counting the function itself).  The function and its arguments
are replaced by a single return value.  An error thrown during the
function call is not automatically caught.
</p>
<p>The target function <code>this</code> binding is initially set to
<code>undefined</code>.  If the target function is not strict, the binding
is replaced by the global object before the function is invoked; see
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.3">Entering Function Code</a>.
If you want to control the <code>this</code> binding, you can use
<code><a href="#duk_call_method">duk_call_method()</a></code> or
<code><a href="#duk_call_prop">duk_call_prop()</a></code> instead.</p>
<p>This API call is equivalent to:</p>
<pre class="ecmascript-code"><span class="keyword">var</span><span class="normal"> retval </span><span class="symbol">=</span><span class="normal"> </span><span class="function">func</span><span class="symbol">(</span><span class="normal">arg1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...,</span><span class="normal"> argN</span><span class="symbol">);</span>
</pre>
<p>or:</p>
<pre class="ecmascript-code"><span class="keyword">var</span><span class="normal"> retval </span><span class="symbol">=</span><span class="normal"> func</span><span class="symbol">.</span><span class="function">call</span><span class="symbol">(</span><span class="normal">undefined</span><span class="symbol">,</span><span class="normal"> arg1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...,</span><span class="normal"> argN</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_call.4">Example <a class="sectionlink" href="#duk_call.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Assume target function is already on stack at func_idx; the target</span>
<span class="comment"> * function adds arguments and returns the result.</span>
<span class="comment"> */</span>
<span class="usertype">duk_idx_t</span><span class="normal"> func_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> func_idx</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func 2 3 ] -&gt; [ 5 ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_call.5">See also <a class="sectionlink" href="#duk_call.5">§</a></h2>
<ul>
<li><a href="#duk_call_method">duk_call_method</a></li>
<li><a href="#duk_call_prop">duk_call_prop</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_call_method">
<a href="#duk_call_method"><span class="hidechar">.</span>duk_call_method()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_call_method">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_call_method.1">Prototype <a class="sectionlink" href="#duk_call_method.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_call_method(duk_context *ctx, int nargs);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_call_method</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_call_method.2">Stack <a class="sectionlink" href="#duk_call_method.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="elem active">this</span> <span class="elem active">arg</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_call_method.3">Summary <a class="sectionlink" href="#duk_call_method.3">§</a></h2>
<p>Call target function <code>func</code> with an explicit <code>this</code>
binding and <code>nargs</code> arguments (not counting the function and
the <code>this</code> binding value).  The function object, the <code>this</code>
binding value, and the function arguments are replaced by a single
return value.  An error thrown during the function call is not
automatically caught.</p>
<p>If the target function is not strict, the binding value seen by the
target function may be modified by processing specified in
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.3">Entering Function Code</a>.
</p>
<p>This API call is equivalent to:</p>
<pre class="ecmascript-code"><span class="keyword">var</span><span class="normal"> retval </span><span class="symbol">=</span><span class="normal"> func</span><span class="symbol">.</span><span class="function">call</span><span class="symbol">(</span><span class="normal">this_binding</span><span class="symbol">,</span><span class="normal"> arg1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...,</span><span class="normal"> argN</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_call_method.4">Example <a class="sectionlink" href="#duk_call_method.4">§</a></h2>
<pre class="c-code"><span class="comment">/* The target function here prints:</span>
<span class="comment"> *</span>
<span class="comment"> *    this: 123</span>
<span class="comment"> *    2 3</span>
<span class="comment"> *</span>
<span class="comment"> * and returns 5.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"function(x,y) { print('this:', this); "</span>
<span class="normal">                     </span><span class="string">"print(x,y); return x+y; }"</span><span class="symbol">);</span>
<span class="function">duk_eval</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... func ] */</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="function">duk_call_method</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func 123 2 3 ] -&gt; [ 5 ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* prints 5 */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_call_prop">
<a href="#duk_call_prop"><span class="hidechar">.</span>duk_call_prop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_call_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_call_prop.1">Prototype <a class="sectionlink" href="#duk_call_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_call_prop(duk_context *ctx, int obj_idx, int nargs);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_call_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_call_prop.2">Stack <a class="sectionlink" href="#duk_call_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_call_prop.3">Summary <a class="sectionlink" href="#duk_call_prop.3">§</a></h2>
<p>Call <code>obj.key</code> with <code>nargs</code> arguments, with <code>this</code>
binding set to <code>obj</code>.  The property name and the function arguments
are replaced by a single return value; the target object is not touched.
An error during the function call is not automatically caught.</p>
<p>If the target function is not strict, the binding value seen by the
target function may be modified by processing specified in
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.3">Entering Function Code</a>.
</p>
<p>This API call is equivalent to:</p>
<pre class="ecmascript-code"><span class="keyword">var</span><span class="normal"> retval </span><span class="symbol">=</span><span class="normal"> obj</span><span class="symbol">[</span><span class="normal">key</span><span class="symbol">](</span><span class="normal">arg1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...,</span><span class="normal"> argN</span><span class="symbol">);</span>
</pre>
<p>or:</p>
<pre class="ecmascript-code"><span class="keyword">var</span><span class="normal"> func </span><span class="symbol">=</span><span class="normal"> obj</span><span class="symbol">[</span><span class="normal">key</span><span class="symbol">];</span>
<span class="keyword">var</span><span class="normal"> retval </span><span class="symbol">=</span><span class="normal"> func</span><span class="symbol">.</span><span class="function">call</span><span class="symbol">(</span><span class="normal">obj</span><span class="symbol">,</span><span class="normal"> arg1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...,</span><span class="normal"> argN</span><span class="symbol">);</span>
</pre>
<div class="note">
Although the base value for property accesses is usually an object, it can
technically be an arbitrary value.  Plain string and buffer values have virtual
index properties so you can access <code>"foo"[2]</code>, for instance.
Most primitive values also inherit from some prototype object so that you can
e.g. call methods on them: <code>(12345).toString(16)</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_call_prop.4">Example <a class="sectionlink" href="#duk_call_prop.4">§</a></h2>
<pre class="c-code"><span class="comment">/* obj.myAdderMethod(2,3) -&gt; 5 */</span>
<span class="usertype">duk_idx_t</span><span class="normal"> obj_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myAdderMethod"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="function">duk_call_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... "myAdderMethod" 2 3 ] -&gt; [ ... 5 ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_char_code_at">
<a href="#duk_char_code_at"><span class="hidechar">.</span>duk_char_code_at()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
 <a class="sectionlink" href="#duk_char_code_at">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_char_code_at.1">Prototype <a class="sectionlink" href="#duk_char_code_at.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_char_code_at(duk_context *ctx, int idx, size_t char_offset);"><span class="usertype">duk_codepoint_t</span><span class="normal"> </span><span class="function">duk_char_code_at</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> char_offset</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_char_code_at.2">Stack <a class="sectionlink" href="#duk_char_code_at.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_char_code_at.3">Summary <a class="sectionlink" href="#duk_char_code_at.3">§</a></h2>
<p>Get the codepoint of a character at character offset <code>char_offset</code>
of a string at <code>idx</code>.  If the value at <code>idx</code> is not
a string, an error is thrown.  If the string cannot be (extended) UTF-8 decoded,
the result is U+FFFD (Unicode replacement character).  If <code>char_offset</code>
is invalid (outside the string) a zero is returned.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_char_code_at.4">Example <a class="sectionlink" href="#duk_char_code_at.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"char code at char index 12: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_char_code_at</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">12</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_check_stack">
<a href="#duk_check_stack"><span class="hidechar">.</span>duk_check_stack()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_check_stack">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_check_stack.1">Prototype <a class="sectionlink" href="#duk_check_stack.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_check_stack(duk_context *ctx, int extra);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_check_stack</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> extra</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_check_stack.2">Stack <a class="sectionlink" href="#duk_check_stack.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_check_stack.3">Summary <a class="sectionlink" href="#duk_check_stack.3">§</a></h2>
<p>Ensure that the value stack has at least <code>extra</code> reserved
(allocated) elements for caller's use, relative to the current stack top.
Returns 1 if successful, 0 otherwise.  If the call is successful, the caller
is guaranteed that <code>extra</code> elements can be pushed to the value
stack without a value stack related error (other errors like out-of-memory
can still occur).  The caller MUST NOT rely on being able to push more than
<code>extra</code> values; although this is possible, such elements are
reserved for Duktape's internal use.</p>
<p>Upon entry to a Duktape/C function and when outside any call
there is an automatic reserve (of <code>DUK_API_ENTRY_STACK</code> elements)
allocated for the caller in addition to call arguments on the value stack.
If more value stack space is needed, the caller must reserve more space
explicitly either in the beginning of the function (e.g. if the number of
elements required is known or can be computed based on arguments) or
dynamically (e.g. inside a loop).  Note that an attempt to push a value
beyond the currently allocated value stack causes an error: it does not cause
the value stack to be automatically extended.  This simplifies the internal
implementation.</p>
<p>In addition to user reserved elements, Duktape keeps an automatic
internal value stack reserve to ensure all API calls have enough
value stack space to work without further allocations.  The value stack
is also extended in somewhat large steps to minimize memory reallocation
activity.  As a result the internal number of value stack elements
available beyond the caller specified <code>extra</code> varies considerably.
The caller does not need to take this into account and should never
rely on any additional elements being available.</p>
<p>As a general rule
<code><a href="#duk_require_stack">duk_require_stack()</a></code> should be
used instead of this function to reserve more stack space.  If value stack
cannot be extended, there is almost never a useful recovery strategy except
to throw an error and unwind.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_check_stack.4">Example <a class="sectionlink" href="#duk_check_stack.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> nargs </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* number or arguments */</span>

<span class="comment">/* reserve space for one temporary for each input argument */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(!</span><span class="function">duk_check_stack</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> nargs </span><span class="symbol">*</span><span class="normal"> </span><span class="number">2</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* return 'undefined' if cannot allocate space */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"failed to reserve enough stack space</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="comment">/* ... */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_check_stack.5">See also <a class="sectionlink" href="#duk_check_stack.5">§</a></h2>
<ul>
<li><a href="#duk_require_stack">duk_require_stack</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_check_stack_top">
<a href="#duk_check_stack_top"><span class="hidechar">.</span>duk_check_stack_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_check_stack_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_check_stack_top.1">Prototype <a class="sectionlink" href="#duk_check_stack_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_check_stack_top(duk_context *ctx, int top);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_check_stack_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> top</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_check_stack_top.2">Stack <a class="sectionlink" href="#duk_check_stack_top.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_check_stack_top.3">Summary <a class="sectionlink" href="#duk_check_stack_top.3">§</a></h2>
<p>Like <code><a href="#duk_check_stack">duk_check_stack()</a></code>,
but ensures there is space up to <code>top</code> for caller's use.
This is sometimes more convenient than specifying the number of
additional elements (relative to current stack top) to reserve.</p>
<div class="note">
The caller specifies the maximum stack top ensured for caller's
use, not the highest value stack index reserved for the caller.
For instance, if <code>top</code> is 500, the highest value stack
index reserved for the caller is 499.
</div>
<p>As a general rule
<code><a href="#duk_require_stack_top">duk_require_stack_top()</a></code> should be
used instead of this function to reserve more stack space.  If value stack
cannot be extended, there is almost never a useful recovery strategy except
to throw an error and unwind.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_check_stack_top.4">Example <a class="sectionlink" href="#duk_check_stack_top.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_check_stack_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">100</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value stack guaranteed up to index 99</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"cannot get value stack space</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_check_stack_top.5">See also <a class="sectionlink" href="#duk_check_stack_top.5">§</a></h2>
<ul>
<li><a href="#duk_require_stack_top">duk_require_stack_top</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_check_type">
<a href="#duk_check_type"><span class="hidechar">.</span>duk_check_type()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_check_type">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_check_type.1">Prototype <a class="sectionlink" href="#duk_check_type.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_check_type(duk_context *ctx, int idx, int type);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_check_type</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> type</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_check_type.2">Stack <a class="sectionlink" href="#duk_check_type.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_check_type.3">Summary <a class="sectionlink" href="#duk_check_type.3">§</a></h2>
<p>Matches the type of the value at <code>idx</code> against <code>type</code>.
Returns 1 if the type matches, zero otherwise.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_check_type.4">Example <a class="sectionlink" href="#duk_check_type.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_check_type</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> DUK_TYPE_NUMBER</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a number</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_check_type_mask">
<a href="#duk_check_type_mask"><span class="hidechar">.</span>duk_check_type_mask()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_check_type_mask">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_check_type_mask.1">Prototype <a class="sectionlink" href="#duk_check_type_mask.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_check_type_mask(duk_context *ctx, int idx, unsigned int mask);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_check_type_mask</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> mask</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_check_type_mask.2">Stack <a class="sectionlink" href="#duk_check_type_mask.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_check_type_mask.3">Summary <a class="sectionlink" href="#duk_check_type_mask.3">§</a></h2>
<p>Matches the type of the value at <code>idx</code> against the type
mask bits given in <code>mask</code>.  Returns 1 if the value type matches
one of the type mask bits and zero otherwise.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_check_type_mask.4">Example <a class="sectionlink" href="#duk_check_type_mask.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_check_type_mask</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> DUK_TYPE_MASK_STRING </span><span class="symbol">|</span>
<span class="normal">                                 DUK_TYPE_MASK_NUMBER</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a string or a number</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_compact">
<a href="#duk_compact"><span class="hidechar">.</span>duk_compact()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_compact">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_compact.1">Prototype <a class="sectionlink" href="#duk_compact.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_compact(duk_context *ctx, int obj_idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_compact</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_compact.2">Stack <a class="sectionlink" href="#duk_compact.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_compact.3">Summary <a class="sectionlink" href="#duk_compact.3">§</a></h2>
<p>
Resizes an object's internal memory allocation to minimize memory usage.
If the value at <code>obj_idx</code> is not an object, does nothing.
Although compaction is normally safe, it can fail due to an internal error
(such as out-of-memory error).  Compaction only affects to an object's
"own properties", not its inherited properties.
</p>
<p>
Compaction is not a final operation and has no impact on object semantics.
Adding new properties to the object is still possible (assuming the object
is extensible), but causes an object resize.  Existing property values can be
changed (assuming the properties are writable) without affecting the object's
internal memory allocation.  An object can be compacted multiple times:
for instance, if a new property is added to a previously compacted object,
the object can be compacted again to minimize memory footprint after the
property addition.
</p>
<p>
Compacting an object saves a small amount of memory per object.  It is
generally useful when (1) memory footprint is very important, (2) an object
is unlikely to gain new properties, (3) an object is relatively long-lived,
and (4) when compaction can be applied to enough many objects to make a
significant difference.
</p>
<p>
If <code>Object.seal()</code>, <code>Object.freeze()</code>, or
<code>Object.preventExtensions()</code> is called, an object is automatically
compacted.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_compact.4">Example <a class="sectionlink" href="#duk_compact.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">                           </span><span class="comment">/* [ ... obj ] */</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">42</span><span class="symbol">);</span><span class="normal">                          </span><span class="comment">/* [ ... obj 42 ] */</span>
<span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"meaningOfLife"</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... obj ] */</span>
<span class="function">duk_compact</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span><span class="normal">                           </span><span class="comment">/* [ ... obj ] */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_compile">
<a href="#duk_compile"><span class="hidechar">.</span>duk_compile()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_compile">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_compile.1">Prototype <a class="sectionlink" href="#duk_compile.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_compile(duk_context *ctx, unsigned int flags);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_compile</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_compile.2">Stack <a class="sectionlink" href="#duk_compile.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_compile.3">Summary <a class="sectionlink" href="#duk_compile.3">§</a></h2>
<p>Compile Ecmascript source code and replace it with a compiled function
object (the code is not executed).  The <code>filename</code> argument is stored
as the <code>fileName</code> property of the resulting function, and is the name
used in e.g. tracebacks to identify the function.  May throw a <code>SyntaxError</code>
for any compile-time errors (in addition to the usual internal errors like out-of-memory,
internal limit errors, etc).</p>
<p>The following flags may be given:</p>
<ul>
<li><code>DUK_COMPILE_EVAL</code>: compile the input as eval code instead of
    as an Ecmascript program</li>
<li><code>DUK_COMPILE_FUNCTION</code>: compile the input as a function instead
    of as an Ecmascript program</li>
<li><code>DUK_COMPILE_STRICT</code>: force the input to be compiled in strict
    mode</li>
</ul>
<p>The source code being compiled may be:</p>
<ul>
<li>Global code: compiles into a function with zero arguments, which
    executes like a top level Ecmascript program (default)</li>
<li>Eval code: compiles into a function with zero arguments, which
    executes like an Ecmascript <code>eval</code> call
    (flag <code>DUK_COMPILE_EVAL</code>)</li>
<li>Function code: compiles into a function with zero or more arguments
    (flag <code>DUK_COMPILE_FUNCTION</code>)</li>
</ul>
<p>All of these have slightly different semantics in Ecmascript.  See
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-10.4">Establishing an Execution Context</a>
for a detailed discussion.
One major difference is that global and eval contexts have an implicit
return value: the last <i>non-empty</i> statement value is an automatic
return value for the program or eval code, whereas functions don't have
an automatic return value.
</p>
<p>Global and eval code don't have an explicit <code>function</code> syntax.
For instance, the following can be compiled both as a global and as an
eval expression:</p>
<pre class="ecmascript-code"><span class="function">print</span><span class="symbol">(</span><span class="string">"Hello world!"</span><span class="symbol">);</span>
<span class="number">123</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">// implicit return value</span>
</pre>
<p>Function code follows the Ecmascript <code>function</code> syntax
(the function name is optional):</p>
<pre class="ecmascript-code"><span class="keyword">function</span><span class="normal"> </span><span class="function">adder</span><span class="symbol">(</span><span class="normal">x</span><span class="symbol">,</span><span class="normal">y</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> x</span><span class="symbol">+</span><span class="normal">y</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre>
<p>Compiling a function is equivalent to compiling eval code which contains
a function expression.  Note that the outermost parentheses are required,
otherwise the eval code will register a global function named "adder" instead
of returning a plain function value:</p>
<pre class="ecmascript-code"><span class="symbol">(</span><span class="keyword">function</span><span class="normal"> </span><span class="function">adder</span><span class="symbol">(</span><span class="normal">x</span><span class="symbol">,</span><span class="normal">y</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> x</span><span class="symbol">+</span><span class="normal">y</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="symbol">)</span>
</pre>
<p>The bytecode generated for global and eval code is currently slower
than that generated for functions: a "slow path" is used for all variable
accesses in program and eval code, and the implicit return value handling
of program and eval code generates some unnecessary bytecode.  From a
performance point of view (both memory and execution performance) it is
thus preferable to have as much code inside functions as possible.</p>
<p>When compiling eval and global expressions, be careful to avoid the
usual Ecmascript gotchas, such as:</p>
<pre class="ecmascript-code"><span class="comment">/* Function at top level is a function declaration which registers a global</span>
<span class="comment"> * function, and is different from a function expression.  Use parentheses</span>
<span class="comment"> * around the top level expression.</span>
<span class="comment"> */</span>

<span class="function">eval</span><span class="symbol">(</span><span class="string">"function adder(x,y) { return x+y; }"</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* registers 'adder' to global */</span>
<span class="function">eval</span><span class="symbol">(</span><span class="string">"function (x,y) { return x+y; }"</span><span class="symbol">);</span><span class="normal">        </span><span class="comment">/* not allowed */</span>
<span class="function">eval</span><span class="symbol">(</span><span class="string">"(function (x,y) { return x+y; })"</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* function expression (anonymous) */</span>
<span class="function">eval</span><span class="symbol">(</span><span class="string">"(function adder(x,y) { return x+y; })"</span><span class="symbol">);</span><span class="normal"> </span><span class="comment">/* function expression (named) */</span>

<span class="comment">/* Opening curly brace at top level is interpreted as start of a block</span>
<span class="comment"> * expression, not an object literal.  Use parentheses around the top</span>
<span class="comment"> * level expression.</span>
<span class="comment"> */</span>

<span class="function">eval</span><span class="symbol">(</span><span class="string">"{ myfunc: 1 }"</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* block with -label- "myfunc" and statement "1" (!) */</span>
<span class="function">eval</span><span class="symbol">(</span><span class="string">"({ myfunc: 1 })"</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* object literal { myfunc: 1 } */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_compile.4">Example <a class="sectionlink" href="#duk_compile.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Global code.  Note that the hello() function is a function</span>
<span class="comment"> * declaration which gets registered into the global object when</span>
<span class="comment"> * executed.  Implicit return value is 123.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('global');</span><span class="specialchar">\n</span><span class="string">"</span>
<span class="normal">                     </span><span class="string">"function hello() { print('Hello world!'); }</span><span class="specialchar">\n</span><span class="string">"</span>
<span class="normal">                     </span><span class="string">"123;"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"hello"</span><span class="symbol">);</span>
<span class="function">duk_compile</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* [ source filename ] -&gt; [ func ] */</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"program result: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Eval code */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"2+3"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"eval"</span><span class="symbol">);</span>
<span class="function">duk_compile</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_COMPILE_EVAL</span><span class="symbol">);</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"eval result: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Function code */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"function (x,y) { return x+y; }"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"function"</span><span class="symbol">);</span>
<span class="function">duk_compile</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_COMPILE_FUNCTION</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">5</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">6</span><span class="symbol">);</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func 5 6 ] -&gt; [ result ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"function result: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_compile.5">See also <a class="sectionlink" href="#duk_compile.5">§</a></h2>
<ul>
<li><a href="#duk_pcompile">duk_pcompile</a></li>
<li><a href="#duk_compile_string">duk_compile_string</a></li>
<li><a href="#duk_compile_string_filename">duk_compile_string_filename</a></li>
<li><a href="#duk_compile_lstring">duk_compile_lstring</a></li>
<li><a href="#duk_compile_lstring_filename">duk_compile_lstring_filename</a></li>
<li><a href="#duk_compile_file">duk_compile_file</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_compile_lstring">
<a href="#duk_compile_lstring"><span class="hidechar">.</span>duk_compile_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_compile_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_compile_lstring.1">Prototype <a class="sectionlink" href="#duk_compile_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_compile_lstring(duk_context *ctx, unsigned int flags, const char *src, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_compile_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_compile_lstring.2">Stack <a class="sectionlink" href="#duk_compile_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_compile_lstring.3">Summary <a class="sectionlink" href="#duk_compile_lstring.3">§</a></h2>
<p>Like
<code><a href="#duk_compile">duk_compile()</a></code>, but the compile input
is given as a C string with explicit length.  The filename associated with the
function is <code>"input"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_compile_lstring.4">Example <a class="sectionlink" href="#duk_compile_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_compile_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_compile_lstring_filename">
<a href="#duk_compile_lstring_filename"><span class="hidechar">.</span>duk_compile_lstring_filename()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_compile_lstring_filename">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_compile_lstring_filename.1">Prototype <a class="sectionlink" href="#duk_compile_lstring_filename.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_compile_lstring_filename(duk_context *ctx, unsigned int flags, const char *src, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_compile_lstring_filename</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_compile_lstring_filename.2">Stack <a class="sectionlink" href="#duk_compile_lstring_filename.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_compile_lstring_filename.3">Summary <a class="sectionlink" href="#duk_compile_lstring_filename.3">§</a></h2>
<p>Like
<code><a href="#duk_compile">duk_compile()</a></code>, but the compile input
is given as a C string with explicit length.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_compile_lstring_filename.4">Example <a class="sectionlink" href="#duk_compile_lstring_filename.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myFile.js"</span><span class="symbol">);</span>
<span class="function">duk_compile_lstring_filename</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_compile_string">
<a href="#duk_compile_string"><span class="hidechar">.</span>duk_compile_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_compile_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_compile_string.1">Prototype <a class="sectionlink" href="#duk_compile_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_compile_string(duk_context *ctx, unsigned int flags, const char *src);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_compile_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_compile_string.2">Stack <a class="sectionlink" href="#duk_compile_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_compile_string.3">Summary <a class="sectionlink" href="#duk_compile_string.3">§</a></h2>
<p>Like
<code><a href="#duk_compile">duk_compile()</a></code>, but the compile input
is given as a C string.  The filename associated with the function is
<code>"input"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_compile_string.4">Example <a class="sectionlink" href="#duk_compile_string.4">§</a></h2>
<pre class="c-code"><span class="function">duk_compile_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('program code');"</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_compile_string_filename">
<a href="#duk_compile_string_filename"><span class="hidechar">.</span>duk_compile_string_filename()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_compile_string_filename">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_compile_string_filename.1">Prototype <a class="sectionlink" href="#duk_compile_string_filename.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_compile_string_filename(duk_context *ctx, unsigned int flags, const char *src);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_compile_string_filename</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_compile_string_filename.2">Stack <a class="sectionlink" href="#duk_compile_string_filename.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_compile_string_filename.3">Summary <a class="sectionlink" href="#duk_compile_string_filename.3">§</a></h2>
<p>Like
<code><a href="#duk_compile">duk_compile()</a></code>, but the compile input
is given as a C string.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_compile_string_filename.4">Example <a class="sectionlink" href="#duk_compile_string_filename.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myFile.js"</span><span class="symbol">);</span>
<span class="function">duk_compile_string_filename</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('program code');"</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_components_to_time">
<a href="#duk_components_to_time"><span class="hidechar">.</span>duk_components_to_time()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-time">time</a>
<a class="apitag apitagwarn" href="#taglist-experimental">experimental</a>
 <a class="sectionlink" href="#duk_components_to_time">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_components_to_time.1">Prototype <a class="sectionlink" href="#duk_components_to_time.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): double duk_components_to_time(duk_context *ctx, duk_time_components *comp);"><span class="usertype">duk_double_t</span><span class="normal"> </span><span class="function">duk_components_to_time</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_time_components</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">comp</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_components_to_time.2">Stack <a class="sectionlink" href="#duk_components_to_time.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_components_to_time.3">Summary <a class="sectionlink" href="#duk_components_to_time.3">§</a></h2>
<p>Convert components (year, month, day, etc), interpreted in UTC, into a
time value.  The <code>comp-&gt;weekday</code> argument is ignored in the
conversion.  If the component values are invalid, an error is thrown.</p>
<p>There are some differences to the Ecmascript <code>Date.UTC()</code>
built-in:</p>
<ul>
<li>There's no special handling of two-digit years.  For example,
    <code>Date.UTC(99, 0, 1)</code> gets interpreted as 1999-01-01.
    If <code>comp-&gt;time</code> is 99, it's interpreted as the year 99.</li>
<li>The milliseconds component is allowed fractions (sub-millisecond
    resolution) so that the resulting time value may have fractions.</li>
</ul>
<p>Like the Ecmascript primitives, the components can exceed their natural
range and are normalized.  For example, specifying <code>comp-&gt;minutes</code>
as 120 is interpreted as adding 2 hours to the time value.  The components are
expressed as IEEE doubles to allow large and negative values to be used.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_components_to_time.4">Example <a class="sectionlink" href="#duk_components_to_time.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_time_components</span><span class="normal"> comp</span><span class="symbol">;</span>
<span class="usertype">duk_double_t</span><span class="normal"> time</span><span class="symbol">;</span>

<span class="function">memset</span><span class="symbol">((</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">comp</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">sizeof</span><span class="symbol">(</span><span class="normal">comp</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* good practice even if fully initialized */</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">year </span><span class="symbol">=</span><span class="normal"> </span><span class="number">2016</span><span class="symbol">;</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">month </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* 0-based, 1=January */</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">day </span><span class="symbol">=</span><span class="normal"> </span><span class="number">2</span><span class="symbol">;</span><span class="normal">    </span><span class="comment">/* 1-based: second of January */</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">hours </span><span class="symbol">=</span><span class="normal"> </span><span class="number">3</span><span class="symbol">;</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">minutes </span><span class="symbol">=</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">seconds </span><span class="symbol">=</span><span class="normal"> </span><span class="number">5</span><span class="symbol">;</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">milliseconds </span><span class="symbol">=</span><span class="normal"> </span><span class="number">6.0</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* allows sub-millisecond resolution */</span>
<span class="normal">comp</span><span class="symbol">.</span><span class="normal">weekday </span><span class="symbol">=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* ignored */</span>

<span class="normal">time </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_components_to_time</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">comp</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"2016-01-02 03:04:05.006Z -&gt; %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> time</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_components_to_time.5">See also <a class="sectionlink" href="#duk_components_to_time.5">§</a></h2>
<ul>
<li><a href="#duk_time_to_components">duk_time_to_components</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_concat">
<a href="#duk_concat"><span class="hidechar">.</span>duk_concat()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
 <a class="sectionlink" href="#duk_concat">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_concat.1">Prototype <a class="sectionlink" href="#duk_concat.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_concat(duk_context *ctx, int count);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_concat</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> count</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_concat.2">Stack <a class="sectionlink" href="#duk_concat.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_concat.3">Summary <a class="sectionlink" href="#duk_concat.3">§</a></h2>
<p>Concatenate zero or more values into a result string.  The input values
are automatically coerced with
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.8">ToString()</a>.</p>
<p>This primitive minimizes the number of intermediate string interning
operations and is better than concatenating strings manually.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_concat.4">Example <a class="sectionlink" href="#duk_concat.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_true</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_concat</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>

<span class="function">printf</span><span class="symbol">(</span><span class="string">"result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* "foo123true" */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_concat.5">See also <a class="sectionlink" href="#duk_concat.5">§</a></h2>
<ul>
<li><a href="#duk_join">duk_join</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_config_buffer">
<a href="#duk_config_buffer"><span class="hidechar">.</span>duk_config_buffer()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_config_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_config_buffer.1">Prototype <a class="sectionlink" href="#duk_config_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_config_buffer(duk_context *ctx, int idx, void *ptr, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_config_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_config_buffer.2">Stack <a class="sectionlink" href="#duk_config_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buf</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buf</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_config_buffer.3">Summary <a class="sectionlink" href="#duk_config_buffer.3">§</a></h2>
<p>Set the external buffer pointer and length of an external buffer value.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_config_buffer.4">Example <a class="sectionlink" href="#duk_config_buffer.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Create an external buffer and point it to my_buffer containing</span>
<span class="comment"> * my_length bytes.</span>
<span class="comment"> */</span>
<span class="function">duk_push_external_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_config_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> my_buffer</span><span class="symbol">,</span><span class="normal"> my_length</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_config_buffer.5">See also <a class="sectionlink" href="#duk_config_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_copy">
<a href="#duk_copy"><span class="hidechar">.</span>duk_copy()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_copy">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_copy.1">Prototype <a class="sectionlink" href="#duk_copy.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_copy(duk_context *ctx, int from_idx, int to_idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_copy</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> from_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> to_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_copy.2">Stack <a class="sectionlink" href="#duk_copy.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">old(to_idx)</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(from_idx)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(to_idx)</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(from_idx)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_copy.3">Summary <a class="sectionlink" href="#duk_copy.3">§</a></h2>
<p>Copy a value from <code>from_idx</code> to <code>to_idx</code>,
overwriting the previous value.  If either index is invalid, throws an
error.</p>
<p>This is a shorthand for:</p>
<pre class="c-code"><span class="comment">/* to_index must be normalize in case it is negative and would change its</span>
<span class="comment"> * meaning after duk_dup().</span>
<span class="comment"> */</span>
<span class="normal">to_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_normalize_idx</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> to_idx</span><span class="symbol">);</span>
<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> from_idx</span><span class="symbol">);</span>
<span class="function">duk_replace</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> to_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_copy.4">Example <a class="sectionlink" href="#duk_copy.4">§</a></h2>
<pre class="c-code"><span class="function">duk_copy</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_copy.5">See also <a class="sectionlink" href="#duk_copy.5">§</a></h2>
<ul>
<li><a href="#duk_insert">duk_insert</a></li>
<li><a href="#duk_replace">duk_replace</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_create_heap">
<a href="#duk_create_heap"><span class="hidechar">.</span>duk_create_heap()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-heap">heap</a>
 <a class="sectionlink" href="#duk_create_heap">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_create_heap.1">Prototype <a class="sectionlink" href="#duk_create_heap.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): duk_context *duk_create_heap(duk_alloc_function alloc_func,
                             duk_realloc_function realloc_func,
                             duk_free_function free_func,
                             void *heap_udata,
                             duk_fatal_function fatal_handler);"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_create_heap</span><span class="symbol">(</span><span class="usertype">duk_alloc_function</span><span class="normal"> alloc_func</span><span class="symbol">,</span>
<span class="normal">                             </span><span class="usertype">duk_realloc_function</span><span class="normal"> realloc_func</span><span class="symbol">,</span>
<span class="normal">                             </span><span class="usertype">duk_free_function</span><span class="normal"> free_func</span><span class="symbol">,</span>
<span class="normal">                             </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">heap_udata</span><span class="symbol">,</span>
<span class="normal">                             </span><span class="usertype">duk_fatal_function</span><span class="normal"> fatal_handler</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_create_heap.2">Stack <a class="sectionlink" href="#duk_create_heap.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_create_heap.3">Summary <a class="sectionlink" href="#duk_create_heap.3">§</a></h2>
<p>Create a new Duktape heap and return an initial context (thread).
If heap initialization fails, a <code>NULL</code> is returned.  There is
currently no way to obtain more detailed error information.</p>
<p>The caller may provide custom memory management functions in
<code>alloc_func</code>, <code>realloc_func</code>, and <code>free_func</code>;
the pointers must either all be <code>NULL</code> or all be
non-<code>NULL</code>.  If the pointers are <code>NULL</code>, default
memory management functions (ANSI C <code>malloc()</code>, <code>realloc()</code>
, and <code>free()</code>) are used.  The memory management functions
share the same opaque userdata pointer, <code>heap_udata</code>.  This
userdata pointer is also used for other Duktape features like fatal error
handling and low memory pointer compression macros.</p>
<p>A fatal error handler is provided in <code>fatal_handler</code>.  This
handler is called in unrecoverable error situations such as uncaught
errors, out-of-memory errors not resolved by garbage collection, self test
errors, etc.  A caller SHOULD implement a fatal error handler in most
applications.  If not given, a default fatal error handler built into
Duktape is used instead.  The default fatal error handler (unless overridden
by <code>duk_config.h</code>) calls <code>abort()</code> with no error
message printed to stdout or stderr.  See
<a href="http://wiki.duktape.org/HowtoFatalErrors.html">How to handle fatal errors</a>
for more detail and examples.</p>
<p>To create a Duktape heap with default settings, use
<code><a href="#duk_create_heap_default">duk_create_heap_default()</a></code>.</p>
<p>New contexts linked to the same heap can be created with
<code><a href="#duk_push_thread">duk_push_thread()</a></code> and
<code><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_create_heap.4">Example <a class="sectionlink" href="#duk_create_heap.4">§</a></h2>
<pre class="c-code"><span class="comment">/*</span>
<span class="comment"> *  Simple case: use default allocation functions and fatal error handler</span>
<span class="comment"> */</span>

<span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_create_heap</span><span class="symbol">(</span><span class="normal">NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* success */</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* error */</span>
<span class="cbracket">}</span>

<span class="comment">/*</span>
<span class="comment"> *  Customized handlers</span>
<span class="comment"> */</span>

<span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_create_heap</span><span class="symbol">(</span><span class="normal">my_alloc</span><span class="symbol">,</span><span class="normal"> my_realloc</span><span class="symbol">,</span><span class="normal"> my_free</span><span class="symbol">,</span>
<span class="normal">                                   </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal"> </span><span class="number">0xdeadbeef</span><span class="symbol">,</span><span class="normal"> my_fatal</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* success */</span>

<span class="normal">    </span><span class="comment">/* ... after heap is no longer needed: */</span>
<span class="normal">    </span><span class="function">duk_destroy_heap</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* error */</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_create_heap.5">See also <a class="sectionlink" href="#duk_create_heap.5">§</a></h2>
<ul>
<li><a href="#duk_create_heap_default">duk_create_heap_default</a></li>
<li><a href="#duk_destroy_heap">duk_destroy_heap</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_create_heap_default">
<a href="#duk_create_heap_default"><span class="hidechar">.</span>duk_create_heap_default()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-heap">heap</a>
 <a class="sectionlink" href="#duk_create_heap_default">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_create_heap_default.1">Prototype <a class="sectionlink" href="#duk_create_heap_default.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): duk_context *duk_create_heap_default(void);"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_create_heap_default</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_create_heap_default.2">Stack <a class="sectionlink" href="#duk_create_heap_default.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_create_heap_default.3">Summary <a class="sectionlink" href="#duk_create_heap_default.3">§</a></h2>
<p>Create a new Duktape heap and return an initial context (thread).
If heap initialization fails, a <code>NULL</code> is returned.  There is
currently no way to obtain more detailed error information.</p>
<p>The created heap will use default memory management and fatal error
handler functions.  This API call is equivalent to:</p>
<pre class="c-code"><span class="normal">ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_create_heap</span><span class="symbol">(</span><span class="normal">NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_create_heap_default.4">Example <a class="sectionlink" href="#duk_create_heap_default.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_create_heap_default</span><span class="symbol">();</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* success */</span>

<span class="normal">    </span><span class="comment">/* ... after heap is no longer needed: */</span>
<span class="normal">    </span><span class="function">duk_destroy_heap</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* error */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_debugger_attach">
<a href="#duk_debugger_attach"><span class="hidechar">.</span>duk_debugger_attach()</a>
<a class="apitag" href="#taglist-1.2.0">1.2.0</a>
<a class="apitag" href="#taglist-debugger">debugger</a>
 <a class="sectionlink" href="#duk_debugger_attach">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_debugger_attach.1">Prototype <a class="sectionlink" href="#duk_debugger_attach.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_debugger_attach(duk_context *ctx,
                         duk_debug_read_function read_cb,
                         duk_debug_write_function write_cb,
                         duk_debug_peek_function peek_cb,
                         duk_debug_read_flush_function read_flush_cb,
                         duk_debug_write_flush_function write_flush_cb,
                         duk_debug_request_function request_cb,
                         duk_debug_detached_function detached_cb,
                         void *udata);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_debugger_attach</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_read_function</span><span class="normal"> read_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_write_function</span><span class="normal"> write_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_peek_function</span><span class="normal"> peek_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_read_flush_function</span><span class="normal"> read_flush_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_write_flush_function</span><span class="normal"> write_flush_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_request_function</span><span class="normal"> request_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="usertype">duk_debug_detached_function</span><span class="normal"> detached_cb</span><span class="symbol">,</span>
<span class="normal">                         </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_debugger_attach.2">Stack <a class="sectionlink" href="#duk_debugger_attach.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_debugger_attach.3">Summary <a class="sectionlink" href="#duk_debugger_attach.3">§</a></h2>
<p>Attach a debugger to the Duktape heap.  The debugger will automatically
enter paused state when the attach is complete.  If debugger support is not
compiled into Duktape, throws an error.  See
<a href="https://github.com/svaarala/duktape/blob/master/doc/debugger.rst">debugger.rst</a>
for more information on debugger integration.  The callbacks are as follows,
optional callbacks may be <code>NULL</code>:</p>
<table>
<tr>
<th>Callback</th><th>Required</th><th>Description</th>
</tr>
<tr>
<td>read_cb</td><td>Yes</td><td>Debug transport read callback</td>
</tr>
<tr>
<td>write_cb</td><td>Yes</td><td>Debug transport write callback</td>
</tr>
<tr>
<td>peek_cb</td><td>No</td><td>Debug transport peek callback, strongly recommended but optional</td>
</tr>
<tr>
<td>read_flush_cb</td><td>No</td><td>Debug transport read flush callback</td>
</tr>
<tr>
<td>write_flush_cb</td><td>No</td><td>Debug transport write flush callback</td>
</tr>
<tr>
<td>request_cb</td><td>No</td><td>Application specific command (AppRequest) callback, NULL indicates no AppRequest support</td>
</tr>
<tr>
<td>detached_cb</td><td>No</td><td>Debugger detached callback</td>
</tr>
</table>
<p><b>Important:</b> The callbacks are not allowed to call any Duktape API
functions (doing so may cause memory unsafe behavior) except for the following:</p>
<ul>
<li>The <code>request_cb</code> AppRequest callback may use the value stack
    within the guidelines described in
    <a href="https://github.com/svaarala/duktape/blob/master/doc/debugger.rst">debugger.rst</a>.</li>
<li>Since Duktape 1.4.0 the debugger detached callback is allowed to call
    <code><a href="#duk_debugger_attach">duk_debugger_attach()</a></code>
    to immediately reattach the debugger.  In Duktape 1.3.0 and before the
    immediate reattach potentially caused
    <a href="https://github.com/svaarala/duktape/pull/399">some issues</a>.</li>
</ul>
<div class="note">
The <code>duk_debugger_attach_custom()</code> and <code>duk_debugger_attach()</code>
API calls were merged in Duktape 2.x.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_debugger_attach.4">Example <a class="sectionlink" href="#duk_debugger_attach.4">§</a></h2>
<pre class="c-code"><span class="function">duk_debugger_attach</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">                    my_read_cb</span><span class="symbol">,</span>
<span class="normal">                    my_write_cb</span><span class="symbol">,</span>
<span class="normal">                    my_peek_cb</span><span class="symbol">,</span>
<span class="normal">                    NULL</span><span class="symbol">,</span>
<span class="normal">                    NULL</span><span class="symbol">,</span>
<span class="normal">                    NULL</span><span class="symbol">,</span>
<span class="normal">                    my_detached_cb</span><span class="symbol">,</span>
<span class="normal">                    my_udata</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_debugger_attach.5">See also <a class="sectionlink" href="#duk_debugger_attach.5">§</a></h2>
<ul>
<li><a href="#duk_debugger_detach">duk_debugger_detach</a></li>
<li><a href="#duk_debugger_cooperate">duk_debugger_cooperate</a></li>
<li><a href="#duk_debugger_notify">duk_debugger_notify</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_debugger_cooperate">
<a href="#duk_debugger_cooperate"><span class="hidechar">.</span>duk_debugger_cooperate()</a>
<a class="apitag" href="#taglist-1.2.0">1.2.0</a>
<a class="apitag" href="#taglist-debugger">debugger</a>
 <a class="sectionlink" href="#duk_debugger_cooperate">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_debugger_cooperate.1">Prototype <a class="sectionlink" href="#duk_debugger_cooperate.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_debugger_cooperate(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_debugger_cooperate</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_debugger_cooperate.2">Stack <a class="sectionlink" href="#duk_debugger_cooperate.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_debugger_cooperate.3">Summary <a class="sectionlink" href="#duk_debugger_cooperate.3">§</a></h2>
<p>Check for and execute inbound debug commands without blocking.  Debug
commands are executed in the context of the <code>ctx</code> argument.
May only be called when no calls into Duktape are in progress (from any
context).  See
<a href="https://github.com/svaarala/duktape/blob/master/doc/debugger.rst">debugger.rst</a>
for more information.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_debugger_cooperate.4">Example <a class="sectionlink" href="#duk_debugger_cooperate.4">§</a></h2>
<pre class="c-code"><span class="function">duk_debugger_cooperate</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_debugger_cooperate.5">See also <a class="sectionlink" href="#duk_debugger_cooperate.5">§</a></h2>
<ul>
<li><a href="#duk_debugger_attach">duk_debugger_attach</a></li>
<li><a href="#duk_debugger_detach">duk_debugger_detach</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_debugger_detach">
<a href="#duk_debugger_detach"><span class="hidechar">.</span>duk_debugger_detach()</a>
<a class="apitag" href="#taglist-1.2.0">1.2.0</a>
<a class="apitag" href="#taglist-debugger">debugger</a>
 <a class="sectionlink" href="#duk_debugger_detach">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_debugger_detach.1">Prototype <a class="sectionlink" href="#duk_debugger_detach.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_debugger_detach(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_debugger_detach</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_debugger_detach.2">Stack <a class="sectionlink" href="#duk_debugger_detach.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_debugger_detach.3">Summary <a class="sectionlink" href="#duk_debugger_detach.3">§</a></h2>
<p>Detach a debugger from the Duktape heap.  If debugger support is not
compiled into Duktape, throws an error.  See
<a href="https://github.com/svaarala/duktape/blob/master/doc/debugger.rst">debugger.rst</a>
for more information.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_debugger_detach.4">Example <a class="sectionlink" href="#duk_debugger_detach.4">§</a></h2>
<pre class="c-code"><span class="function">duk_debugger_detach</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_debugger_detach.5">See also <a class="sectionlink" href="#duk_debugger_detach.5">§</a></h2>
<ul>
<li><a href="#duk_debugger_attach">duk_debugger_attach</a></li>
<li><a href="#duk_debugger_cooperate">duk_debugger_cooperate</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_debugger_notify">
<a href="#duk_debugger_notify"><span class="hidechar">.</span>duk_debugger_notify()</a>
<a class="apitag" href="#taglist-1.5.0">1.5.0</a>
<a class="apitag" href="#taglist-debugger">debugger</a>
 <a class="sectionlink" href="#duk_debugger_notify">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_debugger_notify.1">Prototype <a class="sectionlink" href="#duk_debugger_notify.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_debugger_notify(duk_context *ctx, int nvalues);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_debugger_notify</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nvalues</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_debugger_notify.2">Stack <a class="sectionlink" href="#duk_debugger_notify.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_debugger_notify.3">Summary <a class="sectionlink" href="#duk_debugger_notify.3">§</a></h2>
<p>Send an application specific debugger notify (AppNotify) containing the
<code>nvalues</code> values on the value stack top mapped to debug protocol
dvalues.  The return value indicates whether the notify was successfully
sent (non-zero) or not (zero).  The <code>nvalues</code> arguments are
always popped off the stack top.  The call is a no-op if debugger support
has not been compiled in, or if the debugger is not attached; in both cases
the call will return zero to indicate that the notify was not sent.</p>
<p>See the debugger documentation for more information and examples on how
to use application specific notifications.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_debugger_notify.4">Example <a class="sectionlink" href="#duk_debugger_notify.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Causes the following notify to be sent over the debugger protocol:</span>
<span class="comment"> *</span>
<span class="comment"> *   NFY AppNotify "BatteryStatus" 740 1000 true EOM</span>
<span class="comment"> */</span>
<span class="type">int</span><span class="normal"> battery_current </span><span class="symbol">=</span><span class="normal"> </span><span class="number">740</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> battery_limit </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1000</span><span class="symbol">;</span>
<span class="type">int</span><span class="normal"> battery_charging </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"BatteryStatus"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> battery_current</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> battery_limit</span><span class="symbol">);</span>
<span class="function">duk_push_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> battery_charging</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_debugger_notify</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4</span><span class="normal"> </span><span class="comment">/*nvalues*/</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"battery status notification sent</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"battery status notification not sent</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_debugger_pause">
<a href="#duk_debugger_pause"><span class="hidechar">.</span>duk_debugger_pause()</a>
<a class="apitag" href="#taglist-1.5.0">1.5.0</a>
<a class="apitag" href="#taglist-debugger">debugger</a>
 <a class="sectionlink" href="#duk_debugger_pause">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_debugger_pause.1">Prototype <a class="sectionlink" href="#duk_debugger_pause.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_debugger_pause(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_debugger_pause</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_debugger_pause.2">Stack <a class="sectionlink" href="#duk_debugger_pause.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_debugger_pause.3">Summary <a class="sectionlink" href="#duk_debugger_pause.3">§</a></h2>
<p>Request a debugger pause as soon as possible and return without blocking.
The pause will be triggered the next time Ecmascript bytecode is executed,
which is usually almost immediate.  However, if a native call such as a
Duktape/C function is in progress or no Ecmascript code is currently
executing, it may take longer for the pause to take effect.</p>
<p>The call is a no-op if (1) debugger support has not been compiled in, (2)
the debugger is not attached, or (3) Duktape is already paused.  This mimics
the semantics of the Ecmascript <code>debugger</code> statement.</p>
<div class="note">
Like all Duktape API calls, this call is not thread safe.  It may be tempting
to trigger a pause from a thread different than one running Ecmascript code
for the context, but this is unsafe and not currently supported.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_debugger_pause.4">Example <a class="sectionlink" href="#duk_debugger_pause.4">§</a></h2>
<pre class="c-code"><span class="comment">/* In your event loop: */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">key_pressed </span><span class="symbol">==</span><span class="normal"> KEY_F12</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_debugger_pause</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_decode_string">
<a href="#duk_decode_string"><span class="hidechar">.</span>duk_decode_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
 <a class="sectionlink" href="#duk_decode_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_decode_string.1">Prototype <a class="sectionlink" href="#duk_decode_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_decode_string(duk_context *ctx, int idx, duk_decode_char_function callback, void *udata);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_decode_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_decode_char_function</span><span class="normal"> callback</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_decode_string.2">Stack <a class="sectionlink" href="#duk_decode_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_decode_string.3">Summary <a class="sectionlink" href="#duk_decode_string.3">§</a></h2>
<p>Process string at <code>idx</code>, calling <code>callback</code> for each codepoint
of the string.  The callback is given the <code>udata</code> argument and a codepoint.
The input string is not modified.  If the value is not a string or the index is
invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_decode_string.4">Example <a class="sectionlink" href="#duk_decode_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">static</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="function">decode_char</span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_codepoint_t</span><span class="normal"> codepoint</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"codepoint: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> codepoint</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"test_string"</span><span class="symbol">);</span>
<span class="function">duk_decode_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> decode_char</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_decode_string.5">See also <a class="sectionlink" href="#duk_decode_string.5">§</a></h2>
<ul>
<li><a href="#duk_map_string">duk_map_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_def_prop">
<a href="#duk_def_prop"><span class="hidechar">.</span>duk_def_prop()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-sandbox">sandbox</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_def_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_def_prop.1">Prototype <a class="sectionlink" href="#duk_def_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_def_prop(duk_context *ctx, int obj_idx, unsigned int flags);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_def_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_def_prop.2">Stack <a class="sectionlink" href="#duk_def_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(if have no value, setter, getter)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">value</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(if have value)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">getter</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(if have getter, but no setter)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">setter</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(if have setter, but no getter)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">getter</span> <span class="elem active">setter</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(if have both getter and setter)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_def_prop.3">Summary <a class="sectionlink" href="#duk_def_prop.3">§</a></h2>
<p>Create or alter the attributes of property <code>key</code> of object at
<code>obj_idx</code>, with semantics like
<code><a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.2.3.6">Object.defineProperty()</a></code>.
When the requested change is not allowed (e.g. property is not configurable), a
<code>TypeError</code> is thrown.  If the target is not an object (or the
index is invalid) an error is thrown.</p>
<p>If the target is a Proxy object which implements the <code>defineProperty</code>
trap, the trap should be invoked.  However, Duktape doesn't currently support
the <code>defineProperty</code> trap.  When support is added, this API call will
start invoking the trap.</p>
<p>The flags field provides "have" flags to indicate what property attributes
are changed (this models the partial property descriptors allowed by
<code>Object.defineProperty()</code>).  Values for the writable, configurable,
and enumerable attributes are given in the flags field, while property value,
getter, and setter are given as value stack arguments.  When creating a new
property, missing attribute values cause
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.6.1">Ecmascript defaults</a>
to be used (false for all boolean attributes, undefined for value, getter, setter);
when modifying an existing property missing attribute values mean that existing
attribute values are not touched.</p>
<p>With the <code>DUK_DEFPROP_FORCE</code> flag property changes can be forced
even when an operation would normally fail due to a non-extensible target object
or a non-configurable property.  This cannot be done from Ecmascript code with
<code>Object.defineProperty()</code> and is useful for e.g. sandboxing setup.
In some cases even a forced change is not possible and will cause an error to be
thrown.  For instance, properties implemented internally as virtual properties
may not be modifiable (such as string <code>.length</code> and index properties)
or may have limitations (such as array <code>.length</code> property which cannot
be made configurable or enumerable due to internal limitations).</p>
<p>Some examples (see further examples below):</p>
<ul>
<li>To set the writable attribute, set flags to
    <code>DUK_DEFPROP_HAVE_WRITABLE | DUK_DEFPROP_WRITABLE</code>.</li>
<li>To clear the writable attribute, set flags to
    <code>DUK_DEFPROP_HAVE_WRITABLE</code>.</li>
<li>To set value, clear writable, and set enumerable, set flags to
    <code>DUK_DEFPROP_HAVE_VALUE | DUK_DEFPROP_HAVE_WRITABLE | DUK_DEFPROP_HAVE_ENUMERABLE | DUK_DEFPROP_ENUMERABLE</code>
    and provide the property value as a stack argument.</li>
<li>To forcibly set the value of a non-configurable property, set flags to
    <code>DUK_DEFPROP_HAVE_VALUE | DUK_DEFPROP_FORCE</code> and provide the
    new property value as a stack argument.</li>
</ul>
<p>In Duktape 1.4.0 convenience flags for setting/clearing attributes were added:</p>
<ul>
<li><code>DUK_DEFPROP_SET_WRITABLE</code> / <code>DUK_DEFPROP_CLEAR_WRITABLE</code></li>
<li><code>DUK_DEFPROP_SET_ENUMERABLE</code> / <code>DUK_DEFPROP_CLEAR_ENUMERABLE</code></li>
<li><code>DUK_DEFPROP_SET_CONFIGURABLE</code> / <code>DUK_DEFPROP_CLEAR_CONFIGURABLE</code></li>
</ul>
<p>This API call is useful for various things:</p>
<ul>
<li>To create properties with non-default attributes directly from C code.</li>
<li>To create accessor (getter/setter) properties directly from C code.</li>
<li>To modify the property attributes of existing properties directly from C code.</li>
</ul>
<p>See API testcase
<a href="https://github.com/svaarala/duktape/blob/master/tests/api/test-def-prop.c">test-def-prop.c</a>
for more examples.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_def_prop.4">Example <a class="sectionlink" href="#duk_def_prop.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="comment">/* Create an ordinary property which is writable and configurable, but</span>
<span class="comment"> * not enumerable.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_prop_1"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* prop value */</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_VALUE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_WRITABLE </span><span class="symbol">|</span><span class="normal"> DUK_DEFPROP_WRITABLE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_ENUMERABLE </span><span class="symbol">|</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_CONFIGURABLE </span><span class="symbol">|</span><span class="normal"> DUK_DEFPROP_CONFIGURABLE</span><span class="symbol">);</span>

<span class="comment">/* In Duktape 1.4.0 there are convenience defines to make the above</span>
<span class="comment"> * more readable.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_prop_1"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* prop value */</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_VALUE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_SET_WRITABLE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_CLEAR_ENUMERABLE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_SET_CONFIGURABLE</span><span class="symbol">);</span>

<span class="comment">/* Change the property value and make it non-writable.  Don't touch other</span>
<span class="comment"> * attributes.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_prop_1"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">321</span><span class="symbol">);</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_VALUE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_WRITABLE </span><span class="symbol">|</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="comment">/* Make the property non-configurable, don't touch value or other attributes. */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_prop_1"</span><span class="symbol">);</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_CONFIGURABLE </span><span class="symbol">|</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>

<span class="comment">/* Create an accessor property which is non-configurable and non-enumerable.</span>
<span class="comment"> * Attribute flags are not given so they default to Ecmascript defaults</span>
<span class="comment"> * (false) automatically.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_accessor_1"</span><span class="symbol">);</span>
<span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_getter</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">);</span>
<span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_setter</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">);</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_GETTER </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_SETTER</span><span class="symbol">);</span>

<span class="comment">/* Create an accessor property which is non-configurable but enumerable.</span>
<span class="comment"> * Attribute flags are given explicitly which is easier to read without</span>
<span class="comment"> * knowing about Ecmascript attribute default values.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_accessor_2"</span><span class="symbol">);</span>
<span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_getter</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">);</span>
<span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_setter</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">);</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_GETTER </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_SETTER </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_HAVE_CONFIGURABLE </span><span class="symbol">|</span><span class="normal">  </span><span class="comment">/* clear */</span>
<span class="normal">             DUK_DEFPROP_HAVE_ENUMERABLE </span><span class="symbol">|</span><span class="normal"> DUK_DEFPROP_ENUMERABLE</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* set */</span>

<span class="comment">/* Change the value of a non-configurable property by force. */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_nonconfigurable_prop"</span><span class="symbol">);</span>
<span class="function">duk_push_value</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">321</span><span class="symbol">);</span>
<span class="function">duk_def_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">             obj_idx</span><span class="symbol">,</span>
<span class="normal">             DUK_DEFPROP_HAVE_VALUE </span><span class="symbol">|</span>
<span class="normal">             DUK_DEFPROP_FORCE</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_def_prop.5">See also <a class="sectionlink" href="#duk_def_prop.5">§</a></h2>
<ul>
<li><a href="#duk_get_prop_desc">duk_get_prop_desc</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_del_prop">
<a href="#duk_del_prop"><span class="hidechar">.</span>duk_del_prop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_del_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_del_prop.1">Prototype <a class="sectionlink" href="#duk_del_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_del_prop(duk_context *ctx, int obj_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_del_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_del_prop.2">Stack <a class="sectionlink" href="#duk_del_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_del_prop.3">Summary <a class="sectionlink" href="#duk_del_prop.3">§</a></h2>
<p>Delete the property <code>key</code> of a value at <code>obj_idx</code>.
<code>key</code> is removed from the stack.  Return code and error throwing
behavior:</p>
<ul>
<li>If property exists and is configurable (deletable), deletes the
    property and returns <code>1</code>.</li>
<li>If property exists but is not configurable, throws an error
    (strict mode semantics).</li>
<li>If property does not exist, returns <code>1</code> (<i>not</i> 0).</li>
<li>If the value at <code>obj_idx</code> is not
    <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.10">object coercible</a>,
    throws an error.</li>
<li>If <code>obj_idx</code> is invalid, throws an error.</li>
</ul>
<p>The property deletion is equivalent to the Ecmascript expression
<code>res = delete obj[key]</code>.  For precise semantics, see
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.2.1">Property Accessors</a>,
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.4.1">The delete operator</a>
and <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.12.7">[[Delete]] (P, Throw)</a>.
The return value and error throwing behavior mirrors the Ecmascript
<code>delete</code> operator behavior.
Both the target value and the <code>key</code> are coerced:</p>
<ul>
<li>The target value is automatically coerced to an object.  However, this
    object is a temporary one, so deleting its properties is not very useful.</li>
<li>The <code>key</code> argument is internally coerced using ToPropertyKey()
    coercion which results in a string or a Symbol.  There is an internal
    fast path for arrays and numeric indices which avoids an explicit string
    coercion, so use a numeric <code>key</code> when applicable.</li>
</ul>
<p>If the target is a Proxy object which implements the <code>deleteProperty</code>
trap, the trap is invoked and the API call return value matches the trap return value.</p>
<div class="note">
This API call returns <code>1</code> when the target property does not exist.
This is not very intuitive, but follows Ecmascript semantics:
<code>delete obj.nonexistent</code> also evaluates to <code>true</code>.
</div>
<p>If the key is a fixed string you can avoid one API call and use the
<code><a href="#duk_del_prop_string">duk_del_prop_string()</a></code> variant.
Similarly, if the key is an array index, you can use the
<code><a href="#duk_del_prop_index">duk_del_prop_index()</a></code> variant.</p>
<div class="note">
Although the base value for property accesses is usually an object, it can
technically be an arbitrary value.  Plain string and buffer values have virtual
index properties so you can access <code>"foo"[2]</code>, for instance.
Most primitive values also inherit from some prototype object so that you can
e.g. call methods on them: <code>(12345).toString(16)</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_del_prop.4">Example <a class="sectionlink" href="#duk_del_prop.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myProperty"</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_del_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"delete obj.myProperty -&gt; rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_del_prop.5">See also <a class="sectionlink" href="#duk_del_prop.5">§</a></h2>
<ul>
<li><a href="#duk_del_prop_string">duk_del_prop_string</a></li>
<li><a href="#duk_del_prop_index">duk_del_prop_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_del_prop_index">
<a href="#duk_del_prop_index"><span class="hidechar">.</span>duk_del_prop_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_del_prop_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_del_prop_index.1">Prototype <a class="sectionlink" href="#duk_del_prop_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_del_prop_index(duk_context *ctx, int obj_idx, unsigned int arr_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_del_prop_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uarridx_t</span><span class="normal"> arr_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_del_prop_index.2">Stack <a class="sectionlink" href="#duk_del_prop_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_del_prop_index.3">Summary <a class="sectionlink" href="#duk_del_prop_index.3">§</a></h2>
<p>Like <code><a href="#duk_del_prop">duk_del_prop()</a></code>,
but the property name is given as an unsigned integer
<code>arr_idx</code>.  This is especially useful for deleting
array elements (but is not limited to that).</p>
<p>Conceptually the number is coerced to a string for the
property deletion, e.g. <code>123</code> would be equivalent to a property
name <code>"123"</code>.  Duktape avoids an explicit coercion whenever
possible.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_del_prop_index.4">Example <a class="sectionlink" href="#duk_del_prop_index.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_del_prop_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"delete obj[123] -&gt; rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_del_prop_lstring">
<a href="#duk_del_prop_lstring"><span class="hidechar">.</span>duk_del_prop_lstring()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_del_prop_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_del_prop_lstring.1">Prototype <a class="sectionlink" href="#duk_del_prop_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_del_prop_lstring(duk_context *ctx, int obj_idx, const char *key, size_t key_len);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_del_prop_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> key_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_del_prop_lstring.2">Stack <a class="sectionlink" href="#duk_del_prop_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_del_prop_lstring.3">Summary <a class="sectionlink" href="#duk_del_prop_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_del_prop">duk_del_prop()</a></code>,
but the property name is given as a string with explicit length.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_del_prop_lstring.4">Example <a class="sectionlink" href="#duk_del_prop_lstring.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_del_prop_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"internal"</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\x</span><span class="string">00"</span><span class="normal"> </span><span class="string">"nul"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"delete obj.internal[00]nul -&gt; rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_del_prop_lstring.5">See also <a class="sectionlink" href="#duk_del_prop_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_del_prop_string">duk_del_prop_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_del_prop_string">
<a href="#duk_del_prop_string"><span class="hidechar">.</span>duk_del_prop_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_del_prop_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_del_prop_string.1">Prototype <a class="sectionlink" href="#duk_del_prop_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_del_prop_string(duk_context *ctx, int obj_idx, const char *key);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_del_prop_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_del_prop_string.2">Stack <a class="sectionlink" href="#duk_del_prop_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_del_prop_string.3">Summary <a class="sectionlink" href="#duk_del_prop_string.3">§</a></h2>
<p>Like <code><a href="#duk_del_prop">duk_del_prop()</a></code>,
but the property name is given as a NUL-terminated C string
<code>key</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_del_prop_string.4">Example <a class="sectionlink" href="#duk_del_prop_string.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_del_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"propertyName"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"delete obj.propertyName -&gt; rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_del_prop_string.5">See also <a class="sectionlink" href="#duk_del_prop_string.5">§</a></h2>
<ul>
<li><a href="#duk_del_prop_lstring">duk_del_prop_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_destroy_heap">
<a href="#duk_destroy_heap"><span class="hidechar">.</span>duk_destroy_heap()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-heap">heap</a>
 <a class="sectionlink" href="#duk_destroy_heap">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_destroy_heap.1">Prototype <a class="sectionlink" href="#duk_destroy_heap.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_destroy_heap(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_destroy_heap</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_destroy_heap.2">Stack <a class="sectionlink" href="#duk_destroy_heap.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_destroy_heap.3">Summary <a class="sectionlink" href="#duk_destroy_heap.3">§</a></h2>
<p>Destroy a Duktape heap.  The argument context can be any context linked
to the heap.  All resources related to the heap are freed and must not be
referenced after the call completes.  These resources include all contexts
linked to the heap, and also all string and buffer pointers within the heap.</p>
<p>If <code>ctx</code> is <code>NULL</code>, the call is a no-op.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_destroy_heap.4">Example <a class="sectionlink" href="#duk_destroy_heap.4">§</a></h2>
<pre class="c-code"><span class="function">duk_destroy_heap</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_dump_function">
<a href="#duk_dump_function"><span class="hidechar">.</span>duk_dump_function()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-bytecode">bytecode</a>
 <a class="sectionlink" href="#duk_dump_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_dump_function.1">Prototype <a class="sectionlink" href="#duk_dump_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_dump_function(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_dump_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_dump_function.2">Stack <a class="sectionlink" href="#duk_dump_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">bytecode</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_dump_function.3">Summary <a class="sectionlink" href="#duk_dump_function.3">§</a></h2>
<p>Dump an Ecmascript function at stack top into
<a href="https://github.com/svaarala/duktape/blob/master/doc/bytecode.rst">bytecode</a>,
replacing the function with a buffer containing the bytecode data.
The bytecode can be loaded back using
<code><a href="#duk_load_function">duk_load_function()</a></code>.</p>
<div class="note">
For more information on Duktape bytecode dump/load, supported features,
and known limitations, see <a href="https://github.com/svaarala/duktape/blob/master/doc/bytecode.rst">bytecode.rst</a>.
Duktape bytecode format is not intended for obfuscation, see notes on
<a href="https://github.com/svaarala/duktape/blob/master/doc/bytecode.rst#obfuscation">Obfuscation</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_dump_function.4">Example <a class="sectionlink" href="#duk_dump_function.4">§</a></h2>
<pre class="c-code"><span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"(function helloWorld() { print('hello world'); })"</span><span class="symbol">);</span>
<span class="function">duk_dump_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="comment">/* stack top now contains a buffer containing helloWorld bytecode */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_dump_function.5">See also <a class="sectionlink" href="#duk_dump_function.5">§</a></h2>
<ul>
<li><a href="#duk_load_function">duk_load_function</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_dup">
<a href="#duk_dup"><span class="hidechar">.</span>duk_dup()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_dup">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_dup.1">Prototype <a class="sectionlink" href="#duk_dup.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_dup(duk_context *ctx, int from_idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_dup</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> from_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_dup.2">Stack <a class="sectionlink" href="#duk_dup.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_dup.3">Summary <a class="sectionlink" href="#duk_dup.3">§</a></h2>
<p>Push a duplicate of value at <code>from_idx</code> to the stack.
If <code>from_idx</code> is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_dup.4">Example <a class="sectionlink" href="#duk_dup.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... 123 ] */</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">234</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... 123 234 ] */</span>
<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span><span class="normal">        </span><span class="comment">/* -&gt; [ ... 123 234 123 ] */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_dup.5">See also <a class="sectionlink" href="#duk_dup.5">§</a></h2>
<ul>
<li><a href="#duk_dup_top">duk_dup_top</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_dup_top">
<a href="#duk_dup_top"><span class="hidechar">.</span>duk_dup_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_dup_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_dup_top.1">Prototype <a class="sectionlink" href="#duk_dup_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_dup_top(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_dup_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_dup_top.2">Stack <a class="sectionlink" href="#duk_dup_top.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem active">val</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_dup_top.3">Summary <a class="sectionlink" href="#duk_dup_top.3">§</a></h2>
<p>Push a duplicate of the value at stack top to the stack.
If the value stack is empty, throws an error.</p>
<p>Equivalent to calling
<code><a href="#duk_dup">duk_dup(ctx, -1)</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_dup_top.4">Example <a class="sectionlink" href="#duk_dup_top.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... 123 ] */</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">234</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... 123 234 ] */</span>
<span class="function">duk_dup_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">        </span><span class="comment">/* -&gt; [ ... 123 234 234 ] */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_enum">
<a href="#duk_enum"><span class="hidechar">.</span>duk_enum()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_enum">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_enum.1">Prototype <a class="sectionlink" href="#duk_enum.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_enum(duk_context *ctx, int obj_idx, unsigned int enum_flags);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_enum</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> enum_flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_enum.2">Stack <a class="sectionlink" href="#duk_enum.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_enum.3">Summary <a class="sectionlink" href="#duk_enum.3">§</a></h2>
<p>Create an enumerator for object at <code>obj_idx</code>.  Enumeration
details can be controlled with <code>enum_flags</code>.  If the target value
is not an object, throws an error.</p>
<p>Enumeration flags:</p>
<table>
<tr>
<td>DUK_ENUM_INCLUDE_NONENUMERABLE</td>
<td>Enumerate also non-enumerable properties, by default only enumerable
    properties are enumerated</td>
</tr>
<tr>
<td>DUK_ENUM_INCLUDE_HIDDEN</td>
<td>Enumerate also hidden Symbols, by default hidden Symbols are not
    enumerated.  Use together with <code>DUK_ENUM_INCLUDE_SYMBOLS</code>.
    In Duktape 1.x this flag was called <code>DUK_ENUM_INCLUDE_INTERNAL</code>.</td>
</tr>
<tr>
<td>DUK_ENUM_INCLUDE_SYMBOLS</td>
<td>Include Symbols in the enumeration result.  Hidden Symbols are not
    included unless <code>DUK_ENUM_INCLUDE_HIDDEN</code> is specified.</td>
</tr>
<tr>
<td>DUK_ENUM_EXCLUDE_STRINGS</td>
<td>Exclude strings from the enumeration result.  By default strings are
    included.</td>
</tr>
<tr>
<td>DUK_ENUM_OWN_PROPERTIES_ONLY</td>
<td>Enumerate only an object's "own" properties, by default also inherited
    properties are enumerated</td>
</tr>
<tr>
<td>DUK_ENUM_ARRAY_INDICES_ONLY</td>
<td>Enumerate only array indices, i.e. property names of the form "0", "1",
    "2", etc</td>
</tr>
<tr>
<td>DUK_ENUM_SORT_ARRAY_INDICES</td>
<td>Apply the ES2015 [[OwnPropertyKeys]] enumeration order over the whole
    enumeration result rather than per inheritance level, this has the
    effect of sorting array indices (even when inherited)</td>
</tr>
<tr>
<td>DUK_ENUM_NO_PROXY_BEHAVIOR</td>
<td>Enumerate a Proxy object itself without invoking Proxy behaviors.</td>
</tr>
</table>
<p>Without any flags the enumeration behaves like <code>for-in</code>:
own and inherited enumerable properties are included, and enumeration
order follows the
<a href="http://www.ecma-international.org/ecma-262/6.0/#sec-ordinary-object-internal-methods-and-internal-slots-ownpropertykeys">Ecmascript ES2015 [[OwnPropertyKeys]]</a>
enumeration order, applied for each inheritance level.</p>
<p>Once the enumerator has been created, use
<code><a href="#duk_next">duk_next()</a></code> to extract keys (or key/value
pairs) from the enumerator.</p>
<div class="note">
The ES2015 [[OwnPropertyKeys]] enumeration order is:
(1) array indices in ascending order, (2) non-array-index keys in their
insertion order, and (3) symbols in their insertion order.  This rule
is applied separately for each inheritance level, so that if array index
keys are inherited, they will appear out-of-order in the result.  For
most practical code this is not an issue because array indices are very
rarely inherited.  You can force the whole enumeration sequence to be
sorted using <code>DUK_ENUM_SORT_ARRAY_INDICES</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_enum.4">Example <a class="sectionlink" href="#duk_enum.4">§</a></h2>
<pre class="c-code"><span class="function">duk_enum</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> DUK_ENUM_INCLUDE_NONENUMERABLE</span><span class="symbol">);</span>

<span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_next</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="normal"> </span><span class="comment">/*enum_idx*/</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="comment">/*get_value*/</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* [ ... enum key ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"-&gt; key %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="normal">    </span><span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* pop_key */</span>
<span class="cbracket">}</span>

<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* pop enum object */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_enum.5">See also <a class="sectionlink" href="#duk_enum.5">§</a></h2>
<ul>
<li><a href="#duk_next">duk_next</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_equals">
<a href="#duk_equals"><span class="hidechar">.</span>duk_equals()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compare">compare</a>
 <a class="sectionlink" href="#duk_equals">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_equals.1">Prototype <a class="sectionlink" href="#duk_equals.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_equals(duk_context *ctx, int idx1, int idx2);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_equals</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx1</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_equals.2">Stack <a class="sectionlink" href="#duk_equals.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_equals.3">Summary <a class="sectionlink" href="#duk_equals.3">§</a></h2>
<p>Compare values at <code>idx1</code> and <code>idx2</code> for equality.
Returns 1 if values are considered equal using Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.1">Equals</a>
operator (<code>==</code>) semantics, otherwise returns 0.  Also returns 0 if either
index is invalid.</p>
<p>Because
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.3">The Abstract Equality Comparison Algorithm</a>
used by the Equals operator performs value coercion (<code>ToNumber()</code> and <code>ToPrimitive()</code>),
the comparison may have side effects and may throw an error.  The strict equality comparison,
available through <code><a href="#duk_strict_equals">duk_strict_equals()</a></code>, has no
side effects.</p>
<p>Comparison algorithm for Duktape custom types is described in
<a href="http://duktape.org/guide.html#non-strict-equality-algorithm">Equality (non-strict)</a>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_equals.4">Example <a class="sectionlink" href="#duk_equals.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_equals</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">7</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"values at indices -3 and -7 are equal</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_equals.5">See also <a class="sectionlink" href="#duk_equals.5">§</a></h2>
<ul>
<li><a href="#duk_strict_equals">duk_strict_equals</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_error">
<a href="#duk_error"><span class="hidechar">.</span>duk_error()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_error.1">Prototype <a class="sectionlink" href="#duk_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_error(duk_context *ctx, int err_code, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_errcode_t</span><span class="normal"> err_code</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_error.2">Stack <a class="sectionlink" href="#duk_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_error.3">Summary <a class="sectionlink" href="#duk_error.3">§</a></h2>
<p>Push a new Error object to the stack and throw it.
This call never returns.</p>
<p>The <code>message</code> property of the error object will be set to a <code>sprintf</code>-formatted
string using <code>fmt</code> and the remaining arguments.  The internal prototype for the created
error object is chosen based on <code>err_code</code>.  For instance, <code>DUK_ERR_RANGE_ERROR</code>
causes the built-in <code>RangeError</code> prototype to be used.  The valid range for user error codes
is [1,16777215].</p>
<p>To push an Error object to the stack without throwing it, use
<code><a href="#duk_push_error_object">duk_push_error_object()</a></code>.
</p>
<p>Even though the function never returns, the prototype describes a return
value which allows code such as:</p>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">argvalue </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_TYPE_ERROR</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"invalid argument value: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argvalue</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_error.4">Example <a class="sectionlink" href="#duk_error.4">§</a></h2>
<pre class="c-code"><span class="function">duk_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_RANGE_ERROR</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"argument out of range: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_error.5">See also <a class="sectionlink" href="#duk_error.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
<li><a href="#duk_throw">duk_throw</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_generic_error">duk_generic_error</a></li>
<li><a href="#duk_eval_error">duk_eval_error</a></li>
<li><a href="#duk_range_error">duk_range_error</a></li>
<li><a href="#duk_reference_error">duk_reference_error</a></li>
<li><a href="#duk_syntax_error">duk_syntax_error</a></li>
<li><a href="#duk_type_error">duk_type_error</a></li>
<li><a href="#duk_uri_error">duk_uri_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_error_va">
<a href="#duk_error_va"><span class="hidechar">.</span>duk_error_va()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_error_va.1">Prototype <a class="sectionlink" href="#duk_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_error_va(duk_context *ctx, int err_code, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_errcode_t</span><span class="normal"> err_code</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_error_va.2">Stack <a class="sectionlink" href="#duk_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_error_va.3">Summary <a class="sectionlink" href="#duk_error_va.3">§</a></h2>
<p>Vararg variant of
<code><a href="#duk_error">duk_error()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_error_va.4">Example <a class="sectionlink" href="#duk_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_range_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_RANGE_ERROR</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_error_va.5">See also <a class="sectionlink" href="#duk_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
<li><a href="#duk_throw">duk_throw</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
<li><a href="#duk_generic_error_va">duk_generic_error_va</a></li>
<li><a href="#duk_eval_error_va">duk_eval_error_va</a></li>
<li><a href="#duk_range_error_va">duk_range_error_va</a></li>
<li><a href="#duk_reference_error_va">duk_reference_error_va</a></li>
<li><a href="#duk_syntax_error_va">duk_syntax_error_va</a></li>
<li><a href="#duk_type_error_va">duk_type_error_va</a></li>
<li><a href="#duk_uri_error_va">duk_uri_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval">
<a href="#duk_eval"><span class="hidechar">.</span>duk_eval()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_eval">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval.1">Prototype <a class="sectionlink" href="#duk_eval.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_eval(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_eval</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval.2">Stack <a class="sectionlink" href="#duk_eval.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval.3">Summary <a class="sectionlink" href="#duk_eval.3">§</a></h2>
<p>Evaluate the Ecmascript source code at the top of the stack, and leave a single
return value on top of the stack.  May throw an error, errors are not caught
automatically.  The filename associated with the temporary eval function is
<code>"eval"</code>.</p>
<p>This is essentially a shortcut for:</p>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"eval"</span><span class="symbol">);</span>
<span class="function">duk_compile</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_COMPILE_EVAL</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... source filename ] -&gt; [ function ] */</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
</pre>
<p>The source code is evaluated in non-strict mode unless it contains an
explicit <code>"use strict"</code> directive.  In particular, strictness
of the current context is not transferred into the eval code.  This avoids
confusing behavior where eval strictness would depend on whether eval is
used inside a Duktape/C function call (strict mode) or outside of one
(non-strict mode).</p>
<p>If the eval input is a fixed string, you can also use
<code><a href="#duk_eval_string">duk_eval_string()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval.4">Example <a class="sectionlink" href="#duk_eval.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Eval result in Ecmascript is the last non-empty statement; here, the</span>
<span class="comment"> * result of the eval is the number 123.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('Hello world!'); 123;"</span><span class="symbol">);</span>
<span class="function">duk_eval</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"return value is: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_eval.5">See also <a class="sectionlink" href="#duk_eval.5">§</a></h2>
<ul>
<li><a href="#duk_peval">duk_peval</a></li>
<li><a href="#duk_eval_noresult">duk_eval_noresult</a></li>
<li><a href="#duk_eval_string">duk_eval_string</a></li>
<li><a href="#duk_eval_string_noresult">duk_eval_string_noresult</a></li>
<li><a href="#duk_eval_lstring">duk_eval_lstring</a></li>
<li><a href="#duk_eval_lstring_noresult">duk_eval_lstring_noresult</a></li>
<li><a href="#duk_eval_file">duk_eval_file</a></li>
<li><a href="#duk_eval_file_noresult">duk_eval_file_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_error">
<a href="#duk_eval_error"><span class="hidechar">.</span>duk_eval_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_eval_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_error.1">Prototype <a class="sectionlink" href="#duk_eval_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_eval_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_eval_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_error.2">Stack <a class="sectionlink" href="#duk_eval_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_error.3">Summary <a class="sectionlink" href="#duk_eval_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_EVAL_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_error.4">Example <a class="sectionlink" href="#duk_eval_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_eval_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_eval_error.5">See also <a class="sectionlink" href="#duk_eval_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_error_va">
<a href="#duk_eval_error_va"><span class="hidechar">.</span>duk_eval_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_eval_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_error_va.1">Prototype <a class="sectionlink" href="#duk_eval_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_eval_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_eval_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_error_va.2">Stack <a class="sectionlink" href="#duk_eval_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_error_va.3">Summary <a class="sectionlink" href="#duk_eval_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_EVAL_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_error_va.4">Example <a class="sectionlink" href="#duk_eval_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_eval_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_eval_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_eval_error_va.5">See also <a class="sectionlink" href="#duk_eval_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_lstring">
<a href="#duk_eval_lstring"><span class="hidechar">.</span>duk_eval_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_eval_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_lstring.1">Prototype <a class="sectionlink" href="#duk_eval_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_eval_lstring(duk_context *ctx, const char *src, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_eval_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_lstring.2">Stack <a class="sectionlink" href="#duk_eval_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_lstring.3">Summary <a class="sectionlink" href="#duk_eval_lstring.3">§</a></h2>
<p>Like
<code><a href="#duk_eval">duk_eval()</a></code>, but the eval input
is given as a C string with explicit length.  The filename associated with
the temporary eval function is <code>"eval"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_lstring.4">Example <a class="sectionlink" href="#duk_eval_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_eval_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"result is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_eval_lstring.5">See also <a class="sectionlink" href="#duk_eval_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_eval_lstring_noresult">duk_eval_lstring_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_lstring_noresult">
<a href="#duk_eval_lstring_noresult"><span class="hidechar">.</span>duk_eval_lstring_noresult()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_eval_lstring_noresult">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_lstring_noresult.1">Prototype <a class="sectionlink" href="#duk_eval_lstring_noresult.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_eval_lstring_noresult(duk_context *ctx, const char *src, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_eval_lstring_noresult</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_lstring_noresult.2">Stack <a class="sectionlink" href="#duk_eval_lstring_noresult.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_lstring_noresult.3">Summary <a class="sectionlink" href="#duk_eval_lstring_noresult.3">§</a></h2>
<p>Like
<code><a href="#duk_eval_lstring">duk_eval_lstring()</a></code>, but leaves no
result on the value stack.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_lstring_noresult.4">Example <a class="sectionlink" href="#duk_eval_lstring_noresult.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_eval_lstring_noresult</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_noresult">
<a href="#duk_eval_noresult"><span class="hidechar">.</span>duk_eval_noresult()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_eval_noresult">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_noresult.1">Prototype <a class="sectionlink" href="#duk_eval_noresult.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_eval_noresult(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_eval_noresult</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_noresult.2">Stack <a class="sectionlink" href="#duk_eval_noresult.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_noresult.3">Summary <a class="sectionlink" href="#duk_eval_noresult.3">§</a></h2>
<p>Like
<code><a href="#duk_eval">duk_eval()</a></code>, but leaves no result on
the value stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_noresult.4">Example <a class="sectionlink" href="#duk_eval_noresult.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('Hello world!');"</span><span class="symbol">);</span>
<span class="function">duk_eval_noresult</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_eval_noresult.5">See also <a class="sectionlink" href="#duk_eval_noresult.5">§</a></h2>
<ul>
<li><a href="#duk_eval_string_noresult">duk_eval_string_noresult</a></li>
<li><a href="#duk_eval_lstring_noresult">duk_eval_lstring_noresult</a></li>
<li><a href="#duk_eval_file_noresult">duk_eval_file_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_string">
<a href="#duk_eval_string"><span class="hidechar">.</span>duk_eval_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_eval_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_string.1">Prototype <a class="sectionlink" href="#duk_eval_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_eval_string(duk_context *ctx, const char *src);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_eval_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_string.2">Stack <a class="sectionlink" href="#duk_eval_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_string.3">Summary <a class="sectionlink" href="#duk_eval_string.3">§</a></h2>
<p>Like
<code><a href="#duk_eval">duk_eval()</a></code>, but the eval input
is given as a C string.  The filename associated with the temporary
eval function is <code>"eval"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_string.4">Example <a class="sectionlink" href="#duk_eval_string.4">§</a></h2>
<pre class="c-code"><span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"'testString'.toUpperCase()"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"result is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_eval_string.5">See also <a class="sectionlink" href="#duk_eval_string.5">§</a></h2>
<ul>
<li><a href="#duk_eval_string_noresult">duk_eval_string_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_eval_string_noresult">
<a href="#duk_eval_string_noresult"><span class="hidechar">.</span>duk_eval_string_noresult()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_eval_string_noresult">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_eval_string_noresult.1">Prototype <a class="sectionlink" href="#duk_eval_string_noresult.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_eval_string_noresult(duk_context *ctx, const char *src);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_eval_string_noresult</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_eval_string_noresult.2">Stack <a class="sectionlink" href="#duk_eval_string_noresult.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_eval_string_noresult.3">Summary <a class="sectionlink" href="#duk_eval_string_noresult.3">§</a></h2>
<p>Like
<code><a href="#duk_eval_string">duk_eval_string()</a></code>, but leaves no
result on the value stack.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_eval_string_noresult.4">Example <a class="sectionlink" href="#duk_eval_string_noresult.4">§</a></h2>
<pre class="c-code"><span class="function">duk_eval_string_noresult</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('testString'.toUpperCase())"</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_fatal">
<a href="#duk_fatal"><span class="hidechar">.</span>duk_fatal()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_fatal">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_fatal.1">Prototype <a class="sectionlink" href="#duk_fatal.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_fatal(duk_context *ctx, const char *err_msg);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_fatal</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">err_msg</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_fatal.2">Stack <a class="sectionlink" href="#duk_fatal.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_fatal.3">Summary <a class="sectionlink" href="#duk_fatal.3">§</a></h2>
<p>Call fatal error handler with an optional message (<code>err_msg</code>
may be <code>NULL</code>).  Like all strings in Duktape, the error message
should be an UTF-8 string, although pure ASCII is strongly recommended.</p>
<p>A fatal error handler never returns and may e.g. exit the current
process.  Error catching points (like <code>try-catch</code> statements
and error catching API calls) are bypassed, and finalizers are not executed.
You should only call this function when a truly fatal, unrecoverable error
has occurred.</p>
<p>Even though the function never returns, the prototype describes a return
value which allows code such as:</p>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">argvalue </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_fatal</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"argvalue invalid, cannot continue execution"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre></div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_fatal.4">Example <a class="sectionlink" href="#duk_fatal.4">§</a></h2>
<pre class="c-code"><span class="function">duk_fatal</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"assumption failed"</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_free">
<a href="#duk_free"><span class="hidechar">.</span>duk_free()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_free">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_free.1">Prototype <a class="sectionlink" href="#duk_free.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_free(duk_context *ctx, void *ptr);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_free</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_free.2">Stack <a class="sectionlink" href="#duk_free.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_free.3">Summary <a class="sectionlink" href="#duk_free.3">§</a></h2>
<p>Like <code><a href="#duk_free_raw">duk_free_raw()</a></code> but may involve
garbage collection steps.  The garbage collection interaction cannot cause
the operation to fail.</p>
<p><code>duk_free()</code> can be used to free memory allocated with either
<code><a href="#duk_alloc">duk_alloc()</a></code> or
<code><a href="#duk_alloc_raw">duk_alloc_raw()</a></code>
and their reallocation variants.</p>
<div class="note">
Currently a <code>duk_free()</code> cannot cause a garbage collection
pass but does update internal GC trigger counters.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_free.4">Example <a class="sectionlink" href="#duk_free.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_alloc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="comment">/* ... */</span>

<span class="function">duk_free</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> buf</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* safe even if 'buf' is NULL */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_free.5">See also <a class="sectionlink" href="#duk_free.5">§</a></h2>
<ul>
<li><a href="#duk_free_raw">duk_free_raw</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_free_raw">
<a href="#duk_free_raw"><span class="hidechar">.</span>duk_free_raw()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_free_raw">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_free_raw.1">Prototype <a class="sectionlink" href="#duk_free_raw.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_free_raw(duk_context *ctx, void *ptr);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_free_raw</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_free_raw.2">Stack <a class="sectionlink" href="#duk_free_raw.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_free_raw.3">Summary <a class="sectionlink" href="#duk_free_raw.3">§</a></h2>
<p>Free memory allocated with the allocation function registered to the
context.  The operation cannot fail.  If <code>ptr</code> is <code>NULL</code>,
the call is a no-op.</p>
<p><code>duk_free_raw()</code> can be used to free memory allocated with either
<code><a href="#duk_alloc">duk_alloc()</a></code> or
<code><a href="#duk_alloc_raw">duk_alloc_raw()</a></code>
and their reallocation variants.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_free_raw.4">Example <a class="sectionlink" href="#duk_free_raw.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_alloc_raw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="comment">/* ... */</span>

<span class="function">duk_free_raw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> buf</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* safe even if 'buf' is NULL */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_free_raw.5">See also <a class="sectionlink" href="#duk_free_raw.5">§</a></h2>
<ul>
<li><a href="#duk_free">duk_free</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_gc">
<a href="#duk_gc"><span class="hidechar">.</span>duk_gc()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
<a class="apitag" href="#taglist-heap">heap</a>
 <a class="sectionlink" href="#duk_gc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_gc.1">Prototype <a class="sectionlink" href="#duk_gc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_gc(duk_context *ctx, unsigned int flags);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_gc</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_gc.2">Stack <a class="sectionlink" href="#duk_gc.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_gc.3">Summary <a class="sectionlink" href="#duk_gc.3">§</a></h2>
<p>Force a mark-and-sweep garbage collection round.  If mark-and-sweep is
disabled in the Duktape build, the call is a no-op.</p>
<p>The following flags are defined:</p>
<table>
<tr><th>Define</th><th>Description</th></tr>
<tr><td>DUK_GC_COMPACT</td><td>Force object property table compaction</td></tr>
</table>
<p>You may want to call this function twice to ensure even objects with
finalizers are collected.  Currently it takes two mark-and-sweep rounds
to collect such objects.  First round marks the object as finalizable and
runs the finalizer.   Second round ensures the object is still
unreachable after finalization and then frees the object.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_gc.4">Example <a class="sectionlink" href="#duk_gc.4">§</a></h2>
<pre class="c-code"><span class="function">duk_gc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_generic_error">
<a href="#duk_generic_error"><span class="hidechar">.</span>duk_generic_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_generic_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_generic_error.1">Prototype <a class="sectionlink" href="#duk_generic_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_generic_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_generic_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_generic_error.2">Stack <a class="sectionlink" href="#duk_generic_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_generic_error.3">Summary <a class="sectionlink" href="#duk_generic_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_generic_error.4">Example <a class="sectionlink" href="#duk_generic_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_generic_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_generic_error.5">See also <a class="sectionlink" href="#duk_generic_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_generic_error_va">
<a href="#duk_generic_error_va"><span class="hidechar">.</span>duk_generic_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_generic_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_generic_error_va.1">Prototype <a class="sectionlink" href="#duk_generic_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_generic_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_generic_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_generic_error_va.2">Stack <a class="sectionlink" href="#duk_generic_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_generic_error_va.3">Summary <a class="sectionlink" href="#duk_generic_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_generic_error_va.4">Example <a class="sectionlink" href="#duk_generic_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_generic_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_generic_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_generic_error_va.5">See also <a class="sectionlink" href="#duk_generic_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_boolean">
<a href="#duk_get_boolean"><span class="hidechar">.</span>duk_get_boolean()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_boolean">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_boolean.1">Prototype <a class="sectionlink" href="#duk_get_boolean.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_boolean(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_boolean</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_boolean.2">Stack <a class="sectionlink" href="#duk_get_boolean.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_boolean.3">Summary <a class="sectionlink" href="#duk_get_boolean.3">§</a></h2>
<p>Get the boolean value at <code>idx</code> without modifying or coercing
the value.  Returns 1 if the value is <code>true</code>, 0 if the value is
<code>false</code>, not a boolean, or the index is invalid.</p>
<p>Note that the value is not coerced, so even a "truthy" Ecmascript value
(like a non-empty string) will be treated as false.  If you want to coerce
the value, use <code><a href="#duk_to_boolean">duk_to_boolean()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_boolean.4">Example <a class="sectionlink" href="#duk_get_boolean.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is true</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_buffer">
<a href="#duk_get_buffer"><span class="hidechar">.</span>duk_get_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_get_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_buffer.1">Prototype <a class="sectionlink" href="#duk_get_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_get_buffer(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_buffer.2">Stack <a class="sectionlink" href="#duk_get_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_buffer.3">Summary <a class="sectionlink" href="#duk_get_buffer.3">§</a></h2>
<p>Get the data pointer for a (plain) buffer value at <code>idx</code> without
modifying or coercing the value.  Returns a non-<code>NULL</code> pointer if the value
is a valid buffer with a non-zero size.  For a zero-size buffer, may return a
<code>NULL</code> or a non-<code>NULL</code> pointer.  Returns <code>NULL</code>
if the value is not a buffer or the index is invalid.  If <code>out_size</code> is
non-<code>NULL</code>, the size of the buffer is written to <code>*out_size</code>; 0
is written if the return value is <code>NULL</code>.</p>
<p>If the target value is a fixed buffer, the returned pointer is stable and
won't change during the lifetime of the buffer.  For dynamic and external
buffers the pointer may change as the buffer is resized or reconfigured;
the caller is responsible for ensuring pointer values returned from this API
call are not used after the buffer is resized/reconfigured.</p>
<div class="note">
There is no reliable way to distinguish a zero-size buffer from a non-buffer
based on the return values alone: a <code>NULL</code> with zero size is returned
for a non-buffer.  The same values may be returned for a zero-size buffer (although
it is also possible that a non-<code>NULL</code> pointer is returned).  Use
<code><a href="#duk_is_buffer_data">duk_is_buffer_data()</a></code> when type
checking a buffer or a buffer object.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_buffer.4">Example <a class="sectionlink" href="#duk_get_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"buf=%p, size=%lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_buffer.5">See also <a class="sectionlink" href="#duk_get_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_buffer_data">
<a href="#duk_get_buffer_data"><span class="hidechar">.</span>duk_get_buffer_data()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-bufferobject">bufferobject</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_get_buffer_data">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_buffer_data.1">Prototype <a class="sectionlink" href="#duk_get_buffer_data.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_get_buffer_data(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_buffer_data</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_buffer_data.2">Stack <a class="sectionlink" href="#duk_get_buffer_data.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_buffer_data.3">Summary <a class="sectionlink" href="#duk_get_buffer_data.3">§</a></h2>
<p>Get the data pointer for a plain buffer or a buffer object (ArrayBuffer,
Node.js Buffer, DataView, or TypedArray view) value at <code>idx</code> without
modifying or coercing the value.  Return a non-<code>NULL</code> pointer if the
value is a valid buffer with a non-zero size.  For a zero-size buffer, may return
a <code>NULL</code> or a non-<code>NULL</code> pointer.  Returns <code>NULL</code>
if the value is not a buffer, the value is a buffer object whose "backing buffer"
doesn't fully cover the buffer object's apparent size, or the index is invalid.
If <code>out_size</code> is non-<code>NULL</code>, the size of the buffer is
written to <code>*out_size</code>; 0 is written if the return value is
<code>NULL</code>.</p>
<p>The data area indicated by the return pointer and length is the full
buffer for a plain buffer value, and the active "slice" for a buffer object.
The length returned is expressed in bytes (instead of elements), so that you
can always access <code>ptr[0]</code> to <code>ptr[len - 1]</code>.
For example:</p>
<ul>
<li>For <code>new Uint8Array(16)</code> the return pointer would point to
    start of the array and length would be 16.</li>
<li>For <code>new Uint32Array(16)</code> the return pointer would point to
    start of the array and length would be 64.</li>
<li>For <code>new Uint32Array(16).subarray(2, 6)</code> the return pointer
    would point to the start of the subarray (2 x 4 = 8 bytes from the start
    of the Uint32Array) and length would be 16 ((6-2) x 4).</li>
</ul>
<p>If the target value or the underlying buffer value of a buffer object is a
fixed buffer, the returned pointer is stable and won't change during the
lifetime of the buffer.  For dynamic and external buffers the pointer may
change as the buffer is resized or reconfigured; the caller is responsible for
ensuring pointer values returned from this API call are not used after the
buffer is resized/reconfigured.  Buffers created from Ecmascript code directly
e.g. as <code>new Buffer(8)</code> are backed by an automatic fixed buffer, so
their pointers are always stable.</p>
<p>In special cases it's possible that a buffer object is backed by a plain
buffer which is smaller than the buffer object's apparent size.  In these
cases a <code>NULL</code> is returned; this ensures that the pointer and size
returned can always be used safely.  (This behavior may change even in minor
versions.)</p>
<div class="note">
There is no reliable way to distinguish a zero-size buffer from a non-buffer
based on the return values alone: a <code>NULL</code> with zero size is returned
for a non-buffer.  The same values may be returned for a zero-size buffer (although
it is also possible that a non-<code>NULL</code> pointer is returned).  Use
<code><a href="#duk_is_buffer_data">duk_is_buffer_data()</a></code> when type
checking a buffer or a buffer object.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_buffer_data.4">Example <a class="sectionlink" href="#duk_get_buffer_data.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"new Uint16Array(16)"</span><span class="symbol">);</span>
<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_buffer_data</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>

<span class="comment">/* Here 'ptr' would be non-NULL and sz would be 32 (bytes). */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_buffer_data.5">See also <a class="sectionlink" href="#duk_get_buffer_data.5">§</a></h2>
<ul>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_c_function">
<a href="#duk_get_c_function"><span class="hidechar">.</span>duk_get_c_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_get_c_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_c_function.1">Prototype <a class="sectionlink" href="#duk_get_c_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): duk_c_function duk_get_c_function(duk_context *ctx, int idx);"><span class="usertype">duk_c_function</span><span class="normal"> </span><span class="function">duk_get_c_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_c_function.2">Stack <a class="sectionlink" href="#duk_get_c_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_c_function.3">Summary <a class="sectionlink" href="#duk_get_c_function.3">§</a></h2>
<p>Get the Duktape/C function pointer (a <code>duk_c_function</code>) from an
Ecmascript function object associated with a Duktape/C function.  If the
value is not such a function or <code>idx</code> is invalid, returns <code>NULL</code>.</p>
<p>If you prefer an error to be thrown for an invalid value or index, use
<code><a href="#duk_require_c_function">duk_require_c_function()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_c_function.4">Example <a class="sectionlink" href="#duk_get_c_function.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_c_function</span><span class="normal"> funcptr</span><span class="symbol">;</span>

<span class="normal">funcptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_context">
<a href="#duk_get_context"><span class="hidechar">.</span>duk_get_context()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_get_context">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_context.1">Prototype <a class="sectionlink" href="#duk_get_context.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): duk_context *duk_get_context(duk_context *ctx, int idx);"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_context</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_context.2">Stack <a class="sectionlink" href="#duk_get_context.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_context.3">Summary <a class="sectionlink" href="#duk_get_context.3">§</a></h2>
<p>Get a context pointer for a Duktape thread at <code>idx</code>.  If the
value at <code>idx</code> is not a Duktape thread or the index is invalid,
returns <code>NULL</code>.</p>
<p>The returned context pointer is only valid while the Duktape thread
is reachable from a garbage collection point of view.</p>
<p>If you prefer an error to be thrown for an invalid value or index,
use <code><a href="#duk_require_context">duk_require_context()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_context.4">Example <a class="sectionlink" href="#duk_get_context.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">new_ctx</span><span class="symbol">;</span>

<span class="comment">/* Create a new thread and get a context pointer. */</span>

<span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_push_thread</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">new_ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_context</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>

<span class="comment">/* You can use new_ctx as long as the related thread is reachable</span>
<span class="comment"> * from a garbage collection point of view.</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">new_ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>

<span class="comment">/* This duk_pop() makes the new thread unreachable (assuming there</span>
<span class="comment"> * is no other reference to it), so new_ctx is no longer valid</span>
<span class="comment"> * afterwards.</span>
<span class="comment"> */</span>

<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Using new_ctx here may cause a crash. */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_current_magic">
<a href="#duk_get_current_magic"><span class="hidechar">.</span>duk_get_current_magic()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-magic">magic</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_get_current_magic">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_current_magic.1">Prototype <a class="sectionlink" href="#duk_get_current_magic.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_current_magic(duk_context *ctx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_get_current_magic</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_current_magic.2">Stack <a class="sectionlink" href="#duk_get_current_magic.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_current_magic.3">Summary <a class="sectionlink" href="#duk_get_current_magic.3">§</a></h2>
<p>Get the 16-bit signed "magic" value associated with the running
Duktape/C function.  If there is no current activation, zero is returned.</p>
<p>The magic function allows the same Duktape/C function to be used with slightly
different behavior; behavior flags or other parameters can be passed in the
magic field.  This is less expensive than having behavior related flags or
properties in the function object as normal properties.</p>
<p>If you need an unsigned 16-bit value, simply AND the result:</p>
<pre class="c-code"><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="normal"> my_flags </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">((</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_current_magic</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">))</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> 0xffffU</span><span class="symbol">;</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_current_magic.4">Example <a class="sectionlink" href="#duk_get_current_magic.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_int_t</span><span class="normal"> my_flags </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_current_magic</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">my_flags </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="number">0x01</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"flag set</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"flag not set</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_current_magic.5">See also <a class="sectionlink" href="#duk_get_current_magic.5">§</a></h2>
<ul>
<li><a href="#duk_get_magic">duk_get_magic</a></li>
<li><a href="#duk_set_magic">duk_set_magic</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_error_code">
<a href="#duk_get_error_code"><span class="hidechar">.</span>duk_get_error_code()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_get_error_code">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_error_code.1">Prototype <a class="sectionlink" href="#duk_get_error_code.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_error_code(duk_context *ctx, int idx);"><span class="usertype">duk_errcode_t</span><span class="normal"> </span><span class="function">duk_get_error_code</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_error_code.2">Stack <a class="sectionlink" href="#duk_get_error_code.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_error_code.3">Summary <a class="sectionlink" href="#duk_get_error_code.3">§</a></h2>
<p>Map the value at <code>idx</code> to the error codes <code>DUK_ERR_xxx</code>
based on which <code>Error</code> subclass the value inherits from.  For example,
if the value at the stack top is an user-defined error which inherits from
<code>ReferenceError</code>, the return value will be <code>DUK_ERR_REFERENCE_ERROR</code>.
If the value inherits from <code>Error</code> but doesn't inherit from any of
the standard subclasses (EvalError, RangeError, ReferenceError, SyntaxError,
TypeError, URIError) <code>DUK_ERR_ERROR</code> is returned.
If the value is not an object, does not inherit from <code>Error</code>, or
<code>idx</code> is invalid, returns 0 (= <code>DUK_ERR_NONE</code>).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_error_code.4">Example <a class="sectionlink" href="#duk_get_error_code.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_error_code</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> DUK_ERR_URI_ERROR</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"Invalid URI</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_finalizer">
<a href="#duk_get_finalizer"><span class="hidechar">.</span>duk_get_finalizer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-finalizer">finalizer</a>
 <a class="sectionlink" href="#duk_get_finalizer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_finalizer.1">Prototype <a class="sectionlink" href="#duk_get_finalizer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_get_finalizer(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_get_finalizer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_finalizer.2">Stack <a class="sectionlink" href="#duk_get_finalizer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="elem active">finalizer</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_finalizer.3">Summary <a class="sectionlink" href="#duk_get_finalizer.3">§</a></h2>
<p>Get the finalizer associated with a value at <code>idx</code>.  If the
value is not an object or it is an object without a finalizer,
<code>undefined</code> is pushed to the stack instead.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_finalizer.4">Example <a class="sectionlink" href="#duk_get_finalizer.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Get the finalizer of an object at index -3. */</span>
<span class="function">duk_get_finalizer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_finalizer.5">See also <a class="sectionlink" href="#duk_get_finalizer.5">§</a></h2>
<ul>
<li><a href="#duk_set_finalizer">duk_set_finalizer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_global_lstring">
<a href="#duk_get_global_lstring"><span class="hidechar">.</span>duk_get_global_lstring()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_global_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_global_lstring.1">Prototype <a class="sectionlink" href="#duk_get_global_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_global_lstring(duk_context *ctx, const char *key, size_t key_len);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_global_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> key_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_global_lstring.2">Stack <a class="sectionlink" href="#duk_get_global_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_global_lstring.3">Summary <a class="sectionlink" href="#duk_get_global_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_get_global_string">duk_get_global_string()</a></code>
but the key is given as a string with explicit length.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_global_lstring.4">Example <a class="sectionlink" href="#duk_get_global_lstring.4">§</a></h2>
<pre class="c-code"><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_global_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"internal"</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\x</span><span class="string">00"</span><span class="normal"> </span><span class="string">"nul"</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_global_lstring.5">See also <a class="sectionlink" href="#duk_get_global_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_get_global_string">duk_get_global_string</a></li>
<li><a href="#duk_put_global_string">duk_put_global_string</a></li>
<li><a href="#duk_put_global_lstring">duk_put_global_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_global_string">
<a href="#duk_get_global_string"><span class="hidechar">.</span>duk_get_global_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_global_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_global_string.1">Prototype <a class="sectionlink" href="#duk_get_global_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_global_string(duk_context *ctx, const char *key);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_global_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_global_string.2">Stack <a class="sectionlink" href="#duk_get_global_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_global_string.3">Summary <a class="sectionlink" href="#duk_get_global_string.3">§</a></h2>
<p>Get property named <code>key</code> from the global object.
Returns non-zero if the property exists and zero otherwise.
This is a convenience function which does the equivalent of:</p>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> ret</span><span class="symbol">;</span>

<span class="function">duk_push_global_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">ret </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> key</span><span class="symbol">);</span>
<span class="function">duk_remove</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span>
<span class="comment">/* 'ret' would be the return value from duk_get_global_string() */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_global_string.4">Example <a class="sectionlink" href="#duk_get_global_string.4">§</a></h2>
<pre class="c-code"><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_global_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"encodeURIComponent"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo bar"</span><span class="symbol">);</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... encodeURIComponent "foo bar" ] -&gt; [ "foo%20bar" ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"encoded: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_global_string.5">See also <a class="sectionlink" href="#duk_get_global_string.5">§</a></h2>
<ul>
<li><a href="#duk_get_global_lstring">duk_get_global_lstring</a></li>
<li><a href="#duk_put_global_string">duk_put_global_string</a></li>
<li><a href="#duk_put_global_lstring">duk_put_global_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_heapptr">
<a href="#duk_get_heapptr"><span class="hidechar">.</span>duk_get_heapptr()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_get_heapptr">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_heapptr.1">Prototype <a class="sectionlink" href="#duk_get_heapptr.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_get_heapptr(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_heapptr</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_heapptr.2">Stack <a class="sectionlink" href="#duk_get_heapptr.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_heapptr.3">Summary <a class="sectionlink" href="#duk_get_heapptr.3">§</a></h2>
<p>Get a borrowed <code>void *</code> reference to a Duktape heap allocated
value (object, buffer, string) at <code>idx</code>.  Return <code>NULL</code>
if the index is invalid or the target value is not heap allocated.
The returned pointer must not be interpreted or dereferenced, but
<code><a href="#duk_push_heapptr">duk_push_heapptr()</a></code> can be used
to push the original value into the value stack later.</p>
<p>The returned void pointer is only valid while the original value is
reachable from a garbage collection point of view.  If this is not the case,
it is memory unsafe to use
<code><a href="#duk_push_heapptr">duk_push_heapptr()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_heapptr.4">Example <a class="sectionlink" href="#duk_get_heapptr.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">new_ctx</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>

<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"({ foo: 'bar' })"</span><span class="symbol">);</span>
<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_heapptr</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>

<span class="comment">/* The original value must remain reachable for Duktape up to a future</span>
<span class="comment"> * duk_push_heapptr().  Here we just write it to the global object, but</span>
<span class="comment"> * it could also be a value stack somewhere, a stash object, etc.</span>
<span class="comment"> */</span>
<span class="function">duk_put_global_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"ref"</span><span class="symbol">);</span>

<span class="comment">/* Later, assuming the original value has been reachable all the way</span>
<span class="comment"> * to here:</span>
<span class="comment"> */</span>

<span class="function">duk_push_heapptr</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">);</span>
<span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"obj.foo: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* prints 'bar' */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_heapptr.5">See also <a class="sectionlink" href="#duk_get_heapptr.5">§</a></h2>
<ul>
<li><a href="#duk_require_heapptr">duk_require_heapptr</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_int">
<a href="#duk_get_int"><span class="hidechar">.</span>duk_get_int()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_int">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_int.1">Prototype <a class="sectionlink" href="#duk_get_int.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_int(duk_context *ctx, int idx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_int.2">Stack <a class="sectionlink" href="#duk_get_int.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_int.3">Summary <a class="sectionlink" href="#duk_get_int.3">§</a></h2>
<p>Get the number at <code>idx</code> and convert it to a C <code>duk_int_t</code>
by first clamping the value between [DUK_INT_MIN, DUK_INT_MAX] and then
truncating towards zero.  The value on the stack is not modified.
If the value is a NaN, is not a number, or the index is invalid,
returns 0.</p>
<p>Conversion examples:</p>
<table>
<tr><th>Input</th><th>Output</th></tr>
<tr><td>-Infinity</td><td>DUK_INT_MIN</td></tr>
<tr><td>DUK_INT_MIN - 1</td><td>DUK_INT_MIN</td></tr>
<tr><td>-3.9</td><td>-3</td></tr>
<tr><td>3.9</td><td>3</td></tr>
<tr><td>DUK_INT_MAX + 1</td><td>DUK_INT_MAX</td></tr>
<tr><td>+Infinity</td><td>DUK_INT_MAX</td></tr>
<tr><td>NaN</td><td>0</td></tr>
<tr><td>"123"</td><td>0 (non-number)</td></tr>
</table>
<div class="note">
The coercion is different from a basic C cast from <code>double</code> to
integer, which may have counterintuitive (and non-portable) behavior like coercing
NaN to <code>DUK_INT_MIN</code>.  The coercion is also different from Ecmascript
<code>ToInt32()</code> coercion because the full range of the native
<code>duk_int_t</code> is allowed (which may be more than 32 bits).
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_int.4">Example <a class="sectionlink" href="#duk_get_int.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"int value: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_length">
<a href="#duk_get_length"><span class="hidechar">.</span>duk_get_length()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_length">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_length.1">Prototype <a class="sectionlink" href="#duk_get_length.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): size_t duk_get_length(duk_context *ctx, int idx);"><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="function">duk_get_length</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_length.2">Stack <a class="sectionlink" href="#duk_get_length.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_length.3">Summary <a class="sectionlink" href="#duk_get_length.3">§</a></h2>
<p>Get a type-specific "length" for value at <code>idx</code>:</p>
<ul>
<li>String: character length of string (<i>not</i> byte length)</li>
<li>Object: <code>Math.floor(ToNumber(obj.length))</code> if result within
            <code>duk_size_t</code> unsigned range; otherwise 0</li>
<li>Buffer: byte length of buffer</li>
<li>Other type or invalid stack index: 0</li>
</ul>
<p>To get the byte length of a string, use
<code><a href="#duk_get_lstring">duk_get_lstring()</a></code>.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_length.4">Example <a class="sectionlink" href="#duk_get_length.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"string char len is %lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_length</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_length.5">See also <a class="sectionlink" href="#duk_get_length.5">§</a></h2>
<ul>
<li><a href="#duk_set_length">duk_set_length</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_lstring">
<a href="#duk_get_lstring"><span class="hidechar">.</span>duk_get_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_lstring.1">Prototype <a class="sectionlink" href="#duk_get_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_get_lstring(duk_context *ctx, int idx, size_t *out_len);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_lstring.2">Stack <a class="sectionlink" href="#duk_get_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_lstring.3">Summary <a class="sectionlink" href="#duk_get_lstring.3">§</a></h2>
<p>Get character data pointer and length for a string at <code>idx</code>
without modifying or coercing the value.  Returns a non-<code>NULL</code>
pointer to the read-only, NUL-terminated string data, and writes the
string byte length to <code>*out_len</code> (if <code>out_len</code> is
non-<code>NULL</code>).  Returns <code>NULL</code> and writes zero to <code>*out_len</code>
(if <code>out_len</code> is non-<code>NULL</code>) if the value is not a string or
the index is invalid.</p>
<p>To get the string character length (instead of byte length), use
<code><a href="#duk_get_length">duk_get_length()</a></code>.</p>
<div class="note">
A non-<code>NULL</code> return value is guaranteed even for zero length strings;
this differs from how buffer data pointers are handled (for technical reasons).
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_lstring.4">Example <a class="sectionlink" href="#duk_get_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">;</span>

<span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">len</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a string, %lu bytes</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> len</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_magic">
<a href="#duk_get_magic"><span class="hidechar">.</span>duk_get_magic()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-magic">magic</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_get_magic">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_magic.1">Prototype <a class="sectionlink" href="#duk_get_magic.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_magic(duk_context *ctx, int idx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_get_magic</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_magic.2">Stack <a class="sectionlink" href="#duk_get_magic.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_magic.3">Summary <a class="sectionlink" href="#duk_get_magic.3">§</a></h2>
<p>Get the 16-bit signed "magic" value associated with the Duktape/C function
at <code>idx</code>.  If the value is not a Duktape/C function, an error is
thrown.</p>
<div class="note">
Lightweight functions have space for only <b>8</b> magic value bits which is
interpreted as a signed integer (-128 to 127).
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_magic.4">Example <a class="sectionlink" href="#duk_get_magic.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_int_t</span><span class="normal"> my_flags </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_magic</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_magic.5">See also <a class="sectionlink" href="#duk_get_magic.5">§</a></h2>
<ul>
<li><a href="#duk_get_current_magic">duk_get_current_magic</a></li>
<li><a href="#duk_set_magic">duk_set_magic</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_memory_functions">
<a href="#duk_get_memory_functions"><span class="hidechar">.</span>duk_get_memory_functions()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
<a class="apitag" href="#taglist-heap">heap</a>
 <a class="sectionlink" href="#duk_get_memory_functions">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_memory_functions.1">Prototype <a class="sectionlink" href="#duk_get_memory_functions.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_get_memory_functions(duk_context *ctx, duk_memory_functions *out_funcs);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_get_memory_functions</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_memory_functions</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_funcs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_memory_functions.2">Stack <a class="sectionlink" href="#duk_get_memory_functions.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_memory_functions.3">Summary <a class="sectionlink" href="#duk_get_memory_functions.3">§</a></h2>
<p>Get the memory management functions used by the context.</p>
<p>Normally there is no reason to call this function: you can use the
memory management primitives through wrapped memory management functions
such as
<code><a href="#duk_alloc">duk_alloc()</a></code>,
<code><a href="#duk_realloc">duk_realloc()</a></code>, and
<code><a href="#duk_free">duk_free()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_memory_functions.4">Example <a class="sectionlink" href="#duk_get_memory_functions.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_memory_functions</span><span class="normal"> funcs</span><span class="symbol">;</span>

<span class="function">duk_get_memory_functions</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">funcs</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_now">
<a href="#duk_get_now"><span class="hidechar">.</span>duk_get_now()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-time">time</a>
<a class="apitag apitagwarn" href="#taglist-experimental">experimental</a>
 <a class="sectionlink" href="#duk_get_now">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_now.1">Prototype <a class="sectionlink" href="#duk_get_now.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): double duk_get_now(duk_context *ctx);"><span class="usertype">duk_double_t</span><span class="normal"> </span><span class="function">duk_get_now</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_now.2">Stack <a class="sectionlink" href="#duk_get_now.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_now.3">Summary <a class="sectionlink" href="#duk_get_now.3">§</a></h2>
<p>
Get current time in POSIX milliseconds, as seen by the Ecmascript
environment.  The return value matches Date.now() with the reservation
that sub-millisecond resolution may be available.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_now.4">Example <a class="sectionlink" href="#duk_get_now.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_double_t</span><span class="normal"> now</span><span class="symbol">;</span>

<span class="normal">now </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_now</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">print</span><span class="symbol">(</span><span class="string">"timestamp: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> now</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_number">
<a href="#duk_get_number"><span class="hidechar">.</span>duk_get_number()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
 <a class="sectionlink" href="#duk_get_number">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_number.1">Prototype <a class="sectionlink" href="#duk_get_number.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): double duk_get_number(duk_context *ctx, int idx);"><span class="usertype">duk_double_t</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_number.2">Stack <a class="sectionlink" href="#duk_get_number.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_number.3">Summary <a class="sectionlink" href="#duk_get_number.3">§</a></h2>
<p>Get the number value at <code>idx</code> without modifying or coercing
the value.  Returns <code>NaN</code> if the value is not a number or the
index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_number.4">Example <a class="sectionlink" href="#duk_get_number.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"value: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_pointer">
<a href="#duk_get_pointer"><span class="hidechar">.</span>duk_get_pointer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_pointer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_pointer.1">Prototype <a class="sectionlink" href="#duk_get_pointer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_get_pointer(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_pointer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_pointer.2">Stack <a class="sectionlink" href="#duk_get_pointer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_pointer.3">Summary <a class="sectionlink" href="#duk_get_pointer.3">§</a></h2>
<p>Get the pointer value at <code>idx</code> as <code>void *</code> without
modifying or coercing the value.  Returns <code>NULL</code> if the value is
not a pointer or the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_pointer.4">Example <a class="sectionlink" href="#duk_get_pointer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_pointer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"my pointer is: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_prop">
<a href="#duk_get_prop"><span class="hidechar">.</span>duk_get_prop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_prop.1">Prototype <a class="sectionlink" href="#duk_get_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_prop(duk_context *ctx, int obj_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_prop.2">Stack <a class="sectionlink" href="#duk_get_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_prop.3">Summary <a class="sectionlink" href="#duk_get_prop.3">§</a></h2>
<p>Get the property <code>key</code> of a value at <code>obj_idx</code>.
Return code and error throwing behavior:</p>
<ul>
<li>If the property exists, <code>1</code> is returned and <code>key</code>
    is replaced by the property value on the value stack.  However,
    if the property is an accessor, the "getter" function may throw
    an error.</li>
<li>If the property does not exist, 0 is returned and <code>key</code>
    is replaced by <code>undefined</code> on the value stack.</li>
<li>If the value at <code>obj_idx</code> is not
    <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.10">object coercible</a>,
    throws an error.</li>
<li>If <code>obj_idx</code> is invalid, throws an error.</li>
</ul>
<p>The property read is equivalent to the Ecmascript expression
<code>res = obj[key]</code> with the exception that the presence or absence of the
property is indicated by the call return value.  For precise semantics, see
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.2.1">Property Accessors</a>,
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.7.1">GetValue (V)</a>,
and <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.12.3">[[Get]] (P)</a>.
Both the target value and the <code>key</code> are coerced:</p>
<ul>
<li>The target value is automatically coerced to an object.  For instance,
    a string is converted to a <code>String</code> and you can access its
    <code>"length"</code> property.</li>
<li>The <code>key</code> argument is internally coerced using ToPropertyKey()
    coercion which results in a string or a Symbol.  There is an internal
    fast path for arrays and numeric indices which avoids an explicit string
    coercion, so use a numeric <code>key</code> when applicable.</li>
</ul>
<p>If the target is a Proxy object which implements the <code>get</code> trap,
the trap is invoked and the API call always returns 1 (i.e. property present): the
absence/presence of properties is not indicated by the <code>get</code> Proxy
trap.  Thus, the API call return value may be of limited use if the target
object is potentially a Proxy.</p>
<p>If the key is a fixed string you can avoid one API call and use the
<code><a href="#duk_get_prop_string">duk_get_prop_string()</a></code> variant.
Similarly, if the key is an array index, you can use the
<code><a href="#duk_get_prop_index">duk_get_prop_index()</a></code> variant.</p>
<div class="note">
Although the base value for property accesses is usually an object, it can
technically be an arbitrary value.  Plain string and buffer values have virtual
index properties so you can access <code>"foo"[2]</code>, for instance.
Most primitive values also inherit from some prototype object so that you can
e.g. call methods on them: <code>(12345).toString(16)</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_prop.4">Example <a class="sectionlink" href="#duk_get_prop.4">§</a></h2>
<pre class="c-code"><span class="comment">/* reading [global object].Math.PI */</span>
<span class="function">duk_push_global_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">    </span><span class="comment">/* -&gt; [ global ] */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Math"</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* -&gt; [ global "Math" ] */</span>
<span class="function">duk_get_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span><span class="normal">          </span><span class="comment">/* -&gt; [ global Math ] */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"PI"</span><span class="symbol">);</span><span class="normal">     </span><span class="comment">/* -&gt; [ global Math "PI" ] */</span>
<span class="function">duk_get_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span><span class="normal">          </span><span class="comment">/* -&gt; [ global Math PI ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"Math.PI is %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop_n</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>

<span class="comment">/* reading a configuration value, cfg_idx is normalized</span>
<span class="comment"> * index of a configuration object.</span>
<span class="comment"> */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"mySetting"</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> cfg_idx</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">str_value </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"configuration setting present, value: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> str_value</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"configuration setting missing</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* remember to pop, regardless of whether or not present */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_prop.5">See also <a class="sectionlink" href="#duk_get_prop.5">§</a></h2>
<ul>
<li><a href="#duk_get_prop_string">duk_get_prop_string</a></li>
<li><a href="#duk_get_prop_index">duk_get_prop_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_prop_desc">
<a href="#duk_get_prop_desc"><span class="hidechar">.</span>duk_get_prop_desc()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-sandbox">sandbox</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_prop_desc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_prop_desc.1">Prototype <a class="sectionlink" href="#duk_get_prop_desc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_get_prop_desc(duk_context *ctx, int obj_idx, unsigned int flags);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_get_prop_desc</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_prop_desc.2">Stack <a class="sectionlink" href="#duk_get_prop_desc.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">desc</span> <span class="cap">]</span> </span> <span class="stack-comment">(if property exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if property doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_prop_desc.3">Summary <a class="sectionlink" href="#duk_get_prop_desc.3">§</a></h2>
<p>Equivalent of <code>Object.getOwnPropertyDescriptor()</code> in the C API:
pushes a property descriptor object for a named property of the object at
<code>obj_idx</code>.  If the target is not an object (or the index is invalid)
an error is thrown.</p>
<p>No flags are defined yet, use 0 for <code>flags</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_prop_desc.4">Example <a class="sectionlink" href="#duk_get_prop_desc.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="comment">/* Check if property "my_prop" is a getter. */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_prop"</span><span class="symbol">);</span>
<span class="function">duk_get_prop_desc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="comment">/*flags*/</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="comment">/* Property found. */</span>
<span class="normal">  </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_has_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"get"</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"my_prop is a getter</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">  </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"my_prop is not a getter</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">  </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"my_prop not found</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_prop_desc.5">See also <a class="sectionlink" href="#duk_get_prop_desc.5">§</a></h2>
<ul>
<li><a href="#duk_def_prop">duk_def_prop</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_prop_index">
<a href="#duk_get_prop_index"><span class="hidechar">.</span>duk_get_prop_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_prop_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_prop_index.1">Prototype <a class="sectionlink" href="#duk_get_prop_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_prop_index(duk_context *ctx, int obj_idx, unsigned int arr_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_prop_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uarridx_t</span><span class="normal"> arr_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_prop_index.2">Stack <a class="sectionlink" href="#duk_get_prop_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_prop_index.3">Summary <a class="sectionlink" href="#duk_get_prop_index.3">§</a></h2>
<p>Like <code><a href="#duk_get_prop">duk_get_prop()</a></code>,
but the property name is given as an unsigned integer
<code>arr_idx</code>.  This is especially useful for accessing
array elements (but is not limited to that).</p>
<p>Conceptually the number is coerced to a string for the property
read, e.g. <code>123</code> would be equivalent to a property name
<code>"123"</code>.  Duktape avoids an explicit coercion whenever
possible.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_prop_index.4">Example <a class="sectionlink" href="#duk_get_prop_index.4">§</a></h2>
<pre class="c-code"><span class="function">duk_get_prop_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"obj[123] = %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_prop_lstring">
<a href="#duk_get_prop_lstring"><span class="hidechar">.</span>duk_get_prop_lstring()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_prop_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_prop_lstring.1">Prototype <a class="sectionlink" href="#duk_get_prop_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_prop_lstring(duk_context *ctx, int obj_idx, const char *key, size_t key_len);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_prop_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> key_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_prop_lstring.2">Stack <a class="sectionlink" href="#duk_get_prop_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_prop_lstring.3">Summary <a class="sectionlink" href="#duk_get_prop_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_get_prop">duk_get_prop()</a></code>,
but the property name is given as a string with explicit length.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_prop_lstring.4">Example <a class="sectionlink" href="#duk_get_prop_lstring.4">§</a></h2>
<pre class="c-code"><span class="function">duk_get_prop_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"internal"</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\x</span><span class="string">00"</span><span class="normal"> </span><span class="string">"nul"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">12</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"obj.propertyName = %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_prop_lstring.5">See also <a class="sectionlink" href="#duk_get_prop_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_get_prop_string">duk_get_prop_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_prop_string">
<a href="#duk_get_prop_string"><span class="hidechar">.</span>duk_get_prop_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_get_prop_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_prop_string.1">Prototype <a class="sectionlink" href="#duk_get_prop_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_prop_string(duk_context *ctx, int obj_idx, const char *key);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_prop_string.2">Stack <a class="sectionlink" href="#duk_get_prop_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if key doesn't exist)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_prop_string.3">Summary <a class="sectionlink" href="#duk_get_prop_string.3">§</a></h2>
<p>Like <code><a href="#duk_get_prop">duk_get_prop()</a></code>,
but the property name is given as a NUL-terminated C string
<code>key</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_prop_string.4">Example <a class="sectionlink" href="#duk_get_prop_string.4">§</a></h2>
<pre class="c-code"><span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"propertyName"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"obj.propertyName = %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_prop_string.5">See also <a class="sectionlink" href="#duk_get_prop_string.5">§</a></h2>
<ul>
<li><a href="#duk_get_prop_lstring">duk_get_prop_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_prototype">
<a href="#duk_get_prototype"><span class="hidechar">.</span>duk_get_prototype()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-prototype">prototype</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_get_prototype">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_prototype.1">Prototype <a class="sectionlink" href="#duk_get_prototype.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_get_prototype(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_get_prototype</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_prototype.2">Stack <a class="sectionlink" href="#duk_get_prototype.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="elem active">proto</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_prototype.3">Summary <a class="sectionlink" href="#duk_get_prototype.3">§</a></h2>
<p>Get the internal prototype of the value at <code>idx</code>.  If the
value is not an object, an error is thrown.  If the object has no prototype
(which is possible for "naked objects") <code>undefined</code> is pushed to
the stack instead.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_prototype.4">Example <a class="sectionlink" href="#duk_get_prototype.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Get the internal prototype of an object at index -3. */</span>
<span class="function">duk_get_prototype</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_prototype.5">See also <a class="sectionlink" href="#duk_get_prototype.5">§</a></h2>
<ul>
<li><a href="#duk_set_prototype">duk_set_prototype</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_string">
<a href="#duk_get_string"><span class="hidechar">.</span>duk_get_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_string.1">Prototype <a class="sectionlink" href="#duk_get_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_get_string(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_string.2">Stack <a class="sectionlink" href="#duk_get_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_string.3">Summary <a class="sectionlink" href="#duk_get_string.3">§</a></h2>
<p>Get character data pointer for a string at <code>idx</code> without
modifying or coercing the value.  Returns a non-<code>NULL</code> pointer to
the read-only, NUL-terminated string data.  Returns <code>NULL</code> if the
value is not a string or the index is invalid.</p>
<p>To get the string byte length explicitly (which is useful if the string
contains embedded NUL characters), use
<code><a href="#duk_get_lstring">duk_get_lstring()</a></code>.</p>
<div class="note">
A non-<code>NULL</code> return value is guaranteed even for zero length strings;
this differs from how buffer data pointers are handled (for technical reasons).
</div>
<div class="note">
Symbol values are visible in the C API as strings so that both
<code>duk_is_symbol()</code> and <code>duk_is_string()</code> are true.
This behavior is similar to Duktape 1.x internal strings.  Symbols are
still an experimental feature; for now, you can distinguish Symbols from
ordinary strings using <code><a href="#duk_is_symbol">duk_is_symbol()</a></code>.
For the internal representation, see
<a href="https://github.com/svaarala/duktape/blob/master/doc/symbols.rst">symbols.rst</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_string.4">Example <a class="sectionlink" href="#duk_get_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">;</span>

<span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a string: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> buf</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_top">
<a href="#duk_get_top"><span class="hidechar">.</span>duk_get_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_top.1">Prototype <a class="sectionlink" href="#duk_get_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_top(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_get_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_top.2">Stack <a class="sectionlink" href="#duk_get_top.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_top.3">Summary <a class="sectionlink" href="#duk_get_top.3">§</a></h2>
<p>Get current stack top (&gt;= 0), indicating the number of values currently on
the value stack (of the current activation).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_top.4">Example <a class="sectionlink" href="#duk_get_top.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"stack top is %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_top_index">
<a href="#duk_get_top_index"><span class="hidechar">.</span>duk_get_top_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_top_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_top_index.1">Prototype <a class="sectionlink" href="#duk_get_top_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_top_index(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_get_top_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_top_index.2">Stack <a class="sectionlink" href="#duk_get_top_index.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_top_index.3">Summary <a class="sectionlink" href="#duk_get_top_index.3">§</a></h2>
<p>Get the absolute index (&gt;= 0) of the topmost value on the stack.
If the stack is empty, returns <code>DUK_INVALID_INDEX</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_top_index.4">Example <a class="sectionlink" href="#duk_get_top_index.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> idx_top</span><span class="symbol">;</span>

<span class="normal">idx_top </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_top_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">idx_top </span><span class="symbol">==</span><span class="normal"> DUK_INVALID_INDEX</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"stack is empty</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"index of top element: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> idx_top</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_top_index.5">See also <a class="sectionlink" href="#duk_get_top_index.5">§</a></h2>
<ul>
<li><a href="#duk_require_top_index">duk_require_top_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_type">
<a href="#duk_get_type"><span class="hidechar">.</span>duk_get_type()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_type">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_type.1">Prototype <a class="sectionlink" href="#duk_get_type.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_get_type(duk_context *ctx, int idx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_get_type</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_type.2">Stack <a class="sectionlink" href="#duk_get_type.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_type.3">Summary <a class="sectionlink" href="#duk_get_type.3">§</a></h2>
<p>Returns type of value at <code>idx</code>.  The return value is one of
<code>DUK_TYPE_xxx</code> or <code>DUK_TYPE_NONE</code> if <code>idx</code>
is invalid.</p>
<div class="note">
Symbol values are visible in the C API as strings so that both
<code>duk_is_symbol()</code> and <code>duk_is_string()</code> are true.
This behavior is similar to Duktape 1.x internal strings.  Symbols are
still an experimental feature; for now, you can distinguish Symbols from
ordinary strings using <code><a href="#duk_is_symbol">duk_is_symbol()</a></code>.
For the internal representation, see
<a href="https://github.com/svaarala/duktape/blob/master/doc/symbols.rst">symbols.rst</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_type.4">Example <a class="sectionlink" href="#duk_get_type.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_type</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">==</span><span class="normal"> DUK_TYPE_NUMBER</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a number</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_type.5">See also <a class="sectionlink" href="#duk_get_type.5">§</a></h2>
<ul>
<li><a href="#duk_check_type">duk_check_type</a></li>
<li><a href="#duk_get_type_mask">duk_get_type_mask</a></li>
<li><a href="#duk_check_type_mask">duk_check_type_mask</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_type_mask">
<a href="#duk_get_type_mask"><span class="hidechar">.</span>duk_get_type_mask()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_type_mask">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_type_mask.1">Prototype <a class="sectionlink" href="#duk_get_type_mask.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): unsigned int duk_get_type_mask(duk_context *ctx, int idx);"><span class="usertype">duk_uint_t</span><span class="normal"> </span><span class="function">duk_get_type_mask</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_type_mask.2">Stack <a class="sectionlink" href="#duk_get_type_mask.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_type_mask.3">Summary <a class="sectionlink" href="#duk_get_type_mask.3">§</a></h2>
<p>Returns type mask of value at <code>idx</code>.  The return value is one of
<code>DUK_TYPE_MASK_xxx</code> or <code>DUK_TYPE_MASK_NONE</code> if <code>idx</code>
is invalid.</p>
<p>Type masks allow e.g. for a convenient comparison for multiple types at once
(the <code><a href="#duk_check_type_mask">duk_check_type_mask()</a></code> call is
even more convenient for this purpose).</p>
<div class="note">
Symbol values are visible in the C API as strings so that both
<code>duk_is_symbol()</code> and <code>duk_is_string()</code> are true.
This behavior is similar to Duktape 1.x internal strings.  Symbols are
still an experimental feature; for now, you can distinguish Symbols from
ordinary strings using <code><a href="#duk_is_symbol">duk_is_symbol()</a></code>.
For the internal representation, see
<a href="https://github.com/svaarala/duktape/blob/master/doc/symbols.rst">symbols.rst</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_type_mask.4">Example <a class="sectionlink" href="#duk_get_type_mask.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_get_type_mask</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">DUK_TYPE_MASK_STRING </span><span class="symbol">|</span>
<span class="normal">                                  DUK_TYPE_MASK_NUMBER</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a string or a number</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_get_type_mask.5">See also <a class="sectionlink" href="#duk_get_type_mask.5">§</a></h2>
<ul>
<li><a href="#duk_get_type">duk_get_type</a></li>
<li><a href="#duk_check_type_mask">duk_check_type_mask</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_get_uint">
<a href="#duk_get_uint"><span class="hidechar">.</span>duk_get_uint()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_get_uint">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_get_uint.1">Prototype <a class="sectionlink" href="#duk_get_uint.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): unsigned int duk_get_uint(duk_context *ctx, int idx);"><span class="usertype">duk_uint_t</span><span class="normal"> </span><span class="function">duk_get_uint</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_get_uint.2">Stack <a class="sectionlink" href="#duk_get_uint.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_get_uint.3">Summary <a class="sectionlink" href="#duk_get_uint.3">§</a></h2>
<p>Get the number at <code>idx</code> and convert it to a C <code>duk_uint_t</code>
by first clamping the value between [0, DUK_UINT_MAX] and then
truncating towards zero.  The value on the stack is not modified.
If the value is a NaN, is not a number, or the index is invalid,
returns 0.</p>
<p>Conversion examples:</p>
<table>
<tr><th>Input</th><th>Output</th></tr>
<tr><td>-Infinity</td><td>0</td></tr>
<tr><td>-1</td><td>0</td></tr>
<tr><td>-3.9</td><td>0</td></tr>
<tr><td>3.9</td><td>3</td></tr>
<tr><td>DUK_UINT_MAX + 1</td><td>DUK_UINT_MAX</td></tr>
<tr><td>+Infinity</td><td>DUK_UINT_MAX</td></tr>
<tr><td>NaN</td><td>0</td></tr>
<tr><td>"123"</td><td>0 (non-number)</td></tr>
</table>
<div class="note">
The coercion is different from a basic C cast from <code>double</code> to
unsigned integer, which may have counterintuitive (and non-portable) behavior
for e.g. NaN values.  The coercion is also different from Ecmascript
<code>ToUint32()</code> coercion because the full range of the native
<code>duk_uint_t</code> is allowed (which may be more than 32 bits).
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_get_uint.4">Example <a class="sectionlink" href="#duk_get_uint.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"unsigned int value: %lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_uint</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_has_prop">
<a href="#duk_has_prop"><span class="hidechar">.</span>duk_has_prop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_has_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_has_prop.1">Prototype <a class="sectionlink" href="#duk_has_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_has_prop(duk_context *ctx, int obj_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_has_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_has_prop.2">Stack <a class="sectionlink" href="#duk_has_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_has_prop.3">Summary <a class="sectionlink" href="#duk_has_prop.3">§</a></h2>
<p>Check whether value at <code>obj_idx</code> has a property <code>key</code>.
<code>key</code> is removed from the stack.  Return code and error throwing
behavior:</p>
<ul>
<li>If the property exists, <code>1</code> is returned.</li>
<li>If the property doesn't exist, 0 is returned.</li>
<li>If the value at <code>obj_idx</code> is not an object, throws an error.</li>
<li>If <code>obj_idx</code> is invalid, throws an error.</li>
</ul>
<p>The property existence check is equivalent to the Ecmascript expression
<code>res = key in obj</code>.  For semantics, see
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.2.1">Property Accessors</a>,
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.8.7">The in operator</a>,
and <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.12.6">[[HasProperty]] (P)</a>.
Both the target value and the <code>key</code> are coerced:</p>
<ul>
<li>The target value is automatically coerced to an object.  For instance,
    a string is converted to a <code>String</code> and you can check for its
    <code>"length"</code> property.</li>
<li>The <code>key</code> argument is internally coerced using ToPropertyKey()
    coercion which results in a string or a Symbol.  There is an internal
    fast path for arrays and numeric indices which avoids an explicit string
    coercion, so use a numeric <code>key</code> when applicable.</li>
</ul>
<p>If the target is a Proxy object which implements the <code>has</code> trap,
the trap is invoked and the API call return value matches the trap return value.</p>
<div class="note">
Instead of accepting any
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.10">object coercible</a>
value (like most property related API calls) this call accepts only an object
as its target value.  This is intentional as it follows Ecmascript operator semantics.
</div>
<p>If the key is a fixed string you can avoid one API call and use the
<code><a href="#duk_has_prop_string">duk_has_prop_string()</a></code> variant.
Similarly, if the key is an array index, you can use the
<code><a href="#duk_has_prop_index">duk_has_prop_index()</a></code> variant.</p>
<div class="note">
Although the base value for property accesses is usually an object, it can
technically be an arbitrary value.  Plain string and buffer values have virtual
index properties so you can access <code>"foo"[2]</code>, for instance.
Most primitive values also inherit from some prototype object so that you can
e.g. call methods on them: <code>(12345).toString(16)</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_has_prop.4">Example <a class="sectionlink" href="#duk_has_prop.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myProperty"</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_has_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj has 'myProperty'</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj does not have 'myProperty'</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_has_prop.5">See also <a class="sectionlink" href="#duk_has_prop.5">§</a></h2>
<ul>
<li><a href="#duk_has_prop_string">duk_has_prop_string</a></li>
<li><a href="#duk_has_prop_index">duk_has_prop_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_has_prop_index">
<a href="#duk_has_prop_index"><span class="hidechar">.</span>duk_has_prop_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_has_prop_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_has_prop_index.1">Prototype <a class="sectionlink" href="#duk_has_prop_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_has_prop_index(duk_context *ctx, int obj_idx, unsigned int arr_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_has_prop_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uarridx_t</span><span class="normal"> arr_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_has_prop_index.2">Stack <a class="sectionlink" href="#duk_has_prop_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_has_prop_index.3">Summary <a class="sectionlink" href="#duk_has_prop_index.3">§</a></h2>
<p>Like <code><a href="#duk_has_prop">duk_has_prop()</a></code>,
but the property name is given as an unsigned integer
<code>arr_idx</code>.  This is especially useful for checking
existence of array elements (but is not limited to that).</p>
<p>Conceptually the number is coerced to a string for property
existence check, e.g. <code>123</code> would be equivalent to a property
name <code>"123"</code>.  Duktape avoids an explicit coercion whenever
possible.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_has_prop_index.4">Example <a class="sectionlink" href="#duk_has_prop_index.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_has_prop_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj has index 123</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj does not have index 123</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_has_prop_lstring">
<a href="#duk_has_prop_lstring"><span class="hidechar">.</span>duk_has_prop_lstring()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_has_prop_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_has_prop_lstring.1">Prototype <a class="sectionlink" href="#duk_has_prop_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_has_prop_lstring(duk_context *ctx, int obj_idx, const char *key, size_t key_len);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_has_prop_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> key_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_has_prop_lstring.2">Stack <a class="sectionlink" href="#duk_has_prop_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_has_prop_lstring.3">Summary <a class="sectionlink" href="#duk_has_prop_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_has_prop">duk_has_prop()</a></code>,
but the property name is given as a string with explicit length.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_has_prop_lstring.4">Example <a class="sectionlink" href="#duk_has_prop_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_has_prop_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"internal"</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\x</span><span class="string">00"</span><span class="normal"> </span><span class="string">"nul"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">12</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj has 'internal[00]nul'</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj does not have 'internal[00]nul'</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_has_prop_lstring.5">See also <a class="sectionlink" href="#duk_has_prop_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_has_prop_string">duk_has_prop_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_has_prop_string">
<a href="#duk_has_prop_string"><span class="hidechar">.</span>duk_has_prop_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_has_prop_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_has_prop_string.1">Prototype <a class="sectionlink" href="#duk_has_prop_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_has_prop_string(duk_context *ctx, int obj_idx, const char *key);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_has_prop_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_has_prop_string.2">Stack <a class="sectionlink" href="#duk_has_prop_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_has_prop_string.3">Summary <a class="sectionlink" href="#duk_has_prop_string.3">§</a></h2>
<p>Like <code><a href="#duk_has_prop">duk_has_prop()</a></code>,
but the property name is given as a NUL-terminated C string
<code>key</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_has_prop_string.4">Example <a class="sectionlink" href="#duk_has_prop_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_has_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myProperty"</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj has 'myProperty'</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"obj does not have 'myProperty'</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_has_prop_string.5">See also <a class="sectionlink" href="#duk_has_prop_string.5">§</a></h2>
<ul>
<li><a href="#duk_has_prop_lstring">duk_has_prop_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_hex_decode">
<a href="#duk_hex_decode"><span class="hidechar">.</span>duk_hex_decode()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-codec">codec</a>
 <a class="sectionlink" href="#duk_hex_decode">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_hex_decode.1">Prototype <a class="sectionlink" href="#duk_hex_decode.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_hex_decode(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_hex_decode</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_hex_decode.2">Stack <a class="sectionlink" href="#duk_hex_decode.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">hex_val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_hex_decode.3">Summary <a class="sectionlink" href="#duk_hex_decode.3">§</a></h2>
<p>Decodes a hex encoded value into a buffer as an in-place operation.
If the input is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_hex_decode.4">Example <a class="sectionlink" href="#duk_hex_decode.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"7465737420737472696e67"</span><span class="symbol">);</span>
<span class="function">duk_hex_decode</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* buffer */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"hex decoded: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Output:</span>
<span class="comment"> * hex decoded: test string</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_hex_decode.5">See also <a class="sectionlink" href="#duk_hex_decode.5">§</a></h2>
<ul>
<li><a href="#duk_hex_encode">duk_hex_encode</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_hex_encode">
<a href="#duk_hex_encode"><span class="hidechar">.</span>duk_hex_encode()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-codec">codec</a>
 <a class="sectionlink" href="#duk_hex_encode">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_hex_encode.1">Prototype <a class="sectionlink" href="#duk_hex_encode.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_hex_encode(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_hex_encode</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_hex_encode.2">Stack <a class="sectionlink" href="#duk_hex_encode.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">hex_val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_hex_encode.3">Summary <a class="sectionlink" href="#duk_hex_encode.3">§</a></h2>
<p>Coerces an arbitrary value into a buffer and then encodes the result
into hex as an in-place operation.  Returns pointer to the resulting
string for convenience.</p>
<div class="note">
Coercing to a buffer first coerces a non-buffer value into a string, and
then coerces the string into a buffer.  The resulting buffer contains the
string in CESU-8 encoding.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_hex_encode.4">Example <a class="sectionlink" href="#duk_hex_encode.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"hex encoded: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_hex_encode</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>

<span class="comment">/* Output:</span>
<span class="comment"> * hex encoded: 666f6f</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_hex_encode.5">See also <a class="sectionlink" href="#duk_hex_encode.5">§</a></h2>
<ul>
<li><a href="#duk_hex_decode">duk_hex_decode</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_insert">
<a href="#duk_insert"><span class="hidechar">.</span>duk_insert()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_insert">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_insert.1">Prototype <a class="sectionlink" href="#duk_insert.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_insert(duk_context *ctx, int to_idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_insert</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> to_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_insert.2">Stack <a class="sectionlink" href="#duk_insert.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">old(to_idx)</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(to_idx)</span> <span class="elem active">old</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_insert.3">Summary <a class="sectionlink" href="#duk_insert.3">§</a></h2>
<p>Insert a value at <code>to_idx</code> with a value popped from the
stack top.  The previous value at <code>to_idx</code> and any values
above it are moved up the stack by a step.  If <code>to_idx</code> is
an invalid index, throws an error.</p>
<div class="note">
Negative indices are evaluated prior to popping the value at the stack
top.  This is also illustrated by the example.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_insert.4">Example <a class="sectionlink" href="#duk_insert.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">234</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">345</span><span class="symbol">);</span><span class="normal">       </span><span class="comment">/* -&gt; [ 123 234 345 ] */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ 123 234 345 "foo" ] */</span>
<span class="function">duk_insert</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span><span class="normal">          </span><span class="comment">/* -&gt; [ 123 "foo" 234 345 ] */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_insert.5">See also <a class="sectionlink" href="#duk_insert.5">§</a></h2>
<ul>
<li><a href="#duk_replace">duk_replace</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_inspect_callstack_entry">
<a href="#duk_inspect_callstack_entry"><span class="hidechar">.</span>duk_inspect_callstack_entry()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-inspect">inspect</a>
 <a class="sectionlink" href="#duk_inspect_callstack_entry">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_inspect_callstack_entry.1">Prototype <a class="sectionlink" href="#duk_inspect_callstack_entry.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_inspect_callstack_entry(duk_context *ctx, int level);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_inspect_callstack_entry</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> level</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_inspect_callstack_entry.2">Stack <a class="sectionlink" href="#duk_inspect_callstack_entry.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">info</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_inspect_callstack_entry.3">Summary <a class="sectionlink" href="#duk_inspect_callstack_entry.3">§</a></h2>
<p>Inspect callstack entry at <code>level</code> and push an object
containing Duktape specific internal information about the entry.
The level argument must be negative and mimics the value stack
index convention: -1 is the most recent (innermost) call, -2 is its
caller, and so on.  If the level argument is invalid (e.g. outside of
current callstack) <code>undefined</code> is pushed instead.</p>
<div class="note">
The result object is not under versioning guarantees so its properties
may change even in minor releases (but not patch releases).  This is a
practical compromise: internals change quite frequently, so the choices are
either to make no versioning guarantees or avoid exposing internals at all.
As such, calling code should never rely on having a certain set of fields
available, and it may be necessary to check <code>DUK_VERSION</code> when
interpreting the result fields.
</div>
<p>The following table summarizes current properties.</p>
<table>
<thead>
<tr><th>Property</th><th>Description</th></tr>
</thead>
<tbody>
<tr>
<td class="propname">function</td>
<td>Function being executed.  Note that this is a potential sandboxing
    concern if exposed to untrusted code.</td>
</tr>
<tr>
<td class="propname">pc</td>
<td>Program counter for Ecmascript functions.  Zero if executing a native
    function.</td>
</tr>
<tr>
<td class="propname">lineNumber</td>
<td>Line number for Ecmascript functions.  Zero if executing a native
    function or if pc-to-line translation data is not available.</td>
</tr>
</tbody>
</table>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_inspect_callstack_entry.4">Example <a class="sectionlink" href="#duk_inspect_callstack_entry.4">§</a></h2>
<pre class="c-code"><span class="function">duk_inspect_callstack_entry</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"lineNumber"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"immediate caller is executing on line %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop_2</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_inspect_value">
<a href="#duk_inspect_value"><span class="hidechar">.</span>duk_inspect_value()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-inspect">inspect</a>
 <a class="sectionlink" href="#duk_inspect_value">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_inspect_value.1">Prototype <a class="sectionlink" href="#duk_inspect_value.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_inspect_value(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_inspect_value</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_inspect_value.2">Stack <a class="sectionlink" href="#duk_inspect_value.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="elem active">info</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_inspect_value.3">Summary <a class="sectionlink" href="#duk_inspect_value.3">§</a></h2>
<p>Inspect value at <code>idx</code> and push an object containing Duktape
specific internal information about the object.  If the value stack index
is invalid, pushes an object describing a "none" value.</p>
<div class="note">
The result object is not under versioning guarantees so its properties
may change even in minor releases (but not patch releases).  This is a
practical compromise: internals change quite frequently, so the choices are
either to make no versioning guarantees or avoid exposing internals at all.
As such, calling code should never rely on having a certain set of fields
available, and it may be necessary to check <code>DUK_VERSION</code> when
interpreting the result fields.
</div>
<p>The following table summarizes current properties.  Memory byte sizes
don't include any heap overhead which may vary between 0-16 bytes (or more)
depending on the allocation functions being used.</p>
<table>
<thead>
<tr><th>Property</th><th>Description</th></tr>
</thead>
<tbody>
<tr>
<td class="propname">type</td>
<td>Type number matching <code>DUK_TYPE_xxx</code> from <code>duktape.h</code>.</td>
</tr>
<tr>
<td class="propname">itag</td>
<td>Internal type tag matching internal <code>DUK_TAG_xxx</code> defines.  Values
    may change between versions, and are dependent on config options and the
    memory layout used for tagged values internally.</td>
</tr>
<tr>
<td class="propname">hptr</td>
<td>Heap pointer for a heap-allocated value.  Points to the internal Duktape
    header structure related to the value type.  Same value would be returned
    from <code>duk_get_heapptr()</code>.</td>
</tr>
<tr>
<td class="propname">refc</td>
<td>Reference count.  Reference counts are not adjusted in any way, and
    include references to the value caused by the <code>duk_inspect_value()</code>
    call.</td>
</tr>
<tr>
<td class="propname">class</td>
<td>For objects, internal class number, matches internal
    <code>DUK_HOBJECT_CLASS_xxx</code> defines.</td>
</tr>
<tr>
<td class="propname">hbytes</td>
<td>Byte size of main heap object allocation.  For some values this is
    the only allocation, other values have additional allocations.</td>
</tr>
<tr>
<td class="propname">pbytes</td>
<td>Byte size of an object's property table.  The property table includes
    a possible array part, a possible hash part, and a key/value entry part.</td>
</tr>
<tr>
<td class="propname">bcbytes</td>
<td>Byte size of Ecmascript function bytecode (instructions, constants).
    Shared between all instances (closures) of a certain function template.</td>
</tr>
<tr>
<td class="propname">dbytes</td>
<td>Byte size of the current allocation of a dynamic or external buffer.
    Note that external buffer allocations are not part of the Duktape heap.</td>
</tr>
<tr>
<td class="propname">esize</td>
<td>Object entry part size in elements.</td>
</tr>
<tr>
<td class="propname">enext</td>
<td>Object entry part first free index (= index of next property slot to be
    used).  In practice matches number of own properties for objects that
    don't have uncompacted deleted keys.</td>
</tr>
<tr>
<td class="propname">asize</td>
<td>Object array part size in elements, zero if no array part or array part
    has been abandoned (sparse array).  May be larger or smaller than the
    apparent array <code>.length</code>.</td>
</tr>
<tr>
<td class="propname">hsize</td>
<td>Object hash part size in elements.</td>
</tr>
<tr>
<td class="propname">tstate</td>
<td>Internal thread state, matches internal <code>DUK_HTHREAD_STATE_xxx</code>
    defines.</td>
</tr>
<tr>
<td class="propname">variant</td>
<td>Identifies type variants for certain types.  For strings, variant 0 is
    an ordinary heap allocated string while variant 1 is an external string.
    For buffers, variant 0 is a fixed buffer, 1 is a dynamic buffer, and 2
    is an external buffer.</td>
</tr>
</tbody>
</table>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_inspect_value.4">Example <a class="sectionlink" href="#duk_inspect_value.4">§</a></h2>
<pre class="c-code"><span class="function">duk_inspect_value</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"refc"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"refcount of value at -3: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop_2</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_instanceof">
<a href="#duk_instanceof"><span class="hidechar">.</span>duk_instanceof()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-compare">compare</a>
 <a class="sectionlink" href="#duk_instanceof">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_instanceof.1">Prototype <a class="sectionlink" href="#duk_instanceof.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_instanceof(duk_context *ctx, int idx1, int idx2);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_instanceof</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx1</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_instanceof.2">Stack <a class="sectionlink" href="#duk_instanceof.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_instanceof.3">Summary <a class="sectionlink" href="#duk_instanceof.3">§</a></h2>
<p>Compare values at <code>idx1</code> and <code>idx2</code> using the
Ecmascript <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.8.6">instanceof</a>
operator.  Returns 1 if <code>val1 instanceof val2</code>, 0 if not.  Throws an error
if either index is invalid; <code>instanceof</code> itself also throws errors for
invalid argument types.</p>
<div class="note">
The error throwing behavior for invalid indices differs from the behavior of
e.g. <code>duk_equals()</code>, and matches the strictness of <code>instanceof</code>.
For example, if rval (idx2) is not a callable object <code>instanceof</code>
throws a TypeError.  Throwing an error for an invalid index is consistent with
instanceof strictness.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_instanceof.4">Example <a class="sectionlink" href="#duk_instanceof.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> idx_val</span><span class="symbol">;</span>

<span class="function">duk_get_global_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Error"</span><span class="symbol">);</span>

<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_instanceof</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> idx_val</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value at idx_val is an instanceof Error</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_array">
<a href="#duk_is_array"><span class="hidechar">.</span>duk_is_array()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_array">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_array.1">Prototype <a class="sectionlink" href="#duk_is_array.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_array(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_array</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_array.2">Stack <a class="sectionlink" href="#duk_is_array.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_array.3">Summary <a class="sectionlink" href="#duk_is_array.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is an object and is an Ecmascript array
(has the internal class <code>Array</code>), otherwise returns 0.  If <code>idx</code>
is invalid, also returns 0.</p>
<p>This function returns 1 when the following Ecmascript expression is true:</p>
<pre class="ecmascript-code"><span class="normal">Object</span><span class="symbol">.</span><span class="keyword">prototype</span><span class="symbol">.</span><span class="normal">toString</span><span class="symbol">.</span><span class="function">call</span><span class="symbol">(</span><span class="normal">val</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">===</span><span class="normal"> </span><span class="string">'[object Array]'</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_array.4">Example <a class="sectionlink" href="#duk_is_array.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_array</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_boolean">
<a href="#duk_is_boolean"><span class="hidechar">.</span>duk_is_boolean()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_boolean">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_boolean.1">Prototype <a class="sectionlink" href="#duk_is_boolean.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_boolean(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_boolean</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_boolean.2">Stack <a class="sectionlink" href="#duk_is_boolean.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_boolean.3">Summary <a class="sectionlink" href="#duk_is_boolean.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a boolean, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_boolean.4">Example <a class="sectionlink" href="#duk_is_boolean.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_bound_function">
<a href="#duk_is_bound_function"><span class="hidechar">.</span>duk_is_bound_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_is_bound_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_bound_function.1">Prototype <a class="sectionlink" href="#duk_is_bound_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_bound_function(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_bound_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_bound_function.2">Stack <a class="sectionlink" href="#duk_is_bound_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_bound_function.3">Summary <a class="sectionlink" href="#duk_is_bound_function.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a Function object which has
been created with Ecmascript <code>Function.prototype.bind()</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<p>Bound functions are an Ecmascript concept: they point to a target
function and supply a <code>this</code> binding and zero or more argument
bindings.  See
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.3.4.5">Function.prototype.bind (thisArg [, arg1 [, arg2, ...]])</a>.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_bound_function.4">Example <a class="sectionlink" href="#duk_is_bound_function.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_bound_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_buffer">
<a href="#duk_is_buffer"><span class="hidechar">.</span>duk_is_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_is_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_buffer.1">Prototype <a class="sectionlink" href="#duk_is_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_buffer(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_buffer.2">Stack <a class="sectionlink" href="#duk_is_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_buffer.3">Summary <a class="sectionlink" href="#duk_is_buffer.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a plain buffer, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_buffer.4">Example <a class="sectionlink" href="#duk_is_buffer.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_is_buffer.5">See also <a class="sectionlink" href="#duk_is_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_is_buffer_data">duk_is_buffer_data</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_buffer_data">
<a href="#duk_is_buffer_data"><span class="hidechar">.</span>duk_is_buffer_data()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_is_buffer_data">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_buffer_data.1">Prototype <a class="sectionlink" href="#duk_is_buffer_data.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_buffer_data(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_buffer_data</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_buffer_data.2">Stack <a class="sectionlink" href="#duk_is_buffer_data.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_buffer_data.3">Summary <a class="sectionlink" href="#duk_is_buffer_data.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a plain buffer or any
buffer object type, otherwise returns 0.  If <code>idx</code> is invalid,
also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_buffer_data.4">Example <a class="sectionlink" href="#duk_is_buffer_data.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_buffer_data</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_is_buffer_data.5">See also <a class="sectionlink" href="#duk_is_buffer_data.5">§</a></h2>
<ul>
<li><a href="#duk_is_buffer">duk_is_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_c_function">
<a href="#duk_is_c_function"><span class="hidechar">.</span>duk_is_c_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_is_c_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_c_function.1">Prototype <a class="sectionlink" href="#duk_is_c_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_c_function(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_c_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_c_function.2">Stack <a class="sectionlink" href="#duk_is_c_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_c_function.3">Summary <a class="sectionlink" href="#duk_is_c_function.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a Function object and is
assocated with a C function, otherwise returns 0.
If <code>idx</code> is invalid, also returns 0.</p>
<p>An example of an underlying C function observing the Duktape/C API
calling convention:</p>
<pre class="c-code"><span class="type">int</span><span class="normal"> </span><span class="function">my_func</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_c_function.4">Example <a class="sectionlink" href="#duk_is_c_function.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_callable">
<a href="#duk_is_callable"><span class="hidechar">.</span>duk_is_callable()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_callable">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_callable.1">Prototype <a class="sectionlink" href="#duk_is_callable.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_callable(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_callable</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_callable.2">Stack <a class="sectionlink" href="#duk_is_callable.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_callable.3">Summary <a class="sectionlink" href="#duk_is_callable.3">§</a></h2>
<p>Return 1 if value at <code>idx</code> is callable, otherwise returns 0.
Also returns 0 if <code>idx</code> is invalid.</p>
<p>Currently this is the same as
<code><a href="#duk_is_function">duk_is_function()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_callable.4">Example <a class="sectionlink" href="#duk_is_callable.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_callable</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_constructor_call">
<a href="#duk_is_constructor_call"><span class="hidechar">.</span>duk_is_constructor_call()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_constructor_call">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_constructor_call.1">Prototype <a class="sectionlink" href="#duk_is_constructor_call.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_constructor_call(duk_context *ctx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_constructor_call</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_constructor_call.2">Stack <a class="sectionlink" href="#duk_is_constructor_call.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_constructor_call.3">Summary <a class="sectionlink" href="#duk_is_constructor_call.3">§</a></h2>
<p>Return non-zero if current function was called as a constructor
(<code>new Foo()</code> instead of <code>Foo()</code>); otherwise returns 0.</p>
<p>This call allows a C function to have different behavior for normal
and constructor calls (as is the case for many built-in functions).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_constructor_call.4">Example <a class="sectionlink" href="#duk_is_constructor_call.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_constructor_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"called as a constructor</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"called as a normal function</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_dynamic_buffer">
<a href="#duk_is_dynamic_buffer"><span class="hidechar">.</span>duk_is_dynamic_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_is_dynamic_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_dynamic_buffer.1">Prototype <a class="sectionlink" href="#duk_is_dynamic_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_dynamic_buffer(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_dynamic_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_dynamic_buffer.2">Stack <a class="sectionlink" href="#duk_is_dynamic_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_dynamic_buffer.3">Summary <a class="sectionlink" href="#duk_is_dynamic_buffer.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a dynamic buffer,
otherwise returns 0.  If <code>idx</code> is invalid, also
returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_dynamic_buffer.4">Example <a class="sectionlink" href="#duk_is_dynamic_buffer.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_dynamic_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_ecmascript_function">
<a href="#duk_is_ecmascript_function"><span class="hidechar">.</span>duk_is_ecmascript_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_is_ecmascript_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_ecmascript_function.1">Prototype <a class="sectionlink" href="#duk_is_ecmascript_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_ecmascript_function(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_ecmascript_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_ecmascript_function.2">Stack <a class="sectionlink" href="#duk_is_ecmascript_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_ecmascript_function.3">Summary <a class="sectionlink" href="#duk_is_ecmascript_function.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a Function object which has
been compiled from Ecmascript source code, otherwise returns 0.
If <code>idx</code> is invalid, also returns 0.</p>
<p>Internally Ecmascript functions are compiled into bytecode and executed
with the Ecmascript bytecode interpreter.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_ecmascript_function.4">Example <a class="sectionlink" href="#duk_is_ecmascript_function.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_ecmascript_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_error">
<a href="#duk_is_error"><span class="hidechar">.</span>duk_is_error()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_error.1">Prototype <a class="sectionlink" href="#duk_is_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_error.2">Stack <a class="sectionlink" href="#duk_is_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_error.3">Summary <a class="sectionlink" href="#duk_is_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>Error</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_error.4">Example <a class="sectionlink" href="#duk_is_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* Inherits from Error, attempt to print stack trace */</span>
<span class="normal">    </span><span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"stack"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"%s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="normal">    </span><span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_eval_error">
<a href="#duk_is_eval_error"><span class="hidechar">.</span>duk_is_eval_error()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_eval_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_eval_error.1">Prototype <a class="sectionlink" href="#duk_is_eval_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_eval_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_eval_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_eval_error.2">Stack <a class="sectionlink" href="#duk_is_eval_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_eval_error.3">Summary <a class="sectionlink" href="#duk_is_eval_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>EvalError</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.  This is
a convenience call for using
<code><a href="#duk_get_error_code">duk_get_error_code()</a> == DUK_ERR_EVAL_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_eval_error.4">Example <a class="sectionlink" href="#duk_is_eval_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_eval_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_fixed_buffer">
<a href="#duk_is_fixed_buffer"><span class="hidechar">.</span>duk_is_fixed_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_is_fixed_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_fixed_buffer.1">Prototype <a class="sectionlink" href="#duk_is_fixed_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_fixed_buffer(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_fixed_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_fixed_buffer.2">Stack <a class="sectionlink" href="#duk_is_fixed_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_fixed_buffer.3">Summary <a class="sectionlink" href="#duk_is_fixed_buffer.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a fixed buffer,
otherwise returns 0.  If <code>idx</code> is invalid, also
returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_fixed_buffer.4">Example <a class="sectionlink" href="#duk_is_fixed_buffer.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_fixed_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_function">
<a href="#duk_is_function"><span class="hidechar">.</span>duk_is_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_is_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_function.1">Prototype <a class="sectionlink" href="#duk_is_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_function(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_function.2">Stack <a class="sectionlink" href="#duk_is_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_function.3">Summary <a class="sectionlink" href="#duk_is_function.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is an object and is a function (has the
internal class <code>Function</code>), otherwise returns 0.  If <code>idx</code> is
invalid, also returns 0.</p>
<p>This function returns 1 when the following Ecmascript expression is true:</p>
<pre class="ecmascript-code"><span class="normal">Object</span><span class="symbol">.</span><span class="keyword">prototype</span><span class="symbol">.</span><span class="normal">toString</span><span class="symbol">.</span><span class="function">call</span><span class="symbol">(</span><span class="normal">val</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">===</span><span class="normal"> </span><span class="string">'[object Function]'</span>
</pre>
<p>To determine the specific type of the function, use:</p>
<ul>
<li><code><a href="#duk_is_c_function">duk_is_c_function()</a></code></li>
<li><code><a href="#duk_is_ecmascript_function">duk_is_ecmascript_function()</a></code></li>
<li><code><a href="#duk_is_bound_function">duk_is_bound_function()</a></code></li>
</ul>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_function.4">Example <a class="sectionlink" href="#duk_is_function.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_lightfunc">
<a href="#duk_is_lightfunc"><span class="hidechar">.</span>duk_is_lightfunc()</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_lightfunc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_lightfunc.1">Prototype <a class="sectionlink" href="#duk_is_lightfunc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_lightfunc(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_lightfunc</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_lightfunc.2">Stack <a class="sectionlink" href="#duk_is_lightfunc.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_lightfunc.3">Summary <a class="sectionlink" href="#duk_is_lightfunc.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a lightfunc, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_lightfunc.4">Example <a class="sectionlink" href="#duk_is_lightfunc.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_lightfunc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_nan">
<a href="#duk_is_nan"><span class="hidechar">.</span>duk_is_nan()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_nan">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_nan.1">Prototype <a class="sectionlink" href="#duk_is_nan.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_nan(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_nan</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_nan.2">Stack <a class="sectionlink" href="#duk_is_nan.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_nan.3">Summary <a class="sectionlink" href="#duk_is_nan.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a <code>NaN</code> (a special
number value), otherwise returns 0.  If <code>idx</code> is invalid,
also returns 0.</p>
<p>IEEE has a large number of different <code>NaN</code> values.  Duktape
normalizes <code>NaN</code> values internally.  This function returns 1
for any kind of a <code>NaN</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_nan.4">Example <a class="sectionlink" href="#duk_is_nan.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_nan</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_null">
<a href="#duk_is_null"><span class="hidechar">.</span>duk_is_null()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_null">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_null.1">Prototype <a class="sectionlink" href="#duk_is_null.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_null(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_null</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_null.2">Stack <a class="sectionlink" href="#duk_is_null.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_null.3">Summary <a class="sectionlink" href="#duk_is_null.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is either <code>null</code>, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_null.4">Example <a class="sectionlink" href="#duk_is_null.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_null</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_null_or_undefined">
<a href="#duk_is_null_or_undefined"><span class="hidechar">.</span>duk_is_null_or_undefined()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_null_or_undefined">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_null_or_undefined.1">Prototype <a class="sectionlink" href="#duk_is_null_or_undefined.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_null_or_undefined(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_null_or_undefined</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_null_or_undefined.2">Stack <a class="sectionlink" href="#duk_is_null_or_undefined.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_null_or_undefined.3">Summary <a class="sectionlink" href="#duk_is_null_or_undefined.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is either <code>null</code> or <code>undefined</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<p>This API call is similar to a <code>(x == null)</code> comparison in Ecmascript, which
is true for both <code>null</code> and <code>undefined</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_null_or_undefined.4">Example <a class="sectionlink" href="#duk_is_null_or_undefined.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_null_or_undefined</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_number">
<a href="#duk_is_number"><span class="hidechar">.</span>duk_is_number()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_number">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_number.1">Prototype <a class="sectionlink" href="#duk_is_number.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_number(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_number</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_number.2">Stack <a class="sectionlink" href="#duk_is_number.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_number.3">Summary <a class="sectionlink" href="#duk_is_number.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a number, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_number.4">Example <a class="sectionlink" href="#duk_is_number.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_object">
<a href="#duk_is_object"><span class="hidechar">.</span>duk_is_object()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_is_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_object.1">Prototype <a class="sectionlink" href="#duk_is_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_object(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_object.2">Stack <a class="sectionlink" href="#duk_is_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_object.3">Summary <a class="sectionlink" href="#duk_is_object.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is an object, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<p>Note that many values are considered to be an object, e.g.:</p>
<ul>
<li>Ecmascript object</li>
<li>Ecmascript array</li>
<li>Ecmascript function</li>
<li>Duktape thread (coroutine)</li>
<li>Duktape internal objects</li>
</ul>
<p>Specific object types can be checked with separate API calls,
e.g. <code><a href="#duk_is_array">duk_is_array()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_object.4">Example <a class="sectionlink" href="#duk_is_object.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_object_coercible">
<a href="#duk_is_object_coercible"><span class="hidechar">.</span>duk_is_object_coercible()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_is_object_coercible">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_object_coercible.1">Prototype <a class="sectionlink" href="#duk_is_object_coercible.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_object_coercible(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_object_coercible</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_object_coercible.2">Stack <a class="sectionlink" href="#duk_is_object_coercible.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_object_coercible.3">Summary <a class="sectionlink" href="#duk_is_object_coercible.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is object coercible, as defined in
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.10">CheckObjectCoercible</a>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<p>All Ecmascript types are object coercible except <code>undefined</code> and
<code>null</code>.  The custom buffer and pointer types are object coercible.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_object_coercible.4">Example <a class="sectionlink" href="#duk_is_object_coercible.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_object_coercible</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_pointer">
<a href="#duk_is_pointer"><span class="hidechar">.</span>duk_is_pointer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_pointer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_pointer.1">Prototype <a class="sectionlink" href="#duk_is_pointer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_pointer(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_pointer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_pointer.2">Stack <a class="sectionlink" href="#duk_is_pointer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_pointer.3">Summary <a class="sectionlink" href="#duk_is_pointer.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a pointer, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_pointer.4">Example <a class="sectionlink" href="#duk_is_pointer.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_pointer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_primitive">
<a href="#duk_is_primitive"><span class="hidechar">.</span>duk_is_primitive()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_primitive">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_primitive.1">Prototype <a class="sectionlink" href="#duk_is_primitive.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_primitive(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_primitive</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_primitive.2">Stack <a class="sectionlink" href="#duk_is_primitive.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_primitive.3">Summary <a class="sectionlink" href="#duk_is_primitive.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a primitive type, as defined in
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.1">ToPrimitive</a>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<p>Any standard type other than an object is a primitive type.  The custom
plain pointer type is also considered a primitive type.  However, the custom
plain buffer type (which behaves like an Uint8Array object in most situations) and
lightfunc type (which behaves like a Function object in most situations) are not
considered a primitive type.  This matches the behavior of <code>duk_to_primitive()</code>
which (usually) coerces e.g. a plain buffer to the string <code>[object Uint8Array]</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_primitive.4">Example <a class="sectionlink" href="#duk_is_primitive.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_primitive</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_range_error">
<a href="#duk_is_range_error"><span class="hidechar">.</span>duk_is_range_error()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_range_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_range_error.1">Prototype <a class="sectionlink" href="#duk_is_range_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_range_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_range_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_range_error.2">Stack <a class="sectionlink" href="#duk_is_range_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_range_error.3">Summary <a class="sectionlink" href="#duk_is_range_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>RangeError</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.  This is
a convenience call for using
<code><a href="#duk_get_error_code">duk_get_error_code()</a> == DUK_ERR_RANGE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_range_error.4">Example <a class="sectionlink" href="#duk_is_range_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_range_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_reference_error">
<a href="#duk_is_reference_error"><span class="hidechar">.</span>duk_is_reference_error()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_reference_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_reference_error.1">Prototype <a class="sectionlink" href="#duk_is_reference_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_reference_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_reference_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_reference_error.2">Stack <a class="sectionlink" href="#duk_is_reference_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_reference_error.3">Summary <a class="sectionlink" href="#duk_is_reference_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>ReferenceError</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.  This is
a convenience call for using
<code><a href="#duk_get_error_code">duk_get_error_code()</a> == DUK_ERR_REFERENCE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_reference_error.4">Example <a class="sectionlink" href="#duk_is_reference_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_reference_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_strict_call">
<a href="#duk_is_strict_call"><span class="hidechar">.</span>duk_is_strict_call()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_is_strict_call">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_strict_call.1">Prototype <a class="sectionlink" href="#duk_is_strict_call.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_strict_call(duk_context *ctx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_strict_call</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_strict_call.2">Stack <a class="sectionlink" href="#duk_is_strict_call.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_strict_call.3">Summary <a class="sectionlink" href="#duk_is_strict_call.3">§</a></h2>
<p>Check whether the current (Duktape/C) function call is strict or not.
Returns 1 if the current function call is strict, 0 otherwise.  As of
Duktape 0.12.0, this function always returns 1 when called from user code
(even if the call stack is empty).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_strict_call.4">Example <a class="sectionlink" href="#duk_is_strict_call.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_strict_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"strict call</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"non-strict call</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_string">
<a href="#duk_is_string"><span class="hidechar">.</span>duk_is_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_string.1">Prototype <a class="sectionlink" href="#duk_is_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_string(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_string.2">Stack <a class="sectionlink" href="#duk_is_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_string.3">Summary <a class="sectionlink" href="#duk_is_string.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a string, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<div class="note">
Symbol values are visible in the C API as strings so that both
<code>duk_is_symbol()</code> and <code>duk_is_string()</code> are true.
This behavior is similar to Duktape 1.x internal strings.  Symbols are
still an experimental feature; for now, you can distinguish Symbols from
ordinary strings using <code><a href="#duk_is_symbol">duk_is_symbol()</a></code>.
For the internal representation, see
<a href="https://github.com/svaarala/duktape/blob/master/doc/symbols.rst">symbols.rst</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_string.4">Example <a class="sectionlink" href="#duk_is_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_symbol">
<a href="#duk_is_symbol"><span class="hidechar">.</span>duk_is_symbol()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-symbol">symbol</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_symbol">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_symbol.1">Prototype <a class="sectionlink" href="#duk_is_symbol.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_symbol(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_symbol</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_symbol.2">Stack <a class="sectionlink" href="#duk_is_symbol.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_symbol.3">Summary <a class="sectionlink" href="#duk_is_symbol.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is a symbol, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
<div class="note">
Symbol values are visible in the C API as strings so that both
<code>duk_is_symbol()</code> and <code>duk_is_string()</code> are true.
This behavior is similar to Duktape 1.x internal strings.  Symbols are
still an experimental feature; for now, you can distinguish Symbols from
ordinary strings using <code><a href="#duk_is_symbol">duk_is_symbol()</a></code>.
For the internal representation, see
<a href="https://github.com/svaarala/duktape/blob/master/doc/symbols.rst">symbols.rst</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_symbol.4">Example <a class="sectionlink" href="#duk_is_symbol.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_symbol</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_syntax_error">
<a href="#duk_is_syntax_error"><span class="hidechar">.</span>duk_is_syntax_error()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_syntax_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_syntax_error.1">Prototype <a class="sectionlink" href="#duk_is_syntax_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_syntax_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_syntax_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_syntax_error.2">Stack <a class="sectionlink" href="#duk_is_syntax_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_syntax_error.3">Summary <a class="sectionlink" href="#duk_is_syntax_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>SyntaxError</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.  This is
a convenience call for using
<code><a href="#duk_get_error_code">duk_get_error_code()</a> == DUK_ERR_SYNTAX_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_syntax_error.4">Example <a class="sectionlink" href="#duk_is_syntax_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_syntax_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_thread">
<a href="#duk_is_thread"><span class="hidechar">.</span>duk_is_thread()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_thread">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_thread.1">Prototype <a class="sectionlink" href="#duk_is_thread.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_thread(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_thread</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_thread.2">Stack <a class="sectionlink" href="#duk_is_thread.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_thread.3">Summary <a class="sectionlink" href="#duk_is_thread.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is an object and is a Duktape
thread (coroutine), otherwise returns 0.  If <code>idx</code> is invalid,
also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_thread.4">Example <a class="sectionlink" href="#duk_is_thread.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_thread</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_type_error">
<a href="#duk_is_type_error"><span class="hidechar">.</span>duk_is_type_error()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_type_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_type_error.1">Prototype <a class="sectionlink" href="#duk_is_type_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_type_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_type_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_type_error.2">Stack <a class="sectionlink" href="#duk_is_type_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_type_error.3">Summary <a class="sectionlink" href="#duk_is_type_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>TypeError</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.  This is
a convenience call for using
<code><a href="#duk_get_error_code">duk_get_error_code()</a> == DUK_ERR_TYPE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_type_error.4">Example <a class="sectionlink" href="#duk_is_type_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_type_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_undefined">
<a href="#duk_is_undefined"><span class="hidechar">.</span>duk_is_undefined()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_undefined">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_undefined.1">Prototype <a class="sectionlink" href="#duk_is_undefined.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_undefined(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_undefined</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_undefined.2">Stack <a class="sectionlink" href="#duk_is_undefined.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_undefined.3">Summary <a class="sectionlink" href="#duk_is_undefined.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> is either <code>undefined</code>, otherwise
returns 0.  If <code>idx</code> is invalid, also returns 0.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_undefined.4">Example <a class="sectionlink" href="#duk_is_undefined.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_undefined</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_uri_error">
<a href="#duk_is_uri_error"><span class="hidechar">.</span>duk_is_uri_error()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_is_uri_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_uri_error.1">Prototype <a class="sectionlink" href="#duk_is_uri_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_uri_error(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_uri_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_uri_error.2">Stack <a class="sectionlink" href="#duk_is_uri_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_uri_error.3">Summary <a class="sectionlink" href="#duk_is_uri_error.3">§</a></h2>
<p>Returns 1 if value at <code>idx</code> inherits from <code>URIError</code>,
otherwise returns 0.  If <code>idx</code> is invalid, also returns 0.  This is
a convenience call for using
<code><a href="#duk_get_error_code">duk_get_error_code()</a> == DUK_ERR_URI_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_uri_error.4">Example <a class="sectionlink" href="#duk_is_uri_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_uri_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_is_valid_index">
<a href="#duk_is_valid_index"><span class="hidechar">.</span>duk_is_valid_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_is_valid_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_is_valid_index.1">Prototype <a class="sectionlink" href="#duk_is_valid_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_is_valid_index(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_is_valid_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_is_valid_index.2">Stack <a class="sectionlink" href="#duk_is_valid_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_is_valid_index.3">Summary <a class="sectionlink" href="#duk_is_valid_index.3">§</a></h2>
<p>Validate argument index, return 1 if index is valid, 0 otherwise.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_is_valid_index.4">Example <a class="sectionlink" href="#duk_is_valid_index.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_valid_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"index -3 is valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"index -3 is not valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_is_valid_index.5">See also <a class="sectionlink" href="#duk_is_valid_index.5">§</a></h2>
<ul>
<li><a href="#duk_require_valid_index">duk_require_valid_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_join">
<a href="#duk_join"><span class="hidechar">.</span>duk_join()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
 <a class="sectionlink" href="#duk_join">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_join.1">Prototype <a class="sectionlink" href="#duk_join.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_join(duk_context *ctx, int count);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_join</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> count</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_join.2">Stack <a class="sectionlink" href="#duk_join.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">sep</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_join.3">Summary <a class="sectionlink" href="#duk_join.3">§</a></h2>
<p>Join zero or more values into a result string with a separator between
each value.  The separator and the input values are automatically coerced
with
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.8">ToString()</a>.</p>
<p>This primitive minimizes the number of intermediate string interning
operations and is better than joining strings manually.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_join.4">Example <a class="sectionlink" href="#duk_join.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"; "</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_true</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_join</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>

<span class="function">printf</span><span class="symbol">(</span><span class="string">"result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* "foo; 123; true" */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_join.5">See also <a class="sectionlink" href="#duk_join.5">§</a></h2>
<ul>
<li><a href="#duk_concat">duk_concat</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_json_decode">
<a href="#duk_json_decode"><span class="hidechar">.</span>duk_json_decode()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-json">json</a>
<a class="apitag" href="#taglist-codec">codec</a>
 <a class="sectionlink" href="#duk_json_decode">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_json_decode.1">Prototype <a class="sectionlink" href="#duk_json_decode.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_json_decode(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_json_decode</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_json_decode.2">Stack <a class="sectionlink" href="#duk_json_decode.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">json_val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_json_decode.3">Summary <a class="sectionlink" href="#duk_json_decode.3">§</a></h2>
<p>Decodes an arbitrary JSON value as an in-place operation.
If the input is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_json_decode.4">Example <a class="sectionlink" href="#duk_json_decode.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"{</span><span class="specialchar">\"</span><span class="string">meaningOfLife</span><span class="specialchar">\"</span><span class="string">:42}"</span><span class="symbol">);</span>
<span class="function">duk_json_decode</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
<span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"meaningOfLife"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"JSON decoded meaningOfLife is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop_2</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Output:</span>
<span class="comment"> * JSON decoded meaningOfLife is: 42</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_json_decode.5">See also <a class="sectionlink" href="#duk_json_decode.5">§</a></h2>
<ul>
<li><a href="#duk_json_encode">duk_json_encode</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_json_encode">
<a href="#duk_json_encode"><span class="hidechar">.</span>duk_json_encode()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-json">json</a>
<a class="apitag" href="#taglist-codec">codec</a>
 <a class="sectionlink" href="#duk_json_encode">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_json_encode.1">Prototype <a class="sectionlink" href="#duk_json_encode.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_json_encode(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_json_encode</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_json_encode.2">Stack <a class="sectionlink" href="#duk_json_encode.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">json_val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_json_encode.3">Summary <a class="sectionlink" href="#duk_json_encode.3">§</a></h2>
<p>Encodes an arbitrary value into its JSON representation as an in-place
operation.  Returns pointer to the resulting string for convenience.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_json_encode.4">Example <a class="sectionlink" href="#duk_json_encode.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">42</span><span class="symbol">);</span>
<span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"meaningOfLife"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"JSON encoded: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_json_encode</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Output:</span>
<span class="comment"> * JSON encoded: {"meaningOfLife":42}</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_json_encode.5">See also <a class="sectionlink" href="#duk_json_encode.5">§</a></h2>
<ul>
<li><a href="#duk_json_decode">duk_json_decode</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_load_function">
<a href="#duk_load_function"><span class="hidechar">.</span>duk_load_function()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-bytecode">bytecode</a>
 <a class="sectionlink" href="#duk_load_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_load_function.1">Prototype <a class="sectionlink" href="#duk_load_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_load_function(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_load_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_load_function.2">Stack <a class="sectionlink" href="#duk_load_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">bytecode</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_load_function.3">Summary <a class="sectionlink" href="#duk_load_function.3">§</a></h2>
<p>Load a buffer containing
<a href="https://github.com/svaarala/duktape/blob/master/doc/bytecode.rst">bytecode</a>,
recreating the original Ecmascript function (with some limitations).  You <b>must</b>
ensure that the bytecode has been dumped with a compatible Duktape version and that the
bytecode has not been modified since.  <b>Loading bytecode from an untrusted source is
memory unsafe and may load to exploitable vulnerabilities.</b></p>
<div class="note">
For more information on Duktape bytecode dump/load, supported features,
and known limitations, see <a href="https://github.com/svaarala/duktape/blob/master/doc/bytecode.rst">bytecode.rst</a>.
Duktape bytecode format is not intended for obfuscation, see notes on
<a href="https://github.com/svaarala/duktape/blob/master/doc/bytecode.rst#obfuscation">Obfuscation</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_load_function.4">Example <a class="sectionlink" href="#duk_load_function.4">§</a></h2>
<pre class="c-code"><span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"(function helloWorld() { print('hello world'); })"</span><span class="symbol">);</span>
<span class="function">duk_dump_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="comment">/* stack top now contains a buffer containing helloWorld bytecode */</span>

<span class="function">duk_load_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... bytecode ] -&gt; [ ... function ] */</span>
<span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_load_function.5">See also <a class="sectionlink" href="#duk_load_function.5">§</a></h2>
<ul>
<li><a href="#duk_dump_function">duk_dump_function</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_map_string">
<a href="#duk_map_string"><span class="hidechar">.</span>duk_map_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
 <a class="sectionlink" href="#duk_map_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_map_string.1">Prototype <a class="sectionlink" href="#duk_map_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_map_string(duk_context *ctx, int idx, duk_map_char_function callback, void *udata);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_map_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_map_char_function</span><span class="normal"> callback</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_map_string.2">Stack <a class="sectionlink" href="#duk_map_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_map_string.3">Summary <a class="sectionlink" href="#duk_map_string.3">§</a></h2>
<p>Process string at <code>idx</code>, calling <code>callback</code> for each codepoint
of the string.  The callback is given the <code>udata</code> argument and a codepoint
and returns a replacement codepoint.  If successful, a new string consisting of
the replacement codepoints replaces the original.  If the value is not a string or
the index is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_map_string.4">Example <a class="sectionlink" href="#duk_map_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">static</span><span class="normal"> </span><span class="usertype">duk_codepoint_t</span><span class="normal"> </span><span class="function">map_char</span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_codepoint_t</span><span class="normal"> codepoint</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* Convert ASCII to uppercase. */</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">codepoint </span><span class="symbol">&gt;=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">duk_codepoint_t</span><span class="symbol">)</span><span class="normal"> </span><span class="string">'a'</span><span class="normal"> </span><span class="symbol">&amp;&amp;</span><span class="normal"> codepoint </span><span class="symbol">&lt;=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">duk_codepoint_t</span><span class="symbol">)</span><span class="normal"> </span><span class="string">'z'</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">return</span><span class="normal"> codepoint </span><span class="symbol">-</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">duk_codepoint_t</span><span class="symbol">)</span><span class="normal"> </span><span class="string">'a'</span><span class="normal"> </span><span class="symbol">+</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">duk_codepoint_t</span><span class="symbol">)</span><span class="normal"> </span><span class="string">'A'</span><span class="symbol">;</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> codepoint</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"test_string"</span><span class="symbol">);</span>
<span class="function">duk_map_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> map_char</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_map_string.5">See also <a class="sectionlink" href="#duk_map_string.5">§</a></h2>
<ul>
<li><a href="#duk_decode_string">duk_decode_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_new">
<a href="#duk_new"><span class="hidechar">.</span>duk_new()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_new">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_new.1">Prototype <a class="sectionlink" href="#duk_new.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_new(duk_context *ctx, int nargs);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_new</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_new.2">Stack <a class="sectionlink" href="#duk_new.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">constructor</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_new.3">Summary <a class="sectionlink" href="#duk_new.3">§</a></h2>
<p>Call a constructor function with <code>nargs</code> arguments
(not counting the function itself).  The function and its arguments
are replaced by a single return value.  An error thrown during the
constructor call is not automatically caught.</p>
<p>The target function <code>this</code> binding is set to a freshly
created empty object.  If <code>constructor.prototype</code> is an
object, the internal prototype of the new object is set to that
value; otherwise the standard built-in <code>Object</code> prototype
is used as the internal prototype.  The return value of the target
function determines what the result of the constructor call is.
If the constructor returns an object, it replaces the fresh empty object;
otherwise the fresh empty object (possibly modified by the constructor)
is returned.
See <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-13.2.2">[[Construct]]</a>.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_new.4">Example <a class="sectionlink" href="#duk_new.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Assume target function is already on stack at func_idx.</span>
<span class="comment"> * Equivalent to Ecmascript 'new func("foo", 123)'.</span>
<span class="comment"> */</span>
<span class="usertype">duk_idx_t</span><span class="normal"> func_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> func_idx</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_new</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func "foo" 123 ] -&gt; [ ... res ] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"result is object: %d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_is_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_new.5">See also <a class="sectionlink" href="#duk_new.5">§</a></h2>
<ul>
<li><a href="#duk_pnew">duk_pnew</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_next">
<a href="#duk_next"><span class="hidechar">.</span>duk_next()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_next">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_next.1">Prototype <a class="sectionlink" href="#duk_next.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_next(duk_context *ctx, int enum_idx, int get_value);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_next</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> enum_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_bool_t</span><span class="normal"> get_value</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_next.2">Stack <a class="sectionlink" href="#duk_next.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(if enum empty; function returns zero)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="cap">]</span> </span> <span class="stack-comment">(if enum not empty and get_value == 0; function returns non-zero)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">enum</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">value</span> <span class="cap">]</span> </span> <span class="stack-comment">(if enum not empty and get_value != 0; function returns non-zero)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_next.3">Summary <a class="sectionlink" href="#duk_next.3">§</a></h2>
<p>Get the next key (and optionally value) from an enumerator created with
<code><a href="#duk_enum">duk_enum()</a></code>.  If the enumeration has been
exhausted, nothing is pushed to the stack and the function returns zero.
Otherwise the key is pushed to the stack, followed by the value if
<code>get_value</code> is non-zero, and the function returns non-zero.
</p>
<p>Note that getting the value may invoke a getter which may have arbitrary
side effects (and may throw an error).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_next.4">Example <a class="sectionlink" href="#duk_next.4">§</a></h2>
<pre class="c-code"><span class="keyword">while</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_next</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> enum_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"key=%s, value=%s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">),</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="normal">    </span><span class="function">duk_pop_2</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_next.5">See also <a class="sectionlink" href="#duk_next.5">§</a></h2>
<ul>
<li><a href="#duk_enum">duk_enum</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_normalize_index">
<a href="#duk_normalize_index"><span class="hidechar">.</span>duk_normalize_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_normalize_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_normalize_index.1">Prototype <a class="sectionlink" href="#duk_normalize_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_normalize_index(duk_context *ctx, int idx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_normalize_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_normalize_index.2">Stack <a class="sectionlink" href="#duk_normalize_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_normalize_index.3">Summary <a class="sectionlink" href="#duk_normalize_index.3">§</a></h2>
<p>Normalize argument index relative to the bottom of the current frame.
The resulting index will be 0 or greater and will be independent of
later stack modifications.  If the input index is invalid, returns
<code>DUK_INVALID_INDEX</code>.  If you prefer that an error be thrown for
an invalid index, use
<code><a href="#duk_require_normalize_index">duk_require_normalize_index()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_normalize_index.4">Example <a class="sectionlink" href="#duk_normalize_index.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_normalize_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_normalize_index.5">See also <a class="sectionlink" href="#duk_normalize_index.5">§</a></h2>
<ul>
<li><a href="#duk_require_normalize_index">duk_require_normalize_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcall">
<a href="#duk_pcall"><span class="hidechar">.</span>duk_pcall()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_pcall">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcall.1">Prototype <a class="sectionlink" href="#duk_pcall.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcall(duk_context *ctx, int nargs);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcall</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcall.2">Stack <a class="sectionlink" href="#duk_pcall.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcall.3">Summary <a class="sectionlink" href="#duk_pcall.3">§</a></h2>
<p>Call target function <code>func</code> with <code>nargs</code> arguments
(not counting the function itself).  The function and its arguments
are replaced by a single return value or a single error value.
An error thrown during the function call is caught.</p>
<p>The return value is:</p>
<ul>
<li><code>DUK_EXEC_SUCCESS</code> (0): call succeeded, <code>nargs</code> arguments are replaced
    with a single return value.  (This return code constant is guaranteed to be zero, so
    that one can check for success with a "zero or non-zero" check.)</li>
<li><code>DUK_EXEC_ERROR</code>: call failed, <code>nargs</code> arguments are replaced with a
    single error value.  (In exceptional cases, e.g. when there are too few
    arguments on the value stack, the call returns non-zero but may leave the stack
    in an inconsistent state.)</li>
</ul>
<div class="note">
Unlike most Duktape API calls, this call returns zero on success.  This allows
multiple error codes to be defined later.
</div>
<p>Error objects caught are typically instances of Error and have useful
properties like <code>.stack</code>, <code>.fileName</code>, and
<code>.lineNumber</code>.  These can be accessed using the normal property
methods.  However, arbitrary values can be thrown so you should avoid
assuming that's always the case.</p>
<p>The target function <code>this</code> binding is initially set to
<code>undefined</code>.  If the target function is not strict, the binding
is replaced by the global object before the function is invoked; see
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-10.4.3">Entering Function Code</a>.
If you want to control the <code>this</code> binding, you can use
<code><a href="#duk_pcall_method">duk_pcall_method()</a></code> or
<code><a href="#duk_pcall_prop">duk_pcall_prop()</a></code> instead.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcall.4">Example <a class="sectionlink" href="#duk_pcall.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Assume target function is already on stack at func_idx; the target</span>
<span class="comment"> * function adds arguments and returns the result.</span>
<span class="comment"> */</span>

<span class="usertype">duk_idx_t</span><span class="normal"> func_idx</span><span class="symbol">;</span>
<span class="usertype">duk_int_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="comment">/* Basic example: function call and duk_safe_to_string() error print. */</span>

<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> func_idx</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_pcall</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func 2 3 ] -&gt; [ 5 ] */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rc </span><span class="symbol">==</span><span class="normal"> DUK_EXEC_SUCCESS</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* Coercing with duk_safe_to_string() is a useful default, but you can</span>
<span class="comment">     * also look up e.g. the .stack property of the error.</span>
<span class="comment">     */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"error: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Accessing .stack to print a stack trace if the value caught is an</span>
<span class="comment"> * Error instance.</span>
<span class="comment"> */</span>

<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> func_idx</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_pcall</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func 2 3 ] -&gt; [ 5 ] */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rc </span><span class="symbol">==</span><span class="normal"> DUK_EXEC_SUCCESS</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_is_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="comment">/* Accessing .stack might cause an error to be thrown, so wrap this</span>
<span class="comment">         * access in a duk_safe_call() if it matters.</span>
<span class="comment">         */</span>
<span class="normal">        </span><span class="function">duk_get_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"stack"</span><span class="symbol">);</span>
<span class="normal">        </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"error: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="normal">        </span><span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="comment">/* Non-Error value, coerce safely to string. */</span>
<span class="normal">        </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"error: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_pcall.5">See also <a class="sectionlink" href="#duk_pcall.5">§</a></h2>
<ul>
<li><a href="#duk_pcall_method">duk_pcall_method</a></li>
<li><a href="#duk_pcall_prop">duk_pcall_prop</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcall_method">
<a href="#duk_pcall_method"><span class="hidechar">.</span>duk_pcall_method()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_pcall_method">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcall_method.1">Prototype <a class="sectionlink" href="#duk_pcall_method.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcall_method(duk_context *ctx, int nargs);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcall_method</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcall_method.2">Stack <a class="sectionlink" href="#duk_pcall_method.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="elem active">this</span> <span class="elem active">arg</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="elem active">this</span> <span class="elem active">arg</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcall_method.3">Summary <a class="sectionlink" href="#duk_pcall_method.3">§</a></h2>
<p>Like <code><a href="#duk_pcall">duk_pcall()</a></code>, but the target function
<code>func</code> is called with an explicit <code>this</code> binding given on the value
stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcall_method.4">Example <a class="sectionlink" href="#duk_pcall_method.4">§</a></h2>
<pre class="c-code"><span class="comment">/* The target function here prints:</span>
<span class="comment"> *</span>
<span class="comment"> *    this: 123</span>
<span class="comment"> *    2 3</span>
<span class="comment"> *</span>
<span class="comment"> * and returns 5.</span>
<span class="comment"> */</span>

<span class="usertype">duk_int_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"function(x,y) { print('this:', this); "</span>
<span class="normal">                     </span><span class="string">"print(x,y); return x+y; }"</span><span class="symbol">);</span>
<span class="function">duk_eval</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... func ] */</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_pcall_method</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func 123 2 3 ] -&gt; [ 5 ] */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rc </span><span class="symbol">==</span><span class="normal"> DUK_EXEC_SUCCESS</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* prints 5 */</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"error: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcall_prop">
<a href="#duk_pcall_prop"><span class="hidechar">.</span>duk_pcall_prop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_pcall_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcall_prop.1">Prototype <a class="sectionlink" href="#duk_pcall_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcall_prop(duk_context *ctx, int obj_idx, int nargs);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcall_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcall_prop.2">Stack <a class="sectionlink" href="#duk_pcall_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcall_prop.3">Summary <a class="sectionlink" href="#duk_pcall_prop.3">§</a></h2>
<p>Like <code><a href="#duk_pcall">duk_pcall()</a></code>, but the target function
is looked up from <code>obj.key</code> and <code>obj</code> is used as the function's
<code>this</code> binding.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcall_prop.4">Example <a class="sectionlink" href="#duk_pcall_prop.4">§</a></h2>
<pre class="c-code"><span class="comment">/* obj.myAdderMethod(2,3) -&gt; 5 */</span>
<span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">;</span>
<span class="usertype">duk_int_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myAdderMethod"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_pcall_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... "myAdderMethod" 2 3 ] -&gt; [ ... 5 ] */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rc </span><span class="symbol">==</span><span class="normal"> DUK_EXEC_SUCCESS</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3=%ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"error: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcompile">
<a href="#duk_pcompile"><span class="hidechar">.</span>duk_pcompile()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_pcompile">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcompile.1">Prototype <a class="sectionlink" href="#duk_pcompile.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcompile(duk_context *ctx, unsigned int flags);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcompile</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcompile.2">Stack <a class="sectionlink" href="#duk_pcompile.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcompile.3">Summary <a class="sectionlink" href="#duk_pcompile.3">§</a></h2>
<p>Like <code><a href="#duk_compile">duk_compile()</a></code> but catches errors
related to compilation (such as syntax errors in the source).  A zero return
value indicates success and the compiled function is left on the stack top.
A non-zero return value indicates an error, and the error is left on the stack top.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcompile.4">Example <a class="sectionlink" href="#duk_pcompile.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('program'); syntax error here="</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"hello-with-syntax-error"</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_pcompile</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"compile failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"program result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_pcompile.5">See also <a class="sectionlink" href="#duk_pcompile.5">§</a></h2>
<ul>
<li><a href="#duk_compile">duk_compile</a></li>
<li><a href="#duk_pcompile_string">duk_pcompile_string</a></li>
<li><a href="#duk_pcompile_string_filename">duk_pcompile_string_filename</a></li>
<li><a href="#duk_pcompile_lstring">duk_pcompile_lstring</a></li>
<li><a href="#duk_pcompile_lstring_filename">duk_pcompile_lstring_filename</a></li>
<li><a href="#duk_pcompile_file">duk_pcompile_file</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcompile_lstring">
<a href="#duk_pcompile_lstring"><span class="hidechar">.</span>duk_pcompile_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_pcompile_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcompile_lstring.1">Prototype <a class="sectionlink" href="#duk_pcompile_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcompile_lstring(duk_context *ctx, unsigned int flags, const char *src, size_t len);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcompile_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcompile_lstring.2">Stack <a class="sectionlink" href="#duk_pcompile_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcompile_lstring.3">Summary <a class="sectionlink" href="#duk_pcompile_lstring.3">§</a></h2>
<p>Like
<code><a href="#duk_pcompile">duk_pcompile()</a></code>, but the compile input
is given as a C string with explicit length.  The filename associated with the
function is <code>"input"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcompile_lstring.4">Example <a class="sectionlink" href="#duk_pcompile_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_pcompile_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"compile failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"program result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcompile_lstring_filename">
<a href="#duk_pcompile_lstring_filename"><span class="hidechar">.</span>duk_pcompile_lstring_filename()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_pcompile_lstring_filename">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcompile_lstring_filename.1">Prototype <a class="sectionlink" href="#duk_pcompile_lstring_filename.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcompile_lstring_filename(duk_context *ctx, unsigned int flags, const char *src, size_t len);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcompile_lstring_filename</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcompile_lstring_filename.2">Stack <a class="sectionlink" href="#duk_pcompile_lstring_filename.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcompile_lstring_filename.3">Summary <a class="sectionlink" href="#duk_pcompile_lstring_filename.3">§</a></h2>
<p>Like
<code><a href="#duk_pcompile">duk_pcompile()</a></code>, but the compile input
is given as a C string with explicit length.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcompile_lstring_filename.4">Example <a class="sectionlink" href="#duk_pcompile_lstring_filename.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myFile.js"</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_pcompile_lstring_filename</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"compile failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"program result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcompile_string">
<a href="#duk_pcompile_string"><span class="hidechar">.</span>duk_pcompile_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_pcompile_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcompile_string.1">Prototype <a class="sectionlink" href="#duk_pcompile_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcompile_string(duk_context *ctx, unsigned int flags, const char *src);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcompile_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcompile_string.2">Stack <a class="sectionlink" href="#duk_pcompile_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcompile_string.3">Summary <a class="sectionlink" href="#duk_pcompile_string.3">§</a></h2>
<p>Like
<code><a href="#duk_pcompile">duk_pcompile()</a></code>, but the compile input
is given as a C string.  The filename associated with the function is
<code>"input"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcompile_string.4">Example <a class="sectionlink" href="#duk_pcompile_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_pcompile_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('program code'); syntax error here="</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"compile failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"program result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pcompile_string_filename">
<a href="#duk_pcompile_string_filename"><span class="hidechar">.</span>duk_pcompile_string_filename()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_pcompile_string_filename">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pcompile_string_filename.1">Prototype <a class="sectionlink" href="#duk_pcompile_string_filename.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pcompile_string_filename(duk_context *ctx, unsigned int flags, const char *src);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_pcompile_string_filename</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pcompile_string_filename.2">Stack <a class="sectionlink" href="#duk_pcompile_string_filename.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">function</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">filename</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pcompile_string_filename.3">Summary <a class="sectionlink" href="#duk_pcompile_string_filename.3">§</a></h2>
<p>Like
<code><a href="#duk_pcompile">duk_pcompile()</a></code>, but the compile input
is given as a C string.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pcompile_string_filename.4">Example <a class="sectionlink" href="#duk_pcompile_string_filename.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"myFile.js"</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_pcompile_string_filename</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('program code'); syntax error here="</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"compile failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* [ func ] -&gt; [ result ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"program result: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_peval">
<a href="#duk_peval"><span class="hidechar">.</span>duk_peval()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_peval">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_peval.1">Prototype <a class="sectionlink" href="#duk_peval.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_peval(duk_context *ctx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_peval</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_peval.2">Stack <a class="sectionlink" href="#duk_peval.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_peval.3">Summary <a class="sectionlink" href="#duk_peval.3">§</a></h2>
<p>Like <code><a href="#duk_eval">duk_eval()</a></code> but catches errors
related to compilation (such as syntax errors in the source).  A zero return
value indicates success and the eval result is left on the stack top.
A non-zero return value indicates an error, and the error is left on the stack top.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_peval.4">Example <a class="sectionlink" href="#duk_peval.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('Hello world!'); syntax error here="</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_peval</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"result is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_peval.5">See also <a class="sectionlink" href="#duk_peval.5">§</a></h2>
<ul>
<li><a href="#duk_eval">duk_eval</a></li>
<li><a href="#duk_peval_noresult">duk_peval_noresult</a></li>
<li><a href="#duk_peval_string">duk_peval_string</a></li>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
<li><a href="#duk_peval_lstring">duk_peval_lstring</a></li>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
<li><a href="#duk_peval_file">duk_peval_file</a></li>
<li><a href="#duk_peval_file_noresult">duk_peval_file_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_peval_lstring">
<a href="#duk_peval_lstring"><span class="hidechar">.</span>duk_peval_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_peval_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_peval_lstring.1">Prototype <a class="sectionlink" href="#duk_peval_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_peval_lstring(duk_context *ctx, const char *src, size_t len);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_peval_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_peval_lstring.2">Stack <a class="sectionlink" href="#duk_peval_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_peval_lstring.3">Summary <a class="sectionlink" href="#duk_peval_lstring.3">§</a></h2>
<p>Like
<code><a href="#duk_peval">duk_peval()</a></code>, but the eval input
is given as a C string with explicit length.  The filename associated with the
temporary eval function is <code>"eval"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_peval_lstring.4">Example <a class="sectionlink" href="#duk_peval_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_peval_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"result is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_peval_lstring.5">See also <a class="sectionlink" href="#duk_peval_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_peval_lstring_noresult">
<a href="#duk_peval_lstring_noresult"><span class="hidechar">.</span>duk_peval_lstring_noresult()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_peval_lstring_noresult">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_peval_lstring_noresult.1">Prototype <a class="sectionlink" href="#duk_peval_lstring_noresult.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_peval_lstring_noresult(duk_context *ctx, const char *src, size_t len);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_peval_lstring_noresult</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_peval_lstring_noresult.2">Stack <a class="sectionlink" href="#duk_peval_lstring_noresult.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_peval_lstring_noresult.3">Summary <a class="sectionlink" href="#duk_peval_lstring_noresult.3">§</a></h2>
<p>Like
<code><a href="#duk_peval_lstring">duk_peval_lstring()</a></code>, but leaves
no result on the value stack (regardless of success/error result).</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_peval_lstring_noresult.4">Example <a class="sectionlink" href="#duk_peval_lstring_noresult.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_peval_lstring_noresult</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> src</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval failed</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval successful</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_peval_noresult">
<a href="#duk_peval_noresult"><span class="hidechar">.</span>duk_peval_noresult()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_peval_noresult">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_peval_noresult.1">Prototype <a class="sectionlink" href="#duk_peval_noresult.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_peval_noresult(duk_context *ctx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_peval_noresult</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_peval_noresult.2">Stack <a class="sectionlink" href="#duk_peval_noresult.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">source</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_peval_noresult.3">Summary <a class="sectionlink" href="#duk_peval_noresult.3">§</a></h2>
<p>Like <code><a href="#duk_peval">duk_peval()</a></code> but leaves no result
on the value stack (regardless of success/error result).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_peval_noresult.4">Example <a class="sectionlink" href="#duk_peval_noresult.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('Hello world!'); syntax error here="</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_peval_noresult</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval failed</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval successful</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_peval_noresult.5">See also <a class="sectionlink" href="#duk_peval_noresult.5">§</a></h2>
<ul>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
<li><a href="#duk_peval_lstring_noresult">duk_peval_lstring_noresult</a></li>
<li><a href="#duk_peval_file_noresult">duk_peval_file_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_peval_string">
<a href="#duk_peval_string"><span class="hidechar">.</span>duk_peval_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_peval_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_peval_string.1">Prototype <a class="sectionlink" href="#duk_peval_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_peval_string(duk_context *ctx, const char *src);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_peval_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_peval_string.2">Stack <a class="sectionlink" href="#duk_peval_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">result</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_peval_string.3">Summary <a class="sectionlink" href="#duk_peval_string.3">§</a></h2>
<p>Like
<code><a href="#duk_peval">duk_peval()</a></code>, but the eval input
is given as a C string.  The filename associated with the temporary
eval function is <code>"eval"</code>.</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_peval_string.4">Example <a class="sectionlink" href="#duk_peval_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_peval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"'testString'.toUpperCase()"</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"result is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_peval_string.5">See also <a class="sectionlink" href="#duk_peval_string.5">§</a></h2>
<ul>
<li><a href="#duk_peval_string_noresult">duk_peval_string_noresult</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_peval_string_noresult">
<a href="#duk_peval_string_noresult"><span class="hidechar">.</span>duk_peval_string_noresult()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-compile">compile</a>
 <a class="sectionlink" href="#duk_peval_string_noresult">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_peval_string_noresult.1">Prototype <a class="sectionlink" href="#duk_peval_string_noresult.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_peval_string_noresult(duk_context *ctx, const char *src);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_peval_string_noresult</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">src</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_peval_string_noresult.2">Stack <a class="sectionlink" href="#duk_peval_string_noresult.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_peval_string_noresult.3">Summary <a class="sectionlink" href="#duk_peval_string_noresult.3">§</a></h2>
<p>Like
<code><a href="#duk_peval_string">duk_peval_string()</a></code>, but leaves
no result on the value stack (regardless of success/error result).</p>
<div class="note">
With this variant, the input source code is not interned by Duktape which is
useful in low memory environments.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_peval_string_noresult.4">Example <a class="sectionlink" href="#duk_peval_string_noresult.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_peval_string_noresult</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"print('testString'.toUpperCase());"</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval failed</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"eval successful</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pnew">
<a href="#duk_pnew"><span class="hidechar">.</span>duk_pnew()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_pnew">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pnew.1">Prototype <a class="sectionlink" href="#duk_pnew.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_pnew(duk_context *ctx, int nargs);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_pnew</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pnew.2">Stack <a class="sectionlink" href="#duk_pnew.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">constructor</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">retval</span> <span class="cap">]</span> </span> <span class="stack-comment">(if success, return value == 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">constructor</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> <span class="stack-comment">(if failure, return value != 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pnew.3">Summary <a class="sectionlink" href="#duk_pnew.3">§</a></h2>
<p>Like <code><a href="#duk_new">duk_new()</a></code> but catches errors.
A zero return value indicates success and the constructor result is left on
the stack top.  A non-zero return value indicates an error, and the error
is left on the stack top.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pnew.4">Example <a class="sectionlink" href="#duk_pnew.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_ret_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="comment">/* Protected call to: new MyConstructor("foo", 123) */</span>
<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"MyConstructor"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_pnew</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ ... func "foo" 123 ] -&gt; [ ... res ] */</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rc </span><span class="symbol">!=</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"failed: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"success</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_pnew.5">See also <a class="sectionlink" href="#duk_pnew.5">§</a></h2>
<ul>
<li><a href="#duk_new">duk_new</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pop">
<a href="#duk_pop"><span class="hidechar">.</span>duk_pop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_pop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pop.1">Prototype <a class="sectionlink" href="#duk_pop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_pop(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_pop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pop.2">Stack <a class="sectionlink" href="#duk_pop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pop.3">Summary <a class="sectionlink" href="#duk_pop.3">§</a></h2>
<p>Pop one element off the stack.  If the stack is empty, throws an error.</p>
<p>To pop multiple elements, use
<code><a href="#duk_pop_n">duk_pop_n()</a></code> or the shortcuts for common cases:
<code><a href="#duk_pop_2">duk_pop_2()</a></code> and
<code><a href="#duk_pop_3">duk_pop_3()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pop.4">Example <a class="sectionlink" href="#duk_pop.4">§</a></h2>
<pre class="c-code"><span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_pop.5">See also <a class="sectionlink" href="#duk_pop.5">§</a></h2>
<ul>
<li><a href="#duk_pop_2">duk_pop_2</a></li>
<li><a href="#duk_pop_3">duk_pop_3</a></li>
<li><a href="#duk_pop_n">duk_pop_n</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pop_2">
<a href="#duk_pop_2"><span class="hidechar">.</span>duk_pop_2()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_pop_2">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pop_2.1">Prototype <a class="sectionlink" href="#duk_pop_2.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_pop_2(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_pop_2</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pop_2.2">Stack <a class="sectionlink" href="#duk_pop_2.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active">val2</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pop_2.3">Summary <a class="sectionlink" href="#duk_pop_2.3">§</a></h2>
<p>Pop two elements off the stack.  If the stack has fewer than two elements,
throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pop_2.4">Example <a class="sectionlink" href="#duk_pop_2.4">§</a></h2>
<pre class="c-code"><span class="function">duk_pop_2</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pop_3">
<a href="#duk_pop_3"><span class="hidechar">.</span>duk_pop_3()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_pop_3">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pop_3.1">Prototype <a class="sectionlink" href="#duk_pop_3.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_pop_3(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_pop_3</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pop_3.2">Stack <a class="sectionlink" href="#duk_pop_3.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active">val2</span> <span class="elem active">val3</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pop_3.3">Summary <a class="sectionlink" href="#duk_pop_3.3">§</a></h2>
<p>Pop three elements off the stack.  If the stack has fewer than three elements,
throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pop_3.4">Example <a class="sectionlink" href="#duk_pop_3.4">§</a></h2>
<pre class="c-code"><span class="function">duk_pop_3</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_pop_n">
<a href="#duk_pop_n"><span class="hidechar">.</span>duk_pop_n()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_pop_n">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_pop_n.1">Prototype <a class="sectionlink" href="#duk_pop_n.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_pop_n(duk_context *ctx, int count);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_pop_n</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> count</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_pop_n.2">Stack <a class="sectionlink" href="#duk_pop_n.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_pop_n.3">Summary <a class="sectionlink" href="#duk_pop_n.3">§</a></h2>
<p>Pop <code>count</code> elements off the stack.  If the stack has fewer than
<code>count</code> elements, throws an error.  If <code>count</code> is zero, the
call is a no-op.  Negative counts cause an error to be thrown.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_pop_n.4">Example <a class="sectionlink" href="#duk_pop_n.4">§</a></h2>
<pre class="c-code"><span class="function">duk_pop_n</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">10</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_array">
<a href="#duk_push_array"><span class="hidechar">.</span>duk_push_array()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_push_array">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_array.1">Prototype <a class="sectionlink" href="#duk_push_array.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_array(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_array</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_array.2">Stack <a class="sectionlink" href="#duk_push_array.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">arr</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_array.3">Summary <a class="sectionlink" href="#duk_push_array.3">§</a></h2>
<p>Push an empty array to the stack.  Returns non-negative index (relative to stack bottom)
of the pushed array.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_array.4">Example <a class="sectionlink" href="#duk_push_array.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> arr_idx</span><span class="symbol">;</span>

<span class="normal">arr_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_array</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_put_prop_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> arr_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"bar"</span><span class="symbol">);</span>
<span class="function">duk_put_prop_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> arr_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>

<span class="comment">/* array is now: [ "foo", "bar" ], and array.length is 2 (automatically</span>
<span class="comment"> * updated for Ecmascript arrays).</span>
<span class="comment"> */</span>

<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* pop array */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_bare_object">
<a href="#duk_push_bare_object"><span class="hidechar">.</span>duk_push_bare_object()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_push_bare_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_bare_object.1">Prototype <a class="sectionlink" href="#duk_push_bare_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_bare_object(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_bare_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_bare_object.2">Stack <a class="sectionlink" href="#duk_push_bare_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_bare_object.3">Summary <a class="sectionlink" href="#duk_push_bare_object.3">§</a></h2>
<p>Similar to <code><a href="#duk_push_object">duk_push_object()</a></code>
but the pushed object doesn't inherit from any other object, i.e. its internal
prototype is <code>null</code>.  This call is equivalent to
<code>Object.create(null)</code>.  Returns non-negative index (relative to
stack bottom) of the pushed object.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_bare_object.4">Example <a class="sectionlink" href="#duk_push_bare_object.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">;</span>

<span class="normal">obj_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_bare_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_bare_object.5">See also <a class="sectionlink" href="#duk_push_bare_object.5">§</a></h2>
<ul>
<li><a href="#duk_push_object">duk_push_object</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_boolean">
<a href="#duk_push_boolean"><span class="hidechar">.</span>duk_push_boolean()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_boolean">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_boolean.1">Prototype <a class="sectionlink" href="#duk_push_boolean.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_boolean(duk_context *ctx, int val);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_boolean</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_bool_t</span><span class="normal"> val</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_boolean.2">Stack <a class="sectionlink" href="#duk_push_boolean.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">true</span> <span class="cap">]</span> </span> <span class="stack-comment">(if val != 0)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">false</span> <span class="cap">]</span> </span> <span class="stack-comment">(if val == 0)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_boolean.3">Summary <a class="sectionlink" href="#duk_push_boolean.3">§</a></h2>
<p>Push <code>true</code> (if val != 0) or <code>false</code> (if val == 0) to the stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_boolean.4">Example <a class="sectionlink" href="#duk_push_boolean.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... false ] */</span>
<span class="function">duk_push_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... false true ] */</span>
<span class="function">duk_push_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... false true true ] */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_buffer">
<a href="#duk_push_buffer"><span class="hidechar">.</span>duk_push_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_push_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_buffer.1">Prototype <a class="sectionlink" href="#duk_push_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_push_buffer(duk_context *ctx, size_t size, int dynamic);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_bool_t</span><span class="normal"> dynamic</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_buffer.2">Stack <a class="sectionlink" href="#duk_push_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buf</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_buffer.3">Summary <a class="sectionlink" href="#duk_push_buffer.3">§</a></h2>
<p>Allocate a new buffer of <code>size</code> bytes and push it to the value stack.
Returns a non-<code>NULL</code> pointer to the buffer data area; for a zero-size buffer,
may return either <code>NULL</code> or <code>non-NULL</code>.  The buffer data area is
automatically zeroed.  If <code>dynamic</code> is non-zero, the buffer will be resizable,
otherwise the buffer will have a fixed size.  Throws an error if allocation fails.</p>
<p>There are also shortcut variants
<code><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer()</a></code> and
<code><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer()</a></code>.</p>
<div class="note">
A dynamic buffer requires two memory allocations internally: one for the buffer
header and another for the currently allocated data area.  A fixed buffer only
requires a single allocation: the data area follows the buffer header.
</div>
<div class="note">
Be careful when requesting a zero length dynamic buffer: a <code>NULL</code>
data pointer is not an error and should not confuse calling code.
</div>
<div class="note">
Duktape can be compiled with a feature option which disables automatic zeroing
of allocated buffer data.  If this is the case, you need to zero the buffer
manually if necessary.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_buffer.4">Example <a class="sectionlink" href="#duk_push_buffer.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Allocate a fixed buffer of 1024 bytes.  There is no need to check for</span>
<span class="comment"> * the return value: an error is thrown if allocation fails.</span>
<span class="comment"> */</span>

<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p</span><span class="symbol">;</span>

<span class="normal">p </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"allocated buffer, data area: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> p</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_buffer.5">See also <a class="sectionlink" href="#duk_push_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer</a></li>
<li><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer</a></li>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_buffer_object">
<a href="#duk_push_buffer_object"><span class="hidechar">.</span>duk_push_buffer_object()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-bufferobject">bufferobject</a>
 <a class="sectionlink" href="#duk_push_buffer_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_buffer_object.1">Prototype <a class="sectionlink" href="#duk_push_buffer_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_buffer_object(duk_context *ctx, int idx_buffer, size_t byte_offset, size_t byte_length, unsigned int flags);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_buffer_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx_buffer</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> byte_offset</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> byte_length</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> flags</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_buffer_object.2">Stack <a class="sectionlink" href="#duk_push_buffer_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buffer</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buffer</span> <span class="elem ellipsis">. . .</span> <span class="elem active">bufobj</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_buffer_object.3">Summary <a class="sectionlink" href="#duk_push_buffer_object.3">§</a></h2>
<p>Push a new buffer object or a buffer view object.  An underlying plain
buffer is provided at index <code>idx_buffer</code>.  The type of the buffer
or view is given in <code>flags</code> (e.g. <code>DUK_BUFOBJ_UINT16ARRAY</code>).
The active range or "slice" used from the underlying buffer is indicated by
<code>byte_offset</code> and <code>byte_length</code>.</p>
<p>The available buffer types are:</p>
<table>
<tr><th>Define</th><th>Buffer/view type</th></tr>
<tr><td>DUK_BUFOBJ_NODEJS_BUFFER</td><td>Buffer (Node.js), a Uint8Array inheriting from Buffer.prototype</td></tr>
<tr><td>DUK_BUFOBJ_ARRAYBUFFER</td><td>ArrayBuffer</td></tr>
<tr><td>DUK_BUFOBJ_DATAVIEW</td><td>DataView</td></tr>
<tr><td>DUK_BUFOBJ_INT8ARRAY</td><td>Int8Array</td></tr>
<tr><td>DUK_BUFOBJ_UINT8ARRAY</td><td>Uint8Array</td></tr>
<tr><td>DUK_BUFOBJ_UINT8CLAMPEDARRAY</td><td>Uint8ClampedArray</td></tr>
<tr><td>DUK_BUFOBJ_INT16ARRAY</td><td>Int16Array</td></tr>
<tr><td>DUK_BUFOBJ_UINT16ARRAY</td><td>Uint16Array</td></tr>
<tr><td>DUK_BUFOBJ_INT32ARRAY</td><td>Int32Array</td></tr>
<tr><td>DUK_BUFOBJ_UINT32ARRAY</td><td>Uint32Array</td></tr>
<tr><td>DUK_BUFOBJ_FLOAT32ARRAY</td><td>Float32Array</td></tr>
<tr><td>DUK_BUFOBJ_FLOAT64ARRAY</td><td>Float64Array</td></tr>
</table>
<p>When anything other than an <code>ArrayBuffer</code> is pushed, an
<code>ArrayBuffer</code> backing the view is automatically created.
It is accessible through the <code>buffer</code> property of the view
object.  The ArrayBuffer's internal byteOffset will be zero so that
the ArrayBuffer's index byteOffset matches the view's index 0.  The
ArrayBuffer's byteLength will be byteLength will be <code>byte_offset +
byte_length</code> so that the view range is valid for the ArrayBuffer.</p>
<p>The underlying plain buffer should normally cover the range indicated by
the <code>byte_offset</code> and <code>byte_length</code> arguments, but
memory safety is guaranteed even if that is not the case.  For example, an
attempt to read values outside the underlying buffer will return zero.  The
underlying buffer size is intentionally not checked when creating a buffer
object: even if the buffer fully covered the byte range during creation, it
might be resized later.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_buffer_object.4">Example <a class="sectionlink" href="#duk_push_buffer_object.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Map byte range [100,150[ of plain buffer at idx_plain_buf into a</span>
<span class="comment"> * Uint16Array object which will have the following properties:</span>
<span class="comment"> *</span>
<span class="comment"> *   - length: 25             (length in Uint16 elements)</span>
<span class="comment"> *   - byteLength: 50         (length in bytes)</span>
<span class="comment"> *   - byteOffset: 100        (byte offset to start of slice)</span>
<span class="comment"> *   - BYTES_PER_ELEMENT: 2   (Uint16)</span>
<span class="comment"> */</span>

<span class="function">duk_push_buffer_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> idx_plain_buf</span><span class="symbol">,</span><span class="normal"> </span><span class="number">100</span><span class="symbol">,</span><span class="normal"> </span><span class="number">50</span><span class="symbol">,</span><span class="normal"> DUK_BUFOBJ_UINT16ARRAY</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_buffer_object.5">See also <a class="sectionlink" href="#duk_push_buffer_object.5">§</a></h2>
<ul>
<li><a href="#duk_push_buffer">duk_push_buffer</a></li>
<li><a href="#duk_push_fixed_buffer">duk_push_fixed_buffer</a></li>
<li><a href="#duk_push_dynamic_buffer">duk_push_dynamic_buffer</a></li>
<li><a href="#duk_push_external_buffer">duk_push_external_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_c_function">
<a href="#duk_push_c_function"><span class="hidechar">.</span>duk_push_c_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_push_c_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_c_function.1">Prototype <a class="sectionlink" href="#duk_push_c_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_c_function(duk_context *ctx, duk_c_function func, int nargs);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_c_function</span><span class="normal"> func</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_c_function.2">Stack <a class="sectionlink" href="#duk_push_c_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_c_function.3">Summary <a class="sectionlink" href="#duk_push_c_function.3">§</a></h2>
<p>Push a new function object, associated with a C function, to the stack.
The function object is an Ecmascript function object; when called, <code>func</code>
will be called using the Duktape/C function interface.  Returns non-negative index
(relative to stack bottom) of the pushed function.</p>
<p>The <code>nargs</code> argument controls how the value stack looks like when
<code>func</code> is entered:</p>
<ul>
<li>If <code>nargs</code> is &gt;= 0, it indicates the exact number of arguments the
    function expects to see; extra arguments are discarded and missing arguments
    are filled in with <code>undefined</code> values.  Upon entry to the function, value
    stack top will always match <code>nargs</code>.</li>
<li>If <code>nargs</code> is set to <code>DUK_VARARGS</code>, the value stack will contain
    actual (variable) call arguments and the function needs to check actual argument
    count with <code><a href="#duk_get_top">duk_get_top()</a></code>.</li>
</ul>
<p>The function created will be callable both as a normal function (<code>func()</code>)
and as a constructor (<code>new func()</code>).  You can differentiate between the two
call styles using <code><a href="#duk_is_constructor_call">duk_is_constructor_call()</a></code>.
Although the function can be used as a constructor, it doesn't have an automatic
<code>prototype</code> property like Ecmascript functions.</p>
<div class="note">
If you intend to use the pushed function as a constructor, you should usually
create a prototype object and set the <code>prototype</code> property of the
function manually.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_c_function.4">Example <a class="sectionlink" href="#duk_push_c_function.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">my_addtwo</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">double</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">;</span>

<span class="normal">    </span><span class="comment">/* Here one can expect that duk_get_top(ctx) == 2, because nargs</span>
<span class="comment">     * for duk_push_c_function() is 2.</span>
<span class="comment">     */</span>

<span class="normal">    a </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    b </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_push_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> a </span><span class="symbol">+</span><span class="normal"> b</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span><span class="normal">   </span><span class="comment">/*  1 = return value at top</span>
<span class="comment">                 *  0 = return 'undefined'</span>
<span class="comment">                 * &lt;0 = throw error (use DUK_RET_xxx constants)</span>
<span class="comment">                 */</span>
<span class="cbracket">}</span>

<span class="type">void</span><span class="normal"> </span><span class="function">test</span><span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">duk_idx_t</span><span class="normal"> func_idx</span><span class="symbol">;</span>

<span class="normal">    func_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_addtwo</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... func 2 3 ] */</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span><span class="normal">      </span><span class="comment">/* -&gt; [ ... res ] */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"2+3 is %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="normal">    </span><span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_c_function.5">See also <a class="sectionlink" href="#duk_push_c_function.5">§</a></h2>
<ul>
<li><a href="#duk_push_c_lightfunc">duk_push_c_lightfunc</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_c_lightfunc">
<a href="#duk_push_c_lightfunc"><span class="hidechar">.</span>duk_push_c_lightfunc()</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-lightfunc">lightfunc</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_push_c_lightfunc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_c_lightfunc.1">Prototype <a class="sectionlink" href="#duk_push_c_lightfunc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_c_lightfunc(duk_context *ctx, duk_c_function func, int nargs, int length, int magic);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_c_lightfunc</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_c_function</span><span class="normal"> func</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> length</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> magic</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_c_lightfunc.2">Stack <a class="sectionlink" href="#duk_push_c_lightfunc.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_c_lightfunc.3">Summary <a class="sectionlink" href="#duk_push_c_lightfunc.3">§</a></h2>
<p>Push a new lightfunc value, associated with a C function, to the stack.
Returns non-negative index (relative to stack bottom) of the
pushed lightfunc.</p>
<p>A lightfunc is a tagged value which contains a Duktape/C function
pointer and a small set of internal control flags with no related heap
allocations.  The internal control flags encode the <code>nargs</code>,
<code>length</code>, and <code>magic</code> values, which therefore have
significant restrictions:</p>
<ul>
<li><code>nargs</code> must be [0,14] or <code>DUK_VARARGS</code>.</li>
<li><code>length</code> must be [0,15] and maps to the virtual <code>length</code>
    property of the lightfunc.</li>
<li><code>magic</code> must be [-128,127].</li>
</ul>
<p>A lightfunc cannot hold any own properties, it only has virtual
<code>name</code> and <code>length</code> properties, and inherits
further properties from <code>Function.prototype</code>.</p>
<p>The <code>nargs</code> argument controls how the value stack looks like when
<code>func</code> is entered, and behaves like for ordinary Duktape/C functions, see
<code><a href="#duk_push_c_function">duk_push_c_function()</a></code>.</p>
<p>The function created will be callable both as a normal function (<code>func()</code>)
and as a constructor (<code>new func()</code>).  You can differentiate between the two
call styles using <code><a href="#duk_is_constructor_call">duk_is_constructor_call()</a></code>.
Although the function can be used as a constructor, it cannot have a <code>prototype</code>
property like normal Function objects.</p>
<div class="note">
If you intend to use the pushed lightfunc as a constructor, and want to use
a custom prototype object (instead of <code>Object.prototype</code>), the
lightfunc must return an object value.  The object will then replace the default
instance (bound to <code>this</code>) automatically created for the constructor,
and will be the value of a <code>new MyLightFunc()</code> expression.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_c_lightfunc.4">Example <a class="sectionlink" href="#duk_push_c_lightfunc.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> func_idx</span><span class="symbol">;</span>

<span class="normal">func_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_c_lightfunc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_addtwo</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="normal"> </span><span class="comment">/*length*/</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="comment">/*magic*/</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_c_lightfunc.5">See also <a class="sectionlink" href="#duk_push_c_lightfunc.5">§</a></h2>
<ul>
<li><a href="#duk_push_c_function">duk_push_c_function</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_context_dump">
<a href="#duk_push_context_dump"><span class="hidechar">.</span>duk_push_context_dump()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-debug">debug</a>
 <a class="sectionlink" href="#duk_push_context_dump">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_context_dump.1">Prototype <a class="sectionlink" href="#duk_push_context_dump.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_context_dump(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_context_dump</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_context_dump.2">Stack <a class="sectionlink" href="#duk_push_context_dump.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_context_dump.3">Summary <a class="sectionlink" href="#duk_push_context_dump.3">§</a></h2>
<p>Push a one-line string summarizing the state of the current activation of
context <code>ctx</code>.  This is useful for debugging Duktape/C code and is
not intended for production use.</p>
<p>The exact dump contents are version specific.  The current format includes
the stack top (i.e. number of elements on the stack) and prints out the current
elements as an array of JX-formatted (Duktape's custom extended JSON format)
values.  The example below would print something like:</p>
<pre>
ctx: top=2, stack=[123,"foo"]
</pre>
<div class="note">
You should not leave dump calls in production code.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_context_dump.4">Example <a class="sectionlink" href="#duk_push_context_dump.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_context_dump</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"%s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_current_function">
<a href="#duk_push_current_function"><span class="hidechar">.</span>duk_push_current_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_push_current_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_current_function.1">Prototype <a class="sectionlink" href="#duk_push_current_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_current_function(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_current_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_current_function.2">Stack <a class="sectionlink" href="#duk_push_current_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">func</span> <span class="cap">]</span> </span> <span class="stack-comment">(if current function exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if no current function)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_current_function.3">Summary <a class="sectionlink" href="#duk_push_current_function.3">§</a></h2>
<p>Push the currently running function to the stack.  The value pushed is
an Ecmascript Function object.  If there is no current function,
<code>undefined</code> is pushed instead.</p>
<p>If the current function was called via one or more bound functions or a
Proxy object, the function returned from this call is the final, resolved
function (not the bound function or the Proxy).</p>
<p>This function allows a C function to gain access to its function object.
Since multiple function objects can internally point to the same C function,
a function object is a convenient place for function parameterization and
can also act as an internal state stash.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_current_function.4">Example <a class="sectionlink" href="#duk_push_current_function.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_current_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_current_thread">
<a href="#duk_push_current_thread"><span class="hidechar">.</span>duk_push_current_thread()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_push_current_thread">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_current_thread.1">Prototype <a class="sectionlink" href="#duk_push_current_thread.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_current_thread(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_current_thread</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_current_thread.2">Stack <a class="sectionlink" href="#duk_push_current_thread.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">thread</span> <span class="cap">]</span> </span> <span class="stack-comment">(if current thread exists)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> <span class="stack-comment">(if no current thread)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_current_thread.3">Summary <a class="sectionlink" href="#duk_push_current_thread.3">§</a></h2>
<p>Push the currently running Duktape thread to the stack.  The value pushed
is a thread object which is also an Ecmascript object.  If there is no current
thread, <code>undefined</code> is pushed instead.</p>
<p>The current thread is (almost always) the thread represented by the
<code>ctx</code> pointer.</p>
<p>To get the <code>duk_context *</code> associated with the thread, use
<code><a href="#duk_get_context">duk_get_context()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_current_thread.4">Example <a class="sectionlink" href="#duk_push_current_thread.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_thread</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_dynamic_buffer">
<a href="#duk_push_dynamic_buffer"><span class="hidechar">.</span>duk_push_dynamic_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_push_dynamic_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_dynamic_buffer.1">Prototype <a class="sectionlink" href="#duk_push_dynamic_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_push_dynamic_buffer(duk_context *ctx, size_t size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_dynamic_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_dynamic_buffer.2">Stack <a class="sectionlink" href="#duk_push_dynamic_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buf</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_dynamic_buffer.3">Summary <a class="sectionlink" href="#duk_push_dynamic_buffer.3">§</a></h2>
<p>Allocate a dynamic (resizable) buffer and push it to the value stack.
Shortcut for <code><a href="#duk_push_buffer">duk_push_buffer()</a></code>
with <code>dynamic = 1</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_dynamic_buffer.4">Example <a class="sectionlink" href="#duk_push_dynamic_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p</span><span class="symbol">;</span>

<span class="normal">p </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_dynamic_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"allocated buffer, data area: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> p</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_error_object">
<a href="#duk_push_error_object"><span class="hidechar">.</span>duk_push_error_object()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_push_error_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_error_object.1">Prototype <a class="sectionlink" href="#duk_push_error_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_error_object(duk_context *ctx, int err_code, const char *fmt, ...);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_error_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_errcode_t</span><span class="normal"> err_code</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_error_object.2">Stack <a class="sectionlink" href="#duk_push_error_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_error_object.3">Summary <a class="sectionlink" href="#duk_push_error_object.3">§</a></h2>
<p>Create a new error object and push it to the value stack (the error is not thrown).
Returns non-negative index (relative to stack bottom) of the pushed error object.</p>
<p>The <code>message</code> property of the error object will be set to a <code>sprintf</code>-formatted
string using <code>fmt</code> and the remaining arguments.  The internal prototype for the created
error object is chosen based on <code>err_code</code>.  For instance, <code>DUK_ERR_RANGE_ERROR</code>
causes the built-in <code>RangeError</code> prototype to be used.  The valid range for user error
codes is [1,16777215].</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_error_object.4">Example <a class="sectionlink" href="#duk_push_error_object.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> err_idx</span><span class="symbol">;</span>

<span class="normal">err_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_error_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_TYPE_ERROR</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"invalid argument value: %d"</span><span class="symbol">,</span><span class="normal"> arg_value</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_error_object.5">See also <a class="sectionlink" href="#duk_push_error_object.5">§</a></h2>
<ul>
<li><a href="#duk_push_error_object_va">duk_push_error_object_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_error_object_va">
<a href="#duk_push_error_object_va"><span class="hidechar">.</span>duk_push_error_object_va()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_push_error_object_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_error_object_va.1">Prototype <a class="sectionlink" href="#duk_push_error_object_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_error_object_va(duk_context *ctx, int err_code, const char *fmt, va_list ap);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_error_object_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_errcode_t</span><span class="normal"> err_code</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_error_object_va.2">Stack <a class="sectionlink" href="#duk_push_error_object_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_error_object_va.3">Summary <a class="sectionlink" href="#duk_push_error_object_va.3">§</a></h2>
<p>Vararg variant of
<code><a href="#duk_push_error_object">duk_push_error_object()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_error_object_va.4">Example <a class="sectionlink" href="#duk_push_error_object_va.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">my_type_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">duk_idx_t</span><span class="normal"> err_idx</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    err_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_error_object_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_TYPE_ERROR</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">return</span><span class="normal"> err_idx</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_error_object_va.5">See also <a class="sectionlink" href="#duk_push_error_object_va.5">§</a></h2>
<ul>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_external_buffer">
<a href="#duk_push_external_buffer"><span class="hidechar">.</span>duk_push_external_buffer()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_push_external_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_external_buffer.1">Prototype <a class="sectionlink" href="#duk_push_external_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_external_buffer(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_external_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_external_buffer.2">Stack <a class="sectionlink" href="#duk_push_external_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buf</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_external_buffer.3">Summary <a class="sectionlink" href="#duk_push_external_buffer.3">§</a></h2>
<p>Allocate an external buffer and push it to the value stack.  An external
buffer refers to a user allocated external buffer which is not memory
managed by Duktape.  The initial external buffer pointer is NULL and size
is zero.  You can use
<code><a href="#duk_config_buffer">duk_config_buffer()</a></code>
to update the external buffer pointer and size.</p>
<p>External buffers are useful to allow Ecmascript code access externally
allocated data structures.  You can use it to e.g. write bytes to an
externally allocated frame buffer.  The external buffer has no alignment
requirements (Duktape makes no alignment assumptions when accessing it).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_external_buffer.4">Example <a class="sectionlink" href="#duk_push_external_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">;</span>

<span class="comment">/* Allocate a frame buffer from a hypothetical graphics library.</span>
<span class="comment"> * The frame buffer is allocated outside of Duktape.</span>
<span class="comment"> */</span>
<span class="normal">p </span><span class="symbol">=</span><span class="normal"> </span><span class="function">allocate_frame_buffer</span><span class="symbol">(</span><span class="number">1920</span><span class="normal"> </span><span class="comment">/*width*/</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1080</span><span class="normal"> </span><span class="comment">/*height*/</span><span class="symbol">);</span>
<span class="normal">len </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1920</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="number">1080</span><span class="normal"> </span><span class="symbol">*</span><span class="normal"> </span><span class="number">4</span><span class="symbol">;</span>

<span class="comment">/* Create an external buffer pointing to the frame buffer. */</span>
<span class="function">duk_push_external_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_config_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> p</span><span class="symbol">,</span><span class="normal"> len</span><span class="symbol">);</span>

<span class="comment">/* Ecmascript code with access to the buffer object could now do</span>
<span class="comment"> * something like:</span>
<span class="comment"> *</span>
<span class="comment"> *    buf[100] = 123;</span>
<span class="comment"> *</span>
<span class="comment"> * Calling code must make sure Ecmascript never reads/writes an</span>
<span class="comment"> * external buffer whose backing buffer is no longer valid.</span>
<span class="comment"> */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_external_buffer.5">See also <a class="sectionlink" href="#duk_push_external_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_config_buffer">duk_config_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_false">
<a href="#duk_push_false"><span class="hidechar">.</span>duk_push_false()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_false">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_false.1">Prototype <a class="sectionlink" href="#duk_push_false.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_false(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_false</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_false.2">Stack <a class="sectionlink" href="#duk_push_false.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">false</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_false.3">Summary <a class="sectionlink" href="#duk_push_false.3">§</a></h2>
<p>Push <code>false</code> to stack.  Equivalent to calling
<code><a href="#duk_push_boolean">duk_push_boolean(ctx, 0)</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_false.4">Example <a class="sectionlink" href="#duk_push_false.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_false</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_fixed_buffer">
<a href="#duk_push_fixed_buffer"><span class="hidechar">.</span>duk_push_fixed_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_push_fixed_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_fixed_buffer.1">Prototype <a class="sectionlink" href="#duk_push_fixed_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_push_fixed_buffer(duk_context *ctx, size_t size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_fixed_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_fixed_buffer.2">Stack <a class="sectionlink" href="#duk_push_fixed_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buf</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_fixed_buffer.3">Summary <a class="sectionlink" href="#duk_push_fixed_buffer.3">§</a></h2>
<p>Allocate a fixed size buffer and push it to the value stack.
Shortcut for <code><a href="#duk_push_buffer">duk_push_buffer()</a></code>
with <code>dynamic = 0</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_fixed_buffer.4">Example <a class="sectionlink" href="#duk_push_fixed_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p</span><span class="symbol">;</span>

<span class="normal">p </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_fixed_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"allocated buffer, data area: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> p</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_global_object">
<a href="#duk_push_global_object"><span class="hidechar">.</span>duk_push_global_object()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_push_global_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_global_object.1">Prototype <a class="sectionlink" href="#duk_push_global_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_global_object(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_global_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_global_object.2">Stack <a class="sectionlink" href="#duk_push_global_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">global</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_global_object.3">Summary <a class="sectionlink" href="#duk_push_global_object.3">§</a></h2>
<p>Push the global object to the stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_global_object.4">Example <a class="sectionlink" href="#duk_push_global_object.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_global_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_global_stash">
<a href="#duk_push_global_stash"><span class="hidechar">.</span>duk_push_global_stash()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stash">stash</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-sandbox">sandbox</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-module">module</a>
 <a class="sectionlink" href="#duk_push_global_stash">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_global_stash.1">Prototype <a class="sectionlink" href="#duk_push_global_stash.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_global_stash(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_global_stash</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_global_stash.2">Stack <a class="sectionlink" href="#duk_push_global_stash.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">stash</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_global_stash.3">Summary <a class="sectionlink" href="#duk_push_global_stash.3">§</a></h2>
<p>Push the global stash object to the stack.  The global stash is an internal
object which can be used to store key/value pairs from C code so that they are
reachable for garbage collection, but are not accessible from Ecmascript code.
The stash is only accessible from C code with a <code>ctx</code> argument
associated with the same global object.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_global_stash.4">Example <a class="sectionlink" href="#duk_push_global_stash.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">set_timer_callback</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_push_global_stash</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* timer callback */</span>
<span class="normal">    </span><span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"timerCallback"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_global_stash.5">See also <a class="sectionlink" href="#duk_push_global_stash.5">§</a></h2>
<ul>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_heap_stash">
<a href="#duk_push_heap_stash"><span class="hidechar">.</span>duk_push_heap_stash()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stash">stash</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-sandbox">sandbox</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-module">module</a>
 <a class="sectionlink" href="#duk_push_heap_stash">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_heap_stash.1">Prototype <a class="sectionlink" href="#duk_push_heap_stash.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_heap_stash(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_heap_stash</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_heap_stash.2">Stack <a class="sectionlink" href="#duk_push_heap_stash.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">stash</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_heap_stash.3">Summary <a class="sectionlink" href="#duk_push_heap_stash.3">§</a></h2>
<p>Push the heap stash object to the stack.  The heap stash is an internal
object which can be used to store key/value pairs from C code so that they are
reachable for garbage collection, but are not accessible from Ecmascript code.
The stash is only accessible from C code; the same stash object is used by all
code sharing the same Duktape heap (even if they don't share the same global
object).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_heap_stash.4">Example <a class="sectionlink" href="#duk_push_heap_stash.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_heap_stash</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_heap_stash.5">See also <a class="sectionlink" href="#duk_push_heap_stash.5">§</a></h2>
<ul>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
<li><a href="#duk_push_thread_stash">duk_push_thread_stash</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_heapptr">
<a href="#duk_push_heapptr"><span class="hidechar">.</span>duk_push_heapptr()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_push_heapptr">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_heapptr.1">Prototype <a class="sectionlink" href="#duk_push_heapptr.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_heapptr(duk_context *ctx, void *ptr);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_heapptr</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_heapptr.2">Stack <a class="sectionlink" href="#duk_push_heapptr.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_heapptr.3">Summary <a class="sectionlink" href="#duk_push_heapptr.3">§</a></h2>
<p>Push a Duktape heap allocated object into the value stack based on a borrowed
void pointer reference.
The argument <code>ptr</code> must be obtained using
<code><a href="#duk_get_heapptr">duk_get_heapptr()</a></code> (or its variants)
and must have been reachable for Duktape garbage collection up to this call.
If <code>ptr</code> is <code>NULL</code>, <code>undefined</code> is pushed.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_heapptr.4">Example <a class="sectionlink" href="#duk_push_heapptr.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">;</span>

<span class="comment">/* 'ptr' originally obtained using duk_get_heapptr() earlier, with the original</span>
<span class="comment"> * value reachable by Duktape GC all the way to here:</span>
<span class="comment"> */</span>

<span class="normal">idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_heapptr</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_heapptr.5">See also <a class="sectionlink" href="#duk_push_heapptr.5">§</a></h2>
<ul>
<li><a href="#duk_get_heapptr">duk_get_heapptr</a></li>
<li><a href="#duk_require_heapptr">duk_require_heapptr</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_int">
<a href="#duk_push_int"><span class="hidechar">.</span>duk_push_int()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_int">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_int.1">Prototype <a class="sectionlink" href="#duk_push_int.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_int(duk_context *ctx, int val);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_int</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> val</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_int.2">Stack <a class="sectionlink" href="#duk_push_int.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_int.3">Summary <a class="sectionlink" href="#duk_push_int.3">§</a></h2>
<p>Convert <code>val</code> to an IEEE double and push it to the stack.</p>
<p>This is a shorthand for calling
<code><a href="#duk_push_number">duk_push_number(ctx, (duk_double_t) val)</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_int.4">Example <a class="sectionlink" href="#duk_push_int.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_lstring">
<a href="#duk_push_lstring"><span class="hidechar">.</span>duk_push_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_lstring.1">Prototype <a class="sectionlink" href="#duk_push_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_push_lstring(duk_context *ctx, const char *str, size_t len);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">str</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_lstring.2">Stack <a class="sectionlink" href="#duk_push_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_lstring.3">Summary <a class="sectionlink" href="#duk_push_lstring.3">§</a></h2>
<p>Push a string of explicit length to the stack.  The string may contain
arbitrary data, including internal NUL characters.  A pointer to the interned
string data is returned.  If the operation fails, throws an error.</p>
<p>If <code>str</code> is <code>NULL</code>, an empty string is pushed to the stack
(regardless of what <code>len</code> is) and a non-<code>NULL</code> pointer to an
empty string is returned.  The returned pointer can be dereferenced and
a NUL terminator character is guaranteed.  This behavior differs from
<code><a href="#duk_push_string">duk_push_string</a></code> on purpose.</p>
<p>C code should normally only push valid CESU-8 strings to the stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_lstring.4">Example <a class="sectionlink" href="#duk_push_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> tmp1</span><span class="symbol">[</span><span class="number">5</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">'f'</span><span class="symbol">,</span><span class="normal"> </span><span class="string">'</span><span class="specialchar">\0</span><span class="string">'</span><span class="symbol">,</span><span class="normal"> </span><span class="string">'</span><span class="specialchar">\0</span><span class="string">'</span><span class="symbol">,</span><span class="normal"> </span><span class="string">'x'</span><span class="symbol">,</span><span class="normal"> </span><span class="string">'y'</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>
<span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> tmp2</span><span class="symbol">[</span><span class="number">1</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">'</span><span class="specialchar">\0</span><span class="string">'</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">;</span>

<span class="function">duk_push_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> tmp1</span><span class="symbol">,</span><span class="normal"> </span><span class="number">5</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* push the string "f\x00\x00xy" */</span>
<span class="function">duk_push_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> tmp2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* push the string "\x00" */</span>
<span class="function">duk_push_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> tmp2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* push empty string */</span>
<span class="function">duk_push_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">   </span><span class="comment">/* push empty string */</span>
<span class="function">duk_push_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> </span><span class="number">10</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* push empty string */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_nan">
<a href="#duk_push_nan"><span class="hidechar">.</span>duk_push_nan()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_nan">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_nan.1">Prototype <a class="sectionlink" href="#duk_push_nan.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_nan(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_nan</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_nan.2">Stack <a class="sectionlink" href="#duk_push_nan.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">NaN</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_nan.3">Summary <a class="sectionlink" href="#duk_push_nan.3">§</a></h2>
<p>
Pushes a &lt;code&gt;NaN&lt;/code&gt; (not-a-number) to the stack.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_nan.4">Example <a class="sectionlink" href="#duk_push_nan.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_nan</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="function">printf</span><span class="symbol">(</span><span class="string">"NaN is number: %d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_is_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_null">
<a href="#duk_push_null"><span class="hidechar">.</span>duk_push_null()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_null">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_null.1">Prototype <a class="sectionlink" href="#duk_push_null.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_null(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_null</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_null.2">Stack <a class="sectionlink" href="#duk_push_null.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">null</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_null.3">Summary <a class="sectionlink" href="#duk_push_null.3">§</a></h2>
<p>Push <code>null</code> to the stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_null.4">Example <a class="sectionlink" href="#duk_push_null.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_null</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_number">
<a href="#duk_push_number"><span class="hidechar">.</span>duk_push_number()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_number">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_number.1">Prototype <a class="sectionlink" href="#duk_push_number.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_number(duk_context *ctx, double val);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_number</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_double_t</span><span class="normal"> val</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_number.2">Stack <a class="sectionlink" href="#duk_push_number.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_number.3">Summary <a class="sectionlink" href="#duk_push_number.3">§</a></h2>
<p>Push number (IEEE double) <code>val</code> to the stack.</p>
<p>If <code>val</code> is a <code>NaN</code> it may be normalized into another
<code>NaN</code> form.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_number.4">Example <a class="sectionlink" href="#duk_push_number.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123.0</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_object">
<a href="#duk_push_object"><span class="hidechar">.</span>duk_push_object()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_push_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_object.1">Prototype <a class="sectionlink" href="#duk_push_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_object(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_object.2">Stack <a class="sectionlink" href="#duk_push_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_object.3">Summary <a class="sectionlink" href="#duk_push_object.3">§</a></h2>
<p>Push an empty object to the stack.  Returns non-negative index (relative
to stack bottom) of the pushed object.</p>
<p>The internal prototype of the created object is <code>Object.prototype</code>.
Use <code><a href="#duk_set_prototype">duk_set_prototype()</a></code> to change it.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_object.4">Example <a class="sectionlink" href="#duk_push_object.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">;</span>

<span class="normal">obj_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">42</span><span class="symbol">);</span>
<span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"meaningOfLife"</span><span class="symbol">);</span>

<span class="comment">/* object is now: { "meaningOfLife": 42 } */</span>

<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* pop object */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_object.5">See also <a class="sectionlink" href="#duk_push_object.5">§</a></h2>
<ul>
<li><a href="#duk_push_bare_object">duk_push_bare_object</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_pointer">
<a href="#duk_push_pointer"><span class="hidechar">.</span>duk_push_pointer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_pointer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_pointer.1">Prototype <a class="sectionlink" href="#duk_push_pointer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_pointer(duk_context *ctx, void *p);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_pointer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_pointer.2">Stack <a class="sectionlink" href="#duk_push_pointer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ptr</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_pointer.3">Summary <a class="sectionlink" href="#duk_push_pointer.3">§</a></h2>
<p>Push <code>p</code> into the stack as a pointer value.  Duktape won't
interpret the pointer in any manner.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_pointer.4">Example <a class="sectionlink" href="#duk_push_pointer.4">§</a></h2>
<pre class="c-code"><span class="keyword">struct</span><span class="normal"> </span><span class="classname">mystruct</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">p </span><span class="symbol">=</span><span class="normal"> </span><span class="comment">/* ... */</span><span class="symbol">;</span>

<span class="function">duk_push_pointer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal"> p</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_sprintf">
<a href="#duk_push_sprintf"><span class="hidechar">.</span>duk_push_sprintf()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_sprintf">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_sprintf.1">Prototype <a class="sectionlink" href="#duk_push_sprintf.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_push_sprintf(duk_context *ctx, const char *fmt, ...);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_sprintf</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_sprintf.2">Stack <a class="sectionlink" href="#duk_push_sprintf.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_sprintf.3">Summary <a class="sectionlink" href="#duk_push_sprintf.3">§</a></h2>
<p>Format a string like <code>sprintf()</code> (but safely) and push the result
to the value stack.  Returns a non-<code>NULL</code> pointer to the resulting
string.</p>
<p>If <code>fmt</code> is <code>NULL</code>, an empty string is pushed to the stack
and a non-<code>NULL</code> pointer to an empty string is returned (this
behavior mimics what <code>sprintf()</code> does for a <code>NULL</code> format
string, at least on Linux).  The returned pointer can be dereferenced and a
NUL terminator character is guaranteed.</p>
<p>Unlike <code>sprintf()</code> the string formatting is safe with respect
to result length.  Concretely, the implementation will try increasing temporary
buffer sizes until a large enough buffer is found for the temporary formatted
value.</p>
<div class="note">
There may be platform specific behavior for some format specifiers.  For
example, the behavior of <code>%s</code> with a <code>NULL</code> argument
has officially undefined behavior, so actual behavior may vary across
platforms and may even be memory unsafe.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_sprintf.4">Example <a class="sectionlink" href="#duk_push_sprintf.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_sprintf</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"meaning of life: %d, name: %s"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">42</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Zaphod"</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_string">
<a href="#duk_push_string"><span class="hidechar">.</span>duk_push_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_string.1">Prototype <a class="sectionlink" href="#duk_push_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_push_string(duk_context *ctx, const char *str);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">str</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_string.2">Stack <a class="sectionlink" href="#duk_push_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="cap">]</span> </span> <span class="stack-comment">(if str != NULL)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">null</span> <span class="cap">]</span> </span> <span class="stack-comment">(if str == NULL)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_string.3">Summary <a class="sectionlink" href="#duk_push_string.3">§</a></h2>
<p>Push a C string into the stack.  String length is automatically detected
with a <code>strlen()</code> equivalent (i.e. looking for the first NUL character).
A pointer to the interned string data is returned.  If the operation fails,
throws an error.</p>
<p>If <code>str</code> is <code>NULL</code>, an Ecmascript <code>null</code> is pushed
to the stack and <code>NULL</code> is returned.  This behavior differs from
<code><a href="#duk_push_lstring">duk_push_lstring</a></code> on purpose.</p>
<div class="note">
C code should normally only push valid CESU-8 strings to the stack.
Some invalid CESU-8/UTF-8 byte sequences are reserved for special
uses such as representing Symbol values.  When you push such an invalid
byte sequence, the value on the value stack will behave like a string for
C code but will appear as a <code>Symbol</code> for Ecmascript code.
See <a href="guide.html#symbols">Symbols</a> for more discussion.
</div>
<p>If input string might contain internal NUL characters, use
<code><a href="#duk_push_lstring">duk_push_lstring()</a></code> instead.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_string.4">Example <a class="sectionlink" href="#duk_push_string.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo</span><span class="specialchar">\0</span><span class="string">bar"</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* push "foo", not "foo\0bar" */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">""</span><span class="symbol">);</span><span class="normal">          </span><span class="comment">/* push empty string */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">);</span><span class="normal">        </span><span class="comment">/* push 'null' */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_this">
<a href="#duk_push_this"><span class="hidechar">.</span>duk_push_this()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_push_this">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_this.1">Prototype <a class="sectionlink" href="#duk_push_this.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_this(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_this</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_this.2">Stack <a class="sectionlink" href="#duk_push_this.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">this</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_this.3">Summary <a class="sectionlink" href="#duk_push_this.3">§</a></h2>
<p>Push the <code>this</code> binding of the currently running C function to
the stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_this.4">Example <a class="sectionlink" href="#duk_push_this.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_this</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_thread">
<a href="#duk_push_thread"><span class="hidechar">.</span>duk_push_thread()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_push_thread">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_thread.1">Prototype <a class="sectionlink" href="#duk_push_thread.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_thread(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_thread</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_thread.2">Stack <a class="sectionlink" href="#duk_push_thread.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">thr</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_thread.3">Summary <a class="sectionlink" href="#duk_push_thread.3">§</a></h2>
<p>Push a new Duktape thread (context, coroutine) to the stack.  Returns
non-negative index (relative to stack bottom) of the pushed thread.
The new thread will be associated with the same Duktape heap as the
argument <code>ctx</code>, and will share the same global object
environment.</p>
<p>To interact with the new thread with the Duktape API, use
<code><a href="#duk_get_context">duk_get_context()</a></code> to get
a context pointer for API calls.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_thread.4">Example <a class="sectionlink" href="#duk_push_thread.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> thr_idx</span><span class="symbol">;</span>
<span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">new_ctx</span><span class="symbol">;</span>

<span class="normal">thr_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_thread</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">new_ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_context</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> thr_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_thread.5">See also <a class="sectionlink" href="#duk_push_thread.5">§</a></h2>
<ul>
<li><a href="#duk_push_thread_new_globalenv">duk_push_thread_new_globalenv</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_thread_new_globalenv">
<a href="#duk_push_thread_new_globalenv"><span class="hidechar">.</span>duk_push_thread_new_globalenv()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_push_thread_new_globalenv">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_thread_new_globalenv.1">Prototype <a class="sectionlink" href="#duk_push_thread_new_globalenv.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_push_thread_new_globalenv(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_push_thread_new_globalenv</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_thread_new_globalenv.2">Stack <a class="sectionlink" href="#duk_push_thread_new_globalenv.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">thr</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_thread_new_globalenv.3">Summary <a class="sectionlink" href="#duk_push_thread_new_globalenv.3">§</a></h2>
<p>Push a new Duktape thread (context, coroutine) to the stack.  Returns
non-negative index (relative to stack bottom) of the pushed thread.
The new thread will be associated with the same Duktape heap as the
argument <code>ctx</code>, but will have a new global object environment
(separate from the one used by <code>ctx</code>).</p>
<p>To interact with the new thread with the Duktape API, use
<code><a href="#duk_get_context">duk_get_context()</a></code> to get
a context pointer for API calls.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_thread_new_globalenv.4">Example <a class="sectionlink" href="#duk_push_thread_new_globalenv.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> thr_idx</span><span class="symbol">;</span>
<span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">new_ctx</span><span class="symbol">;</span>

<span class="normal">thr_idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_thread_new_globalenv</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">new_ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_context</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> thr_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_thread_new_globalenv.5">See also <a class="sectionlink" href="#duk_push_thread_new_globalenv.5">§</a></h2>
<ul>
<li><a href="#duk_push_thread">duk_push_thread</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_thread_stash">
<a href="#duk_push_thread_stash"><span class="hidechar">.</span>duk_push_thread_stash()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
<a class="apitag" href="#taglist-stash">stash</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-sandbox">sandbox</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-module">module</a>
 <a class="sectionlink" href="#duk_push_thread_stash">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_thread_stash.1">Prototype <a class="sectionlink" href="#duk_push_thread_stash.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_thread_stash(duk_context *ctx, duk_context *target_ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_thread_stash</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">target_ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_thread_stash.2">Stack <a class="sectionlink" href="#duk_push_thread_stash.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">stash</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_thread_stash.3">Summary <a class="sectionlink" href="#duk_push_thread_stash.3">§</a></h2>
<p>Push the stash object related to <code>target_ctx</code> to the stack (the
<code>ctx</code> and <code>target_ctx</code> arguments may refer to the same
thread).  The thread stash is an internal object which can be used to store
key/value pairs from C code so that they are reachable for garbage collection,
but are not accessible from Ecmascript code.  The stash is only accessible
from C code with a matching <code>target_ctx</code> argument.</p>
<p>If <code>target_ctx</code> is <code>NULL</code>, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_thread_stash.4">Example <a class="sectionlink" href="#duk_push_thread_stash.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_thread_stash</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> ctx2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_push_thread_stash.5">See also <a class="sectionlink" href="#duk_push_thread_stash.5">§</a></h2>
<ul>
<li><a href="#duk_push_heap_stash">duk_push_heap_stash</a></li>
<li><a href="#duk_push_global_stash">duk_push_global_stash</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_true">
<a href="#duk_push_true"><span class="hidechar">.</span>duk_push_true()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_true">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_true.1">Prototype <a class="sectionlink" href="#duk_push_true.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_true(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_true</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_true.2">Stack <a class="sectionlink" href="#duk_push_true.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">true</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_true.3">Summary <a class="sectionlink" href="#duk_push_true.3">§</a></h2>
<p>Push <code>true</code> to stack.  Equivalent to calling
<code><a href="#duk_push_boolean">duk_push_boolean(ctx, 1)</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_true.4">Example <a class="sectionlink" href="#duk_push_true.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_true</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_uint">
<a href="#duk_push_uint"><span class="hidechar">.</span>duk_push_uint()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_uint">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_uint.1">Prototype <a class="sectionlink" href="#duk_push_uint.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_uint(duk_context *ctx, unsigned int val);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_uint</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> val</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_uint.2">Stack <a class="sectionlink" href="#duk_push_uint.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_uint.3">Summary <a class="sectionlink" href="#duk_push_uint.3">§</a></h2>
<p>Convert <code>val</code> to an IEEE double and push it to the stack.</p>
<p>This is a shorthand for calling
<code><a href="#duk_push_number">duk_push_number(ctx, (duk_double_t) val)</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_uint.4">Example <a class="sectionlink" href="#duk_push_uint.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_uint</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_undefined">
<a href="#duk_push_undefined"><span class="hidechar">.</span>duk_push_undefined()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_undefined">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_undefined.1">Prototype <a class="sectionlink" href="#duk_push_undefined.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_push_undefined(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_push_undefined</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_undefined.2">Stack <a class="sectionlink" href="#duk_push_undefined.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_undefined.3">Summary <a class="sectionlink" href="#duk_push_undefined.3">§</a></h2>
<p>Push <code>undefined</code> to the stack.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_undefined.4">Example <a class="sectionlink" href="#duk_push_undefined.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_undefined</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_push_vsprintf">
<a href="#duk_push_vsprintf"><span class="hidechar">.</span>duk_push_vsprintf()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_push_vsprintf">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_push_vsprintf.1">Prototype <a class="sectionlink" href="#duk_push_vsprintf.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_push_vsprintf(duk_context *ctx, const char *fmt, va_list ap);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_push_vsprintf</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_push_vsprintf.2">Stack <a class="sectionlink" href="#duk_push_vsprintf.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_push_vsprintf.3">Summary <a class="sectionlink" href="#duk_push_vsprintf.3">§</a></h2>
<p>Format a string like <code>vsprintf()</code> (but safely) and push the result
value to the value stack.  Returns a non-<code>NULL</code> pointer to the
resulting string.</p>
<p>If <code>fmt</code> is <code>NULL</code>, an empty string is pushed to the stack
and a non-<code>NULL</code> pointer to an empty string is returned (this
behavior mimics what <code>vsprintf()</code> does for a <code>NULL</code> format
string, at least on Linux).  The returned pointer can be dereferenced and a
NUL terminator character is guaranteed.</p>
<p>Unlike <code>vsprintf()</code> the string formatting is safe.  Concretely,
the implementation will try increasing temporary buffer sizes until a
large enough buffer is found for the temporary formatted value.</p>
<div class="note">
<p>The <code>ap</code> argument cannot be safely reused for multiple calls.
This is a limitation of the vararg mechanism.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_push_vsprintf.4">Example <a class="sectionlink" href="#duk_push_vsprintf.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">test_vsprintf</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> ctx</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_push_vsprintf</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"test: %d+%d=%d"</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="type">void</span><span class="normal"> </span><span class="function">test</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">test_vsprintf</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">5</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_function_list">
<a href="#duk_put_function_list"><span class="hidechar">.</span>duk_put_function_list()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-module">module</a>
 <a class="sectionlink" href="#duk_put_function_list">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_function_list.1">Prototype <a class="sectionlink" href="#duk_put_function_list.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_put_function_list(duk_context *ctx, int obj_idx, const duk_function_list_entry *funcs);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_put_function_list</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">duk_function_list_entry</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">funcs</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_function_list.2">Stack <a class="sectionlink" href="#duk_put_function_list.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_function_list.3">Summary <a class="sectionlink" href="#duk_put_function_list.3">§</a></h2>
<p>Set multiple function properties into a target object at <code>obj_idx</code>.
The functions are specified as a list of triples (name, function, nargs), ending
with a triple where name is <code>NULL</code> (preferably also function is
<code>NULL</code> for sanity).</p>
<p>This is useful e.g. when defining modules or classes implemented
as a set of Duktape/C functions.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_function_list.4">Example <a class="sectionlink" href="#duk_put_function_list.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="usertype">duk_function_list_entry</span><span class="normal"> my_module_funcs</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"tweak"</span><span class="symbol">,</span><span class="normal"> do_tweak</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="comment">/* no args */</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"adjust"</span><span class="symbol">,</span><span class="normal"> do_adjust</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="normal"> </span><span class="comment">/* 3 args */</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"frobnicate"</span><span class="symbol">,</span><span class="normal"> do_frobnicate</span><span class="symbol">,</span><span class="normal"> DUK_VARARGS </span><span class="comment">/* variable args */</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="normal"> </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="comment">/* Initialize an object with a set of function properties, and set it to</span>
<span class="comment"> * global object 'MyModule'.</span>
<span class="comment"> */</span>

<span class="function">duk_push_global_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_push_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... global obj ] */</span>
<span class="function">duk_put_function_list</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> my_module_funcs</span><span class="symbol">);</span>
<span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"MyModule"</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ ... global ] */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_function_list.5">See also <a class="sectionlink" href="#duk_put_function_list.5">§</a></h2>
<ul>
<li><a href="#duk_put_number_list">duk_put_number_list</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_global_lstring">
<a href="#duk_put_global_lstring"><span class="hidechar">.</span>duk_put_global_lstring()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_put_global_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_global_lstring.1">Prototype <a class="sectionlink" href="#duk_put_global_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_put_global_lstring(duk_context *ctx, const char *key, size_t key_len);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_put_global_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> key_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_global_lstring.2">Stack <a class="sectionlink" href="#duk_put_global_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_global_lstring.3">Summary <a class="sectionlink" href="#duk_put_global_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_put_global_string">duk_put_global_string()</a></code>
but the key is given as a string with explicit length.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_global_lstring.4">Example <a class="sectionlink" href="#duk_put_global_lstring.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"1.2.3"</span><span class="symbol">);</span>
<span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_put_global_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"internal"</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\x</span><span class="string">00"</span><span class="normal"> </span><span class="string">"nul"</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_global_lstring.5">See also <a class="sectionlink" href="#duk_put_global_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_put_global_string">duk_put_global_string</a></li>
<li><a href="#duk_get_global_string">duk_get_global_string</a></li>
<li><a href="#duk_get_global_lstring">duk_get_global_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_global_string">
<a href="#duk_put_global_string"><span class="hidechar">.</span>duk_put_global_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_put_global_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_global_string.1">Prototype <a class="sectionlink" href="#duk_put_global_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_put_global_string(duk_context *ctx, const char *key);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_put_global_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_global_string.2">Stack <a class="sectionlink" href="#duk_put_global_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_global_string.3">Summary <a class="sectionlink" href="#duk_put_global_string.3">§</a></h2>
<p>Put property named <code>key</code> to the global object.
Return value behaves similarly to
<code><a href="#duk_put_prop">duk_put_prop()</a></code>.
This is a convenience function which does the equivalent of:</p>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> ret</span><span class="symbol">;</span>

<span class="function">duk_push_global_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_insert</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">ret </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">,</span><span class="normal"> key</span><span class="symbol">);</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="comment">/* 'ret' would be the return value from duk_put_global_string() */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_global_string.4">Example <a class="sectionlink" href="#duk_put_global_string.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"1.2.3"</span><span class="symbol">);</span>
<span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_put_global_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my_app_version"</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_global_string.5">See also <a class="sectionlink" href="#duk_put_global_string.5">§</a></h2>
<ul>
<li><a href="#duk_put_global_lstring">duk_put_global_lstring</a></li>
<li><a href="#duk_get_global_string">duk_get_global_string</a></li>
<li><a href="#duk_get_global_lstring">duk_get_global_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_number_list">
<a href="#duk_put_number_list"><span class="hidechar">.</span>duk_put_number_list()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
<a class="apitag" href="#taglist-module">module</a>
 <a class="sectionlink" href="#duk_put_number_list">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_number_list.1">Prototype <a class="sectionlink" href="#duk_put_number_list.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_put_number_list(duk_context *ctx, int obj_idx, const duk_number_list_entry *numbers);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_put_number_list</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">duk_number_list_entry</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">numbers</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_number_list.2">Stack <a class="sectionlink" href="#duk_put_number_list.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_number_list.3">Summary <a class="sectionlink" href="#duk_put_number_list.3">§</a></h2>
<p>Set multiple number (<code>double</code>) properties into a target object
at <code>obj_idx</code>.  The number list is given as a list of pairs
(name, number), ending with a pair where the name is <code>NULL</code>.</p>
<p>This is useful e.g. when defining numeric constants for modules or
classes implemented in C.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_number_list.4">Example <a class="sectionlink" href="#duk_put_number_list.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="usertype">duk_number_list_entry</span><span class="normal"> my_module_consts</span><span class="symbol">[]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"FLAG_FOO"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"FLAG_BAR"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"FLAG_QUUX"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="symbol">(</span><span class="number">1</span><span class="normal"> </span><span class="symbol">&lt;&lt;</span><span class="normal"> </span><span class="number">2</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> </span><span class="string">"DELAY"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">300.0</span><span class="normal"> </span><span class="cbracket">}</span><span class="symbol">,</span>
<span class="normal">    </span><span class="cbracket">{</span><span class="normal"> NULL</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0.0</span><span class="normal"> </span><span class="cbracket">}</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="function">duk_put_number_list</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> my_module_consts</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_number_list.5">See also <a class="sectionlink" href="#duk_put_number_list.5">§</a></h2>
<ul>
<li><a href="#duk_put_function_list">duk_put_function_list</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_prop">
<a href="#duk_put_prop"><span class="hidechar">.</span>duk_put_prop()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_put_prop">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_prop.1">Prototype <a class="sectionlink" href="#duk_put_prop.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_put_prop(duk_context *ctx, int obj_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_put_prop</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_prop.2">Stack <a class="sectionlink" href="#duk_put_prop.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">key</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_prop.3">Summary <a class="sectionlink" href="#duk_put_prop.3">§</a></h2>
<p>Write <code>val</code> to the property <code>key</code> of a value at
<code>obj_idx</code>.  <code>key</code> and <code>val</code> are removed
from the stack.  Return code and error throwing behavior:</p>
<ul>
<li>If the property write succeeds, returns <code>1</code>.</li>
<li>If the property write fails, throws an error (strict mode semantics).
    An error may also be thrown by the "setter" function of an accessor property.</li>
<li>If the value at <code>obj_idx</code> is not
    <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.10">object coercible</a>,
    throws an error.</li>
<li>If <code>obj_idx</code> is invalid, throws an error.</li>
</ul>
<p>The property write is equivalent to the Ecmascript expression
<code>obj[key] = val</code>.  The exact rules of when a property write
succeeds or fails are the same as for Ecmascript code making the
equivalent assignment.  For precise semantics, see
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.2.1">Property Accessors</a>,
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.7.2">PutValue (V, W)</a>,
and <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.12.5">[[Put]] (P, V, Throw)</a>.
Both the target value and the <code>key</code> are coerced:</p>
<ul>
<li>The target value is automatically coerced to an object.  However, the object
    is transitory so writing its properties is not very useful.  Moreover,
    Ecmascript semantics prevent new properties from being created for such
    transitory objects (see
    <a href="http://www.ecma-international.org/ecma-262/5.1/#sec-8.7.2">PutValue (V, W)</a>,
    step 7 of the special [[Put]] variant).</li>
<li>The <code>key</code> argument is internally coerced using ToPropertyKey()
    coercion which results in a string or a Symbol.  There is an internal
    fast path for arrays and numeric indices which avoids an explicit string
    coercion, so use a numeric <code>key</code> when applicable.</li>
</ul>
<p>If the target is a Proxy object which implements the <code>set</code> trap,
the trap is invoked and the API call return value matches the trap return value.</p>
<div class="note">
In Ecmascript an assignment expression has the value of the right-hand-side
expression, regardless of whether or not the assignment succeeds.  The return
value for this API call is not specified by Ecmascript or available to
Ecmascript code: the API call returns <code>0</code> or <code>1</code>
depending on whether the assignment succeeded or not (with the <code>0</code>
return value promoted to an error in strict code).
</div>
<p>If the key is a fixed string you can avoid one API call and use the
<code><a href="#duk_put_prop_string">duk_put_prop_string()</a></code> variant.
Similarly, if the key is an array index, you can use the
<code><a href="#duk_put_prop_index">duk_put_prop_index()</a></code> variant.</p>
<div class="note">
Although the base value for property accesses is usually an object, it can
technically be an arbitrary value.  Plain string and buffer values have virtual
index properties so you can access <code>"foo"[2]</code>, for instance.
Most primitive values also inherit from some prototype object so that you can
e.g. call methods on them: <code>(12345).toString(16)</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_prop.4">Example <a class="sectionlink" href="#duk_put_prop.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"key"</span><span class="symbol">);</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"value"</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_put_prop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_prop.5">See also <a class="sectionlink" href="#duk_put_prop.5">§</a></h2>
<ul>
<li><a href="#duk_put_prop_string">duk_put_prop_string</a></li>
<li><a href="#duk_put_prop_index">duk_put_prop_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_prop_index">
<a href="#duk_put_prop_index"><span class="hidechar">.</span>duk_put_prop_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_put_prop_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_prop_index.1">Prototype <a class="sectionlink" href="#duk_put_prop_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_put_prop_index(duk_context *ctx, int obj_idx, unsigned int arr_idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_put_prop_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uarridx_t</span><span class="normal"> arr_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_prop_index.2">Stack <a class="sectionlink" href="#duk_put_prop_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_prop_index.3">Summary <a class="sectionlink" href="#duk_put_prop_index.3">§</a></h2>
<p>Like <code><a href="#duk_put_prop">duk_put_prop()</a></code>,
but the property name is given as an unsigned integer
<code>arr_idx</code>.  This is especially useful for writing to
array elements (but is not limited to that).</p>
<p>Conceptually the number is coerced to a string for the property
write, e.g. <code>123</code> would be equivalent to a property
name <code>"123"</code>.  Duktape avoids an explicit coercion whenever
possible.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_prop_index.4">Example <a class="sectionlink" href="#duk_put_prop_index.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"value"</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_put_prop_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* write to obj[123] */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_prop_lstring">
<a href="#duk_put_prop_lstring"><span class="hidechar">.</span>duk_put_prop_lstring()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_put_prop_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_prop_lstring.1">Prototype <a class="sectionlink" href="#duk_put_prop_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_put_prop_lstring(duk_context *ctx, int obj_idx, const char *key, size_t key_len);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_put_prop_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> key_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_prop_lstring.2">Stack <a class="sectionlink" href="#duk_put_prop_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_prop_lstring.3">Summary <a class="sectionlink" href="#duk_put_prop_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_put_prop">duk_put_prop()</a></code>,
but the property name is given as a string with explicit length.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_prop_lstring.4">Example <a class="sectionlink" href="#duk_put_prop_lstring.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"value"</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_put_prop_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"internal"</span><span class="normal"> </span><span class="string">"</span><span class="specialchar">\x</span><span class="string">00"</span><span class="normal"> </span><span class="string">"nul"</span><span class="symbol">,</span><span class="normal"> </span><span class="number">12</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_prop_lstring.5">See also <a class="sectionlink" href="#duk_put_prop_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_put_prop_string">duk_put_prop_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_put_prop_string">
<a href="#duk_put_prop_string"><span class="hidechar">.</span>duk_put_prop_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-property">property</a>
 <a class="sectionlink" href="#duk_put_prop_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_put_prop_string.1">Prototype <a class="sectionlink" href="#duk_put_prop_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_put_prop_string(duk_context *ctx, int obj_idx, const char *key);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> obj_idx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">key</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_put_prop_string.2">Stack <a class="sectionlink" href="#duk_put_prop_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">obj</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_put_prop_string.3">Summary <a class="sectionlink" href="#duk_put_prop_string.3">§</a></h2>
<p>Like <code><a href="#duk_put_prop">duk_put_prop()</a></code>,
but the property name is given as a NUL-terminated C string
<code>key</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_put_prop_string.4">Example <a class="sectionlink" href="#duk_put_prop_string.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_bool_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"value"</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_put_prop_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"key"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"rc=%d</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> rc</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_put_prop_string.5">See also <a class="sectionlink" href="#duk_put_prop_string.5">§</a></h2>
<ul>
<li><a href="#duk_put_prop_lstring">duk_put_prop_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_range_error">
<a href="#duk_range_error"><span class="hidechar">.</span>duk_range_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_range_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_range_error.1">Prototype <a class="sectionlink" href="#duk_range_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_range_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_range_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_range_error.2">Stack <a class="sectionlink" href="#duk_range_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_range_error.3">Summary <a class="sectionlink" href="#duk_range_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_RANGE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_range_error.4">Example <a class="sectionlink" href="#duk_range_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_range_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_range_error.5">See also <a class="sectionlink" href="#duk_range_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_range_error_va">
<a href="#duk_range_error_va"><span class="hidechar">.</span>duk_range_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_range_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_range_error_va.1">Prototype <a class="sectionlink" href="#duk_range_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_range_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_range_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_range_error_va.2">Stack <a class="sectionlink" href="#duk_range_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_range_error_va.3">Summary <a class="sectionlink" href="#duk_range_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_RANGE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_range_error_va.4">Example <a class="sectionlink" href="#duk_range_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_range_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_range_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_range_error_va.5">See also <a class="sectionlink" href="#duk_range_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_realloc">
<a href="#duk_realloc"><span class="hidechar">.</span>duk_realloc()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_realloc">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_realloc.1">Prototype <a class="sectionlink" href="#duk_realloc.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_realloc(duk_context *ctx, void *ptr, size_t size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_realloc</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_realloc.2">Stack <a class="sectionlink" href="#duk_realloc.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_realloc.3">Summary <a class="sectionlink" href="#duk_realloc.3">§</a></h2>
<p>Like <code><a href="#duk_realloc_raw">duk_realloc_raw()</a></code> but may
trigger a garbage collection to satisfy the request.  However, the
allocated memory itself is not automatically garbage collected.
If allocated size is extended from previous allocation, the newly allocated
bytes are not automatically zeroed and may contain arbitrary garbage.</p>
<p>Memory reallocated with <code>duk_realloc()</code> can be freed with either
<code><a href="#duk_free">duk_free()</a></code> or
<code><a href="#duk_free_raw">duk_free_raw()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_realloc.4">Example <a class="sectionlink" href="#duk_realloc.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_alloc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_realloc</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2048</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(!</span><span class="normal">buf2</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"failed to reallocate, 'buf' still valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"reallocate successful, 'buf2' now valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_realloc.5">See also <a class="sectionlink" href="#duk_realloc.5">§</a></h2>
<ul>
<li><a href="#duk_realloc_raw">duk_realloc_raw</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_realloc_raw">
<a href="#duk_realloc_raw"><span class="hidechar">.</span>duk_realloc_raw()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-memory">memory</a>
 <a class="sectionlink" href="#duk_realloc_raw">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_realloc_raw.1">Prototype <a class="sectionlink" href="#duk_realloc_raw.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_realloc_raw(duk_context *ctx, void *ptr, size_t size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_realloc_raw</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_realloc_raw.2">Stack <a class="sectionlink" href="#duk_realloc_raw.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_realloc_raw.3">Summary <a class="sectionlink" href="#duk_realloc_raw.3">§</a></h2>
<p>Resize a previous allocation made with the allocation functions
registered to the context.  The <code>ptr</code> argument points to the
previous allocation while <code>size</code> is the new allocation size.
The call returns a pointer to the new allocation which may have a
different pointer than the previous one.  If the reallocation fails,
a <code>NULL</code> is returned and the previous allocation is still valid.
Reallocation failure should only be possible when the new size is larger
than the previous size (i.e. caller tries to grow the allocation).
The attempt to reallocate cannot trigger a garbage collection,
and the allocated memory is not automatically garbage collected.
If allocated size is extended from previous allocation, the newly allocated
bytes are not automatically zeroed and may contain arbitrary garbage.
</p>
<p>The exact behavior depends on the <code>ptr</code> and <code>size</code>
arguments as follows:</p>
<ul>
<li>If <code>ptr</code> is non-<code>NULL</code> and <code>size</code> is greater
    than zero, previous allocation is resized.</li>
<li>If <code>ptr</code> is non-<code>NULL</code> and <code>size</code> is zero,
    the call is equivalent to a
    <code><a href="#duk_free_raw">duk_free_raw()</a></code>.</li>
<li>If <code>ptr</code> is <code>NULL</code>, and <code>size</code> is greater than
    zero, the call is equivalent to a
    <code><a href="#duk_alloc_raw">duk_alloc_raw()</a></code>.</li>
<li>If <code>ptr</code> is <code>NULL</code>, and <code>size</code> is zero, the
    call is equivalent to a
    <code><a href="#duk_alloc_raw">duk_alloc_raw()</a></code> with a zero
    size argument; the call may return <code>NULL</code> or some other value
    which is safe to give to
    <code><a href="#duk_free_raw">duk_free_raw()</a></code>.</li>
</ul>
<p>Memory reallocated with <code>duk_realloc_raw()</code> can be freed with either
<code><a href="#duk_free">duk_free()</a></code> or
<code><a href="#duk_free_raw">duk_free_raw()</a></code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_realloc_raw.4">Example <a class="sectionlink" href="#duk_realloc_raw.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_alloc_raw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1024</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">buf</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf2 </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_realloc_raw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2048</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(!</span><span class="normal">buf2</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"failed to reallocate, 'buf' still valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"reallocate successful, 'buf2' now valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_realloc_raw.5">See also <a class="sectionlink" href="#duk_realloc_raw.5">§</a></h2>
<ul>
<li><a href="#duk_realloc">duk_realloc</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_reference_error">
<a href="#duk_reference_error"><span class="hidechar">.</span>duk_reference_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_reference_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_reference_error.1">Prototype <a class="sectionlink" href="#duk_reference_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_reference_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_reference_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_reference_error.2">Stack <a class="sectionlink" href="#duk_reference_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_reference_error.3">Summary <a class="sectionlink" href="#duk_reference_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_REFERENCE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_reference_error.4">Example <a class="sectionlink" href="#duk_reference_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_reference_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_reference_error.5">See also <a class="sectionlink" href="#duk_reference_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_reference_error_va">
<a href="#duk_reference_error_va"><span class="hidechar">.</span>duk_reference_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_reference_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_reference_error_va.1">Prototype <a class="sectionlink" href="#duk_reference_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_reference_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_reference_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_reference_error_va.2">Stack <a class="sectionlink" href="#duk_reference_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_reference_error_va.3">Summary <a class="sectionlink" href="#duk_reference_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_REFERENCE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_reference_error_va.4">Example <a class="sectionlink" href="#duk_reference_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_reference_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_reference_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_reference_error_va.5">See also <a class="sectionlink" href="#duk_reference_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_remove">
<a href="#duk_remove"><span class="hidechar">.</span>duk_remove()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_remove">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_remove.1">Prototype <a class="sectionlink" href="#duk_remove.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_remove(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_remove</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_remove.2">Stack <a class="sectionlink" href="#duk_remove.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(idx)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_remove.3">Summary <a class="sectionlink" href="#duk_remove.3">§</a></h2>
<p>Remove value at <code>idx</code>.  Elements above <code>idx</code>
are shifted down the stack by a step.  If <code>idx</code> is an invalid
index, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_remove.4">Example <a class="sectionlink" href="#duk_remove.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">234</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">345</span><span class="symbol">);</span><span class="normal">       </span><span class="comment">/* -&gt; [ 123 234 345 ] */</span>
<span class="function">duk_remove</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span><span class="normal">          </span><span class="comment">/* -&gt; [ 123 345 ] */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_replace">
<a href="#duk_replace"><span class="hidechar">.</span>duk_replace()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_replace">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_replace.1">Prototype <a class="sectionlink" href="#duk_replace.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_replace(duk_context *ctx, int to_idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_replace</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> to_idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_replace.2">Stack <a class="sectionlink" href="#duk_replace.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">old(to_idx)</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val(to_idx)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_replace.3">Summary <a class="sectionlink" href="#duk_replace.3">§</a></h2>
<p>Replace value at <code>to_idx</code> with a value popped from the
stack top.  If <code>to_idx</code> is an invalid index, throws an error.</p>
<div class="note">
Negative indices are evaluated prior to popping the value at the stack
top.  This is also illustrated by the example.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_replace.4">Example <a class="sectionlink" href="#duk_replace.4">§</a></h2>
<pre class="c-code"><span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">234</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">345</span><span class="symbol">);</span><span class="normal">       </span><span class="comment">/* -&gt; [ 123 234 345 ] */</span>
<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"foo"</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; [ 123 234 345 "foo" ] */</span>
<span class="function">duk_replace</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span><span class="normal">         </span><span class="comment">/* -&gt; [ 123 "foo" 345 ] */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_replace.5">See also <a class="sectionlink" href="#duk_replace.5">§</a></h2>
<ul>
<li><a href="#duk_insert">duk_insert</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_boolean">
<a href="#duk_require_boolean"><span class="hidechar">.</span>duk_require_boolean()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_boolean">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_boolean.1">Prototype <a class="sectionlink" href="#duk_require_boolean.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_require_boolean(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_require_boolean</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_boolean.2">Stack <a class="sectionlink" href="#duk_require_boolean.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_boolean.3">Summary <a class="sectionlink" href="#duk_require_boolean.3">§</a></h2>
<p>Like <code><a href="#duk_get_boolean">duk_get_boolean()</a></code>,
but throws an error if the value at <code>idx</code> is not a boolean
or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_boolean.4">Example <a class="sectionlink" href="#duk_require_boolean.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_require_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"value is true</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_buffer">
<a href="#duk_require_buffer"><span class="hidechar">.</span>duk_require_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_require_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_buffer.1">Prototype <a class="sectionlink" href="#duk_require_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_require_buffer(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_buffer.2">Stack <a class="sectionlink" href="#duk_require_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_buffer.3">Summary <a class="sectionlink" href="#duk_require_buffer.3">§</a></h2>
<p>Like <code><a href="#duk_get_buffer">duk_get_buffer()</a></code>,
but throws an error if the value at <code>idx</code> is not a (plain)
buffer or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_buffer.4">Example <a class="sectionlink" href="#duk_require_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"buf=%p, size=%lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_buffer.5">See also <a class="sectionlink" href="#duk_require_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
<li><a href="#duk_require_buffer_data">duk_require_buffer_data</a></li>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_buffer_data">
<a href="#duk_require_buffer_data"><span class="hidechar">.</span>duk_require_buffer_data()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-bufferobject">bufferobject</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_require_buffer_data">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_buffer_data.1">Prototype <a class="sectionlink" href="#duk_require_buffer_data.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_require_buffer_data(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_buffer_data</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_buffer_data.2">Stack <a class="sectionlink" href="#duk_require_buffer_data.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_buffer_data.3">Summary <a class="sectionlink" href="#duk_require_buffer_data.3">§</a></h2>
<p>Like <code><a href="#duk_get_buffer_data">duk_get_buffer_data()</a></code>,
but throws an error if the value at <code>idx</code> is not a plain buffer
or a buffer object or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_buffer_data.4">Example <a class="sectionlink" href="#duk_require_buffer_data.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_buffer_data</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"buf=%p, size=%lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_buffer_data.5">See also <a class="sectionlink" href="#duk_require_buffer_data.5">§</a></h2>
<ul>
<li><a href="#duk_get_buffer_data">duk_get_buffer_data</a></li>
<li><a href="#duk_require_buffer">duk_require_buffer</a></li>
<li><a href="#duk_get_buffer">duk_get_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_c_function">
<a href="#duk_require_c_function"><span class="hidechar">.</span>duk_require_c_function()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_require_c_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_c_function.1">Prototype <a class="sectionlink" href="#duk_require_c_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): duk_c_function duk_require_c_function(duk_context *ctx, int idx);"><span class="usertype">duk_c_function</span><span class="normal"> </span><span class="function">duk_require_c_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_c_function.2">Stack <a class="sectionlink" href="#duk_require_c_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_c_function.3">Summary <a class="sectionlink" href="#duk_require_c_function.3">§</a></h2>
<p>Like <code><a href="#duk_get_c_function">duk_get_c_function()</a></code>, but
throws an error if the value at <code>idx</code> is not an Ecmascript function
associated with a Duktape/C function or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_c_function.4">Example <a class="sectionlink" href="#duk_require_c_function.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_c_function</span><span class="normal"> funcptr</span><span class="symbol">;</span>

<span class="normal">funcptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_callable">
<a href="#duk_require_callable"><span class="hidechar">.</span>duk_require_callable()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_callable">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_callable.1">Prototype <a class="sectionlink" href="#duk_require_callable.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_callable(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_callable</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_callable.2">Stack <a class="sectionlink" href="#duk_require_callable.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_callable.3">Summary <a class="sectionlink" href="#duk_require_callable.3">§</a></h2>
<p>Throw an error if the value at <code>idx</code> is not callable
or if the index is invalid.</p>
<div class="note">
There is no "get" primitive (<code>duk_get_callable()</code>) because there's
no useful C return value for an arbitrary callable value.  At the moment this
call is equivalent to calling <code><a href="#duk_require_function">duk_require_function()</a></code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_callable.4">Example <a class="sectionlink" href="#duk_require_callable.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_callable</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_context">
<a href="#duk_require_context"><span class="hidechar">.</span>duk_require_context()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_require_context">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_context.1">Prototype <a class="sectionlink" href="#duk_require_context.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): duk_context *duk_require_context(duk_context *ctx, int idx);"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_context</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_context.2">Stack <a class="sectionlink" href="#duk_require_context.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_context.3">Summary <a class="sectionlink" href="#duk_require_context.3">§</a></h2>
<p>Like <code><a href="#duk_get_context">duk_get_context()</a></code>,
but throws an error if the value at <code>idx</code> is not a Duktape
thread or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_context.4">Example <a class="sectionlink" href="#duk_require_context.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">new_ctx</span><span class="symbol">;</span>

<span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_push_thread</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">new_ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_context</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_function">
<a href="#duk_require_function"><span class="hidechar">.</span>duk_require_function()</a>
<a class="apitag" href="#taglist-1.4.0">1.4.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_function">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_function.1">Prototype <a class="sectionlink" href="#duk_require_function.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_function(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_function</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_function.2">Stack <a class="sectionlink" href="#duk_require_function.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_function.3">Summary <a class="sectionlink" href="#duk_require_function.3">§</a></h2>
<p>Throw an error if the value at <code>idx</code> is not a function
or if the index is invalid.</p>
<div class="note">
There is no "get" primitive (<code>duk_get_function()</code>) because there's
no useful C return value for an arbitrary function.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_function.4">Example <a class="sectionlink" href="#duk_require_function.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_heapptr">
<a href="#duk_require_heapptr"><span class="hidechar">.</span>duk_require_heapptr()</a>
<a class="apitag" href="#taglist-1.1.0">1.1.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-borrowed">borrowed</a>
 <a class="sectionlink" href="#duk_require_heapptr">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_heapptr.1">Prototype <a class="sectionlink" href="#duk_require_heapptr.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_require_heapptr(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_heapptr</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_heapptr.2">Stack <a class="sectionlink" href="#duk_require_heapptr.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_heapptr.3">Summary <a class="sectionlink" href="#duk_require_heapptr.3">§</a></h2>
<p>Like <code><a href="#duk_get_heapptr">duk_get_heapptr()</a></code>,
but throws an error if the value at <code>idx</code> is not a Duktape
heap allocated value (object, buffer, string) or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_heapptr.4">Example <a class="sectionlink" href="#duk_require_heapptr.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_heapptr</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_heapptr.5">See also <a class="sectionlink" href="#duk_require_heapptr.5">§</a></h2>
<ul>
<li><a href="#duk_get_heapptr">duk_get_heapptr</a></li>
<li><a href="#duk_push_heapptr">duk_push_heapptr</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_int">
<a href="#duk_require_int"><span class="hidechar">.</span>duk_require_int()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_int">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_int.1">Prototype <a class="sectionlink" href="#duk_require_int.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_require_int(duk_context *ctx, int idx);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_require_int</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_int.2">Stack <a class="sectionlink" href="#duk_require_int.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_int.3">Summary <a class="sectionlink" href="#duk_require_int.3">§</a></h2>
<p>Like <code><a href="#duk_get_int">duk_get_int()</a></code>,
but throws an error if the value at <code>idx</code> is not a number
or if the index is invalid.</p>
<!--
<p>The number is coerced as for <code><a href="#duk_get_int">duk_get_int()</a></code>
with only numeric inputs allowed.</p>
-->
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_int.4">Example <a class="sectionlink" href="#duk_require_int.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"int value: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_require_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_lstring">
<a href="#duk_require_lstring"><span class="hidechar">.</span>duk_require_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_lstring.1">Prototype <a class="sectionlink" href="#duk_require_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_require_lstring(duk_context *ctx, int idx, size_t *out_len);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_lstring.2">Stack <a class="sectionlink" href="#duk_require_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_lstring.3">Summary <a class="sectionlink" href="#duk_require_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_get_lstring">duk_get_lstring()</a></code>,
but throws an error if the value at <code>idx</code> is not a string
or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_lstring.4">Example <a class="sectionlink" href="#duk_require_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">;</span>

<span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">len</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a string, %lu bytes</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_normalize_index">
<a href="#duk_require_normalize_index"><span class="hidechar">.</span>duk_require_normalize_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_normalize_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_normalize_index.1">Prototype <a class="sectionlink" href="#duk_require_normalize_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_require_normalize_index(duk_context *ctx, int idx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_require_normalize_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_normalize_index.2">Stack <a class="sectionlink" href="#duk_require_normalize_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_normalize_index.3">Summary <a class="sectionlink" href="#duk_require_normalize_index.3">§</a></h2>
<p>Normalize argument index relative to the bottom of the current frame.
The resulting index will be 0 or greater and will be independent of
later stack modifications.  If the input index is invalid, throws
an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_normalize_index.4">Example <a class="sectionlink" href="#duk_require_normalize_index.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> idx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_normalize_index</span><span class="symbol">(-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_normalize_index.5">See also <a class="sectionlink" href="#duk_require_normalize_index.5">§</a></h2>
<ul>
<li><a href="#duk_normalize_index">duk_normalize_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_null">
<a href="#duk_require_null"><span class="hidechar">.</span>duk_require_null()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_null">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_null.1">Prototype <a class="sectionlink" href="#duk_require_null.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_null(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_null</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_null.2">Stack <a class="sectionlink" href="#duk_require_null.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_null.3">Summary <a class="sectionlink" href="#duk_require_null.3">§</a></h2>
<p>Throw an error if the value at <code>idx</code> is not <code>null</code>
or if the index is invalid.</p>
<div class="note">
There is no "get" primitive (<code>duk_get_null()</code>) because such a
function would be a no-op.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_null.4">Example <a class="sectionlink" href="#duk_require_null.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_null</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_number">
<a href="#duk_require_number"><span class="hidechar">.</span>duk_require_number()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_number">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_number.1">Prototype <a class="sectionlink" href="#duk_require_number.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): double duk_require_number(duk_context *ctx, int idx);"><span class="usertype">duk_double_t</span><span class="normal"> </span><span class="function">duk_require_number</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_number.2">Stack <a class="sectionlink" href="#duk_require_number.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_number.3">Summary <a class="sectionlink" href="#duk_require_number.3">§</a></h2>
<p>Like <code><a href="#duk_get_number">duk_get_number()</a></code>,
but throws an error if the value at <code>idx</code> is not a number
or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_number.4">Example <a class="sectionlink" href="#duk_require_number.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"value: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_require_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_object_coercible">
<a href="#duk_require_object_coercible"><span class="hidechar">.</span>duk_require_object_coercible()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_require_object_coercible">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_object_coercible.1">Prototype <a class="sectionlink" href="#duk_require_object_coercible.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_object_coercible(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_object_coercible</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_object_coercible.2">Stack <a class="sectionlink" href="#duk_require_object_coercible.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_object_coercible.3">Summary <a class="sectionlink" href="#duk_require_object_coercible.3">§</a></h2>
<p>Like <code><a href="#duk_is_object_coercible">duk_is_object_coercible()</a></code>
but throws a <code>TypeError</code> if <code>val</code> is not object coercible.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_object_coercible.4">Example <a class="sectionlink" href="#duk_require_object_coercible.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_object_coercible</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_pointer">
<a href="#duk_require_pointer"><span class="hidechar">.</span>duk_require_pointer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_pointer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_pointer.1">Prototype <a class="sectionlink" href="#duk_require_pointer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_require_pointer(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_pointer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_pointer.2">Stack <a class="sectionlink" href="#duk_require_pointer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_pointer.3">Summary <a class="sectionlink" href="#duk_require_pointer.3">§</a></h2>
<p>Like <code><a href="#duk_get_pointer">duk_get_pointer()</a></code>,
but throws an error if the value at <code>idx</code> is not a pointer
or if the index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_pointer.4">Example <a class="sectionlink" href="#duk_require_pointer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_pointer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"my pointer is: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_stack">
<a href="#duk_require_stack"><span class="hidechar">.</span>duk_require_stack()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_stack">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_stack.1">Prototype <a class="sectionlink" href="#duk_require_stack.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_stack(duk_context *ctx, int extra);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_stack</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> extra</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_stack.2">Stack <a class="sectionlink" href="#duk_require_stack.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_stack.3">Summary <a class="sectionlink" href="#duk_require_stack.3">§</a></h2>
<p>Like <code><a href="#duk_check_stack">duk_check_stack()</a></code> but an
error is thrown if the value stack needs to be reallocated and that
reallocation fails.</p>
<p>As a general rule, callers should use this function to reserve more
stack space.  If value stack cannot be extended, there is almost never a
useful recovery strategy except to throw an error and unwind.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_stack.4">Example <a class="sectionlink" href="#duk_require_stack.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">;</span>

<span class="normal">nargs </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* number or arguments */</span>

<span class="comment">/* reserve space for one temporary for each input argument */</span>
<span class="function">duk_require_stack</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> nargs </span><span class="symbol">*</span><span class="normal"> </span><span class="number">2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_stack.5">See also <a class="sectionlink" href="#duk_require_stack.5">§</a></h2>
<ul>
<li><a href="#duk_check_stack">duk_check_stack</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_stack_top">
<a href="#duk_require_stack_top"><span class="hidechar">.</span>duk_require_stack_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_stack_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_stack_top.1">Prototype <a class="sectionlink" href="#duk_require_stack_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_stack_top(duk_context *ctx, int top);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_stack_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> top</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_stack_top.2">Stack <a class="sectionlink" href="#duk_require_stack_top.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_stack_top.3">Summary <a class="sectionlink" href="#duk_require_stack_top.3">§</a></h2>
<p>Like <code><a href="#duk_check_stack_top">duk_check_stack_top()</a></code>
but an error is thrown if the value stack needs to be reallocated and that
reallocation fails.</p>
<p>As a general rule, callers should use this function to reserve more
stack space.  If value stack cannot be extended, there is almost never a
useful recovery strategy except to throw an error and unwind.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_stack_top.4">Example <a class="sectionlink" href="#duk_require_stack_top.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_stack_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">100</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"value stack guaranteed up to index 99</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_stack_top.5">See also <a class="sectionlink" href="#duk_require_stack_top.5">§</a></h2>
<ul>
<li><a href="#duk_check_stack_top">duk_check_stack_top</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_string">
<a href="#duk_require_string"><span class="hidechar">.</span>duk_require_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_string.1">Prototype <a class="sectionlink" href="#duk_require_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_require_string(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_require_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_string.2">Stack <a class="sectionlink" href="#duk_require_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_string.3">Summary <a class="sectionlink" href="#duk_require_string.3">§</a></h2>
<p>Like <code><a href="#duk_get_string">duk_get_string()</a></code>,
but throws an error if the value at <code>idx</code> is not a string
or if the index is invalid.</p>
<div class="note">
Symbol values are visible in the C API as strings so that both
<code>duk_is_symbol()</code> and <code>duk_is_string()</code> are true.
This behavior is similar to Duktape 1.x internal strings.  Symbols are
still an experimental feature; for now, you can distinguish Symbols from
ordinary strings using <code><a href="#duk_is_symbol">duk_is_symbol()</a></code>.
For the internal representation, see
<a href="https://github.com/svaarala/duktape/blob/master/doc/symbols.rst">symbols.rst</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_string.4">Example <a class="sectionlink" href="#duk_require_string.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf</span><span class="symbol">;</span>

<span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"value is a string: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> buf</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_top_index">
<a href="#duk_require_top_index"><span class="hidechar">.</span>duk_require_top_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_top_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_top_index.1">Prototype <a class="sectionlink" href="#duk_require_top_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_require_top_index(duk_context *ctx);"><span class="usertype">duk_idx_t</span><span class="normal"> </span><span class="function">duk_require_top_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_top_index.2">Stack <a class="sectionlink" href="#duk_require_top_index.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_top_index.3">Summary <a class="sectionlink" href="#duk_require_top_index.3">§</a></h2>
<p>Get the absolute index (&gt;= 0) of the topmost value on the stack.
If the stack is empty, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_top_index.4">Example <a class="sectionlink" href="#duk_require_top_index.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_idx_t</span><span class="normal"> idx_top</span><span class="symbol">;</span>

<span class="comment">/* throws error if stack is empty */</span>
<span class="normal">idx_top </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_top_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"index of top element: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> idx_top</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_top_index.5">See also <a class="sectionlink" href="#duk_require_top_index.5">§</a></h2>
<ul>
<li><a href="#duk_get_top_index">duk_get_top_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_type_mask">
<a href="#duk_require_type_mask"><span class="hidechar">.</span>duk_require_type_mask()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_type_mask">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_type_mask.1">Prototype <a class="sectionlink" href="#duk_require_type_mask.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_type_mask(duk_context *ctx, int idx, unsigned int mask);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_type_mask</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_uint_t</span><span class="normal"> mask</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_type_mask.2">Stack <a class="sectionlink" href="#duk_require_type_mask.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_type_mask.3">Summary <a class="sectionlink" href="#duk_require_type_mask.3">§</a></h2>
<p>Like <code><a href="#duk_check_type_mask">duk_check_type_mask()</a></code>
but throws a <code>TypeError</code> if <code>val</code> type does not match any
of the mask bits.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_type_mask.4">Example <a class="sectionlink" href="#duk_require_type_mask.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_type_mask</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> DUK_TYPE_MASK_STRING </span><span class="symbol">|</span>
<span class="normal">                               DUK_TYPE_MASK_NUMBER</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_uint">
<a href="#duk_require_uint"><span class="hidechar">.</span>duk_require_uint()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_uint">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_uint.1">Prototype <a class="sectionlink" href="#duk_require_uint.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): unsigned int duk_require_uint(duk_context *ctx, int idx);"><span class="usertype">duk_uint_t</span><span class="normal"> </span><span class="function">duk_require_uint</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_uint.2">Stack <a class="sectionlink" href="#duk_require_uint.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_uint.3">Summary <a class="sectionlink" href="#duk_require_uint.3">§</a></h2>
<p>Like <code><a href="#duk_get_uint">duk_get_uint()</a></code>,
but throws an error if the value at <code>idx</code> is not a number
or if the index is invalid.</p>
<!--
<p>The number is coerced as for <code><a href="#duk_get_uint">duk_get_uint()</a></code>
with only numeric inputs allowed.</p>
-->
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_uint.4">Example <a class="sectionlink" href="#duk_require_uint.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"unsigned int value: %lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_require_uint</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_undefined">
<a href="#duk_require_undefined"><span class="hidechar">.</span>duk_require_undefined()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_undefined">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_undefined.1">Prototype <a class="sectionlink" href="#duk_require_undefined.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_undefined(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_undefined</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_undefined.2">Stack <a class="sectionlink" href="#duk_require_undefined.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_undefined.3">Summary <a class="sectionlink" href="#duk_require_undefined.3">§</a></h2>
<p>Throw an error if the value at <code>idx</code> is not <code>undefined</code>
or if the index is invalid.</p>
<div class="note">
There is no "get" primitive (<code>duk_get_undefined()</code>) because such a
function would be a no-op.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_undefined.4">Example <a class="sectionlink" href="#duk_require_undefined.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_undefined</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_require_valid_index">
<a href="#duk_require_valid_index"><span class="hidechar">.</span>duk_require_valid_index()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_require_valid_index">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_require_valid_index.1">Prototype <a class="sectionlink" href="#duk_require_valid_index.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_require_valid_index(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_require_valid_index</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_require_valid_index.2">Stack <a class="sectionlink" href="#duk_require_valid_index.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_require_valid_index.3">Summary <a class="sectionlink" href="#duk_require_valid_index.3">§</a></h2>
<p>Validate argument index.  Throw an error if index is valid, return
(without a return value) otherwise.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_require_valid_index.4">Example <a class="sectionlink" href="#duk_require_valid_index.4">§</a></h2>
<pre class="c-code"><span class="function">duk_require_valid_index</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"index -3 is valid</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_require_valid_index.5">See also <a class="sectionlink" href="#duk_require_valid_index.5">§</a></h2>
<ul>
<li><a href="#duk_is_valid_index">duk_is_valid_index</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_resize_buffer">
<a href="#duk_resize_buffer"><span class="hidechar">.</span>duk_resize_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_resize_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_resize_buffer.1">Prototype <a class="sectionlink" href="#duk_resize_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_resize_buffer(duk_context *ctx, int idx, size_t new_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_resize_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> new_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_resize_buffer.2">Stack <a class="sectionlink" href="#duk_resize_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_resize_buffer.3">Summary <a class="sectionlink" href="#duk_resize_buffer.3">§</a></h2>
<p>Resize a dynamic buffer at <code>idx</code> to <code>new_size</code> bytes.
If <code>new_size</code> is larger than the current size, newly allocated bytes
(above old size) are automatically zeroed.  Returns a pointer to the new buffer
data area.  If <code>new_size</code> is zero, may return either <code>NULL</code> or some
non-<code>NULL</code> value.  If resizing fails, the value at <code>idx</code> is not
a dynamic buffer, or <code>idx</code> is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_resize_buffer.4">Example <a class="sectionlink" href="#duk_resize_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_resize_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">4096</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_resume">
<a href="#duk_resume"><span class="hidechar">.</span>duk_resume()</a>
<a class="apitag" href="#taglist-1.6.0">1.6.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
 <a class="sectionlink" href="#duk_resume">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_resume.1">Prototype <a class="sectionlink" href="#duk_resume.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_resume(duk_context *ctx, const duk_thread_state *state);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_resume</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="usertype">duk_thread_state</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">state</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_resume.2">Stack <a class="sectionlink" href="#duk_resume.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">state(N)</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(number of popped stack entries may vary)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_resume.3">Summary <a class="sectionlink" href="#duk_resume.3">§</a></h2>
<p>Resume Duktape execution previously suspended using
<code><a href="#duk_suspend">duk_suspend()</a></code>.  The <code>state</code>
argument must not be NULL.  Value stack and <code>state</code> must be in the
state where they were left by <code>duk_suspend()</code>; if that's not the
case, memory unsafe behavior will happen.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_resume.4">Example <a class="sectionlink" href="#duk_resume.4">§</a></h2>
<pre class="c-code"><span class="comment">/* See example for duk_suspend(). */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_resume.5">See also <a class="sectionlink" href="#duk_resume.5">§</a></h2>
<ul>
<li><a href="#duk_suspend">duk_suspend</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_safe_call">
<a href="#duk_safe_call"><span class="hidechar">.</span>duk_safe_call()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
<a class="apitag" href="#taglist-call">call</a>
 <a class="sectionlink" href="#duk_safe_call">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_safe_call.1">Prototype <a class="sectionlink" href="#duk_safe_call.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_safe_call(duk_context *ctx, duk_safe_call_function func, void *udata, int nargs, int nrets);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_safe_call</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_safe_call_function</span><span class="normal"> func</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> nrets</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_safe_call.2">Stack <a class="sectionlink" href="#duk_safe_call.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">arg1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">argN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ret1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">retN</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_safe_call.3">Summary <a class="sectionlink" href="#duk_safe_call.3">§</a></h2>
<p>Perform a protected pure C function call inside the current value stack
frame (the call is not visible on the call stack).  <code>nargs</code>
topmost values in the current value stack frame are identified as call
arguments, and <code>nrets</code> return values are provided after the call
returns.  The <code>udata</code> (userdata) pointer is passed on to
<code>func</code> as is, and makes it easy to pass one or more C values to
the target function without using the value stack.  Multiple values can be
passed by packing them into a stack-allocated C struct and passing a pointer
to the struct as userdata.  The userdata argument is not interpreted by
Duktape; if it isn't needed simply pass a <code>NULL</code> and ignore the
udata argument in the safe call target.</p>
<p>The return value is:</p>
<ul>
<li><code>DUK_EXEC_SUCCESS</code> (0): call succeeded, <code>nargs</code> arguments are replaced
    with <code>nrets</code> return values.  (This return code constant is guaranteed to be
    zero, so that one can check for success with a "zero or non-zero" check.)</li>
<li><code>DUK_EXEC_ERROR</code>: call failed, <code>nargs</code> arguments are replaced with
    <code>nrets</code> values, first of which is an error value and the rest are <code>undefined</code>.
    (In exceptional cases, e.g. when there are too few arguments on the value stack, the call
    returns non-zero but may leave the stack in an inconsistent state.)</li>
</ul>
<div class="note">
Unlike most Duktape API calls, this call returns zero on success.  This allows
multiple error codes to be defined later.
</div>
<p>Because this call operates on the current value stack frame, stack behavior
and return code handling differ a bit from other call types.</p>
<p>The top <code>nargs</code> elements of the stack top are identified as arguments to
<code>func</code> establishing a "base index" for the return stack as:</p>
<pre>
(duk_get_top() - nargs)
</pre>
<p>When <code>func</code> returns, it indicates with its return value the number of
return values it has pushed on top of the stack; multiple or zero return
values possible.  The stack is then manipulated so that there are exactly
<code>nrets</code> values starting at the "base index" established before the call.</p>
<p>Note that since <code>func</code> has full access to the value stack, it may modify
the stack below the indended arguments and even pop elements below the "base index"
off the stack.  Such elements are restored with <code>undefined</code> values before
returning, to ensure that the stack is always in a consistent state upon returning.</p>
<p>If an error occurs, the stack will still have <code>nrets</code> values at "base index";
the first of such values is the error, and the remaining values are <code>undefined</code>.
If <code>nrets</code> is zero, the error will not be present on the stack (the return stack
top will equal the "base index"), so calling this function with <code>nrets</code> as 0
is not very useful.</p>
<p>Example value stack behavior with <code>nargs = 3</code>, <code>nrets = 2</code>,
<code>func</code> returns 4.  Pipe chars indicate logical value stack boundaries:</p>
<pre>
      .--- frame bottom
      |
      |     .--- "base index"
      v     v
[ ... | ... | a b c ]            stack before calling 'func'

[ ... | ... | a b | x y z w ]    stack after calling 'func', which has
                                 popped one argument and written four
                                 return values (and returned 4)

[ ... | ... | x y ]              stack after duk_safe_call() returns,
                                 2 (= nrets) first 'func' return values
                                 are left at "base index"
</pre>
<div class="note">
Note that <code>func</code> uses the caller's stack frame, so bottom-based
references are dangerous within 'func' unless the calling context is known.
</div>
<div class="note">
The userdata argument was added in Duktape 2.x.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_safe_call.4">Example <a class="sectionlink" href="#duk_safe_call.4">§</a></h2>
<pre class="c-code"><span class="keyword">typedef</span><span class="normal"> </span><span class="keyword">struct</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="type">int</span><span class="normal"> floor</span><span class="symbol">;</span>
<span class="cbracket">}</span><span class="normal"> my_safe_args</span><span class="symbol">;</span>

<span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">my_safe_func</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">udata</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">my_safe_args</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">args </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">my_safe_args </span><span class="symbol">*)</span><span class="normal"> udata</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">double</span><span class="normal"> a</span><span class="symbol">,</span><span class="normal"> b</span><span class="symbol">,</span><span class="normal"> c</span><span class="symbol">,</span><span class="normal"> t</span><span class="symbol">;</span>

<span class="normal">    a </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">    b </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span>
<span class="normal">    c </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* ignored on purpose */</span>
<span class="normal">    t </span><span class="symbol">=</span><span class="normal"> a </span><span class="symbol">+</span><span class="normal"> b</span><span class="symbol">;</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">args</span><span class="symbol">-&gt;</span><span class="normal">floor</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        t </span><span class="symbol">=</span><span class="normal"> </span><span class="function">floor</span><span class="symbol">(</span><span class="normal">t</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="function">duk_push_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> t</span><span class="symbol">;</span>

<span class="normal">    </span><span class="comment">/* Indicates that there is only one return value.  Because the caller</span>
<span class="comment">     * requested two (nrets == 2), Duktape will automatically add an</span>
<span class="comment">     * additional "undefined" result value.</span>
<span class="comment">     */</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="usertype">my_safe_args</span><span class="normal"> args</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* C struct whose pointer is passed as userdata */</span>
<span class="usertype">duk_int_t</span><span class="normal"> rc</span><span class="symbol">;</span>

<span class="normal">args</span><span class="symbol">.</span><span class="normal">floor </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">10</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">11</span><span class="symbol">);</span>
<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">12</span><span class="symbol">);</span>
<span class="normal">rc </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_safe_call</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_func</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">void</span><span class="normal"> </span><span class="symbol">*)</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">args</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="normal"> </span><span class="comment">/*nrets*/</span><span class="symbol">);</span>
<span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">rc </span><span class="symbol">==</span><span class="normal"> DUK_EXEC_SUCCESS</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"1st return value: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* 21 */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"2nd return value: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* undefined */</span>
<span class="cbracket">}</span><span class="normal"> </span><span class="keyword">else</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"error value: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">));</span>
<span class="cbracket">}</span>
<span class="function">duk_pop_2</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_safe_to_lstring">
<a href="#duk_safe_to_lstring"><span class="hidechar">.</span>duk_safe_to_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_safe_to_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_safe_to_lstring.1">Prototype <a class="sectionlink" href="#duk_safe_to_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_safe_to_lstring(duk_context *ctx, int idx, size_t *out_len);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_safe_to_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_safe_to_lstring.2">Stack <a class="sectionlink" href="#duk_safe_to_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToString(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_safe_to_lstring.3">Summary <a class="sectionlink" href="#duk_safe_to_lstring.3">§</a></h2>
<p>Like <code><a href="#duk_to_lstring">duk_to_lstring()</a></code> but if
the initial string coercion fails, the error value is coerced to a string.
If that also fails, a fixed error string is returned.</p>
<p>The caller can safely use this function to coerce a value to a string,
which is useful in C code to print out a return value safely with
<code>printf()</code>.  The only uncaught errors possible are out-of-memory
and other internal errors which trigger fatal error handling anyway.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_safe_to_lstring.4">Example <a class="sectionlink" href="#duk_safe_to_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="comment">/* Coercion causes error. */</span>
<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"({ toString: function () { throw new Error('toString error'); } })"</span><span class="symbol">);</span>
<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_safe_to_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s (length %lu)</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; "Error: toString error" */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Coercion causes error, and the error itself cannot be string coerced. */</span>
<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"({ toString: function () { var e = new Error('cannot string coerce me');"</span>
<span class="normal">                     </span><span class="string">"                           e.toString = function () { throw new Error('coercion error'); };"</span>
<span class="normal">                     </span><span class="string">"                           throw e; } })"</span><span class="symbol">);</span>
<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_safe_to_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s (length %lu)</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; "Error" */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_safe_to_lstring.5">See also <a class="sectionlink" href="#duk_safe_to_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_to_lstring">duk_to_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_safe_to_string">
<a href="#duk_safe_to_string"><span class="hidechar">.</span>duk_safe_to_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag apitagprotected" href="#taglist-protected">protected</a>
 <a class="sectionlink" href="#duk_safe_to_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_safe_to_string.1">Prototype <a class="sectionlink" href="#duk_safe_to_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_safe_to_string(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_safe_to_string.2">Stack <a class="sectionlink" href="#duk_safe_to_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToString(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_safe_to_string.3">Summary <a class="sectionlink" href="#duk_safe_to_string.3">§</a></h2>
<p>Like <code><a href="#duk_to_string">duk_to_string()</a></code> but if
the initial string coercion fails, the error value is coerced to a string.
If that also fails, a fixed error string is returned.</p>
<p>The caller can safely use this function to coerce a value to a string,
which is useful in C code to print out a return value safely with
<code>printf()</code>.  The only uncaught errors possible are out-of-memory
and other internal errors which trigger fatal error handling anyway.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_safe_to_string.4">Example <a class="sectionlink" href="#duk_safe_to_string.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Coercion causes error. */</span>
<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"({ toString: function () { throw new Error('toString error'); } })"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* -&gt; "Error: toString error" */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Coercion causes error, and the error itself cannot be string coerced. */</span>
<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"({ toString: function () { var e = new Error('cannot string coerce me');"</span>
<span class="normal">                     </span><span class="string">"                           e.toString = function () { throw new Error('coercion error'); };"</span>
<span class="normal">                     </span><span class="string">"                           throw e; } })"</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_safe_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">));</span><span class="normal">  </span><span class="comment">/* -&gt; "Error" */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_safe_to_string.5">See also <a class="sectionlink" href="#duk_safe_to_string.5">§</a></h2>
<ul>
<li><a href="#duk_to_string">duk_to_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_samevalue">
<a href="#duk_samevalue"><span class="hidechar">.</span>duk_samevalue()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-compare">compare</a>
 <a class="sectionlink" href="#duk_samevalue">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_samevalue.1">Prototype <a class="sectionlink" href="#duk_samevalue.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_samevalue(duk_context *ctx, int idx1, int idx2);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_samevalue</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx1</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_samevalue.2">Stack <a class="sectionlink" href="#duk_samevalue.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_samevalue.3">Summary <a class="sectionlink" href="#duk_samevalue.3">§</a></h2>
<p>Compare values at <code>idx1</code> and <code>idx2</code> for equality.
Returns 1 if values are considered equal using Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.12">SameValue</a>
algorithm (<code>Object.is()</code> in ES2015) semantics, otherwise returns 0.
Also returns 0 if either index is invalid.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_samevalue.4">Example <a class="sectionlink" href="#duk_samevalue.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_samevalue</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">7</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"values at indices -3 and -7 are SameValue() equal</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_set_finalizer">
<a href="#duk_set_finalizer"><span class="hidechar">.</span>duk_set_finalizer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-object">object</a>
<a class="apitag" href="#taglist-finalizer">finalizer</a>
 <a class="sectionlink" href="#duk_set_finalizer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_set_finalizer.1">Prototype <a class="sectionlink" href="#duk_set_finalizer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_set_finalizer(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_set_finalizer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_set_finalizer.2">Stack <a class="sectionlink" href="#duk_set_finalizer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="elem active">finalizer</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_set_finalizer.3">Summary <a class="sectionlink" href="#duk_set_finalizer.3">§</a></h2>
<p>Set the finalizer of the value at <code>idx</code> to the value at
stack top.  If the target value is not an object an error is thrown.  The
finalizer value can be an arbitrary one; non-function values are treated
as if no finalizer was set.  To delete a finalizer from an object, set it
to <code>undefined</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_set_finalizer.4">Example <a class="sectionlink" href="#duk_set_finalizer.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">my_finalizer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* Object being finalized is at stack index 0. */</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"object being finalized</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="cbracket">}</span>

<span class="comment">/* Create an object whose finalizer is my_finalizer(). */</span>
<span class="function">duk_push_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="function">duk_push_c_function</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> my_finalizer</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="normal"> </span><span class="comment">/*nargs*/</span><span class="symbol">);</span>
<span class="function">duk_set_finalizer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_set_finalizer.5">See also <a class="sectionlink" href="#duk_set_finalizer.5">§</a></h2>
<ul>
<li><a href="#duk_get_finalizer">duk_get_finalizer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_set_global_object">
<a href="#duk_set_global_object"><span class="hidechar">.</span>duk_set_global_object()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-sandbox">sandbox</a>
 <a class="sectionlink" href="#duk_set_global_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_set_global_object.1">Prototype <a class="sectionlink" href="#duk_set_global_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_set_global_object(duk_context *ctx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_set_global_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_set_global_object.2">Stack <a class="sectionlink" href="#duk_set_global_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">new_global</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_set_global_object.3">Summary <a class="sectionlink" href="#duk_set_global_object.3">§</a></h2>
<p>Replace the current context's global object with the object on top of the
value stack.  If the value is not an object, an error is thrown.</p>
<p>Note that this operation <b>does not</b> affect the global object of other
contexts, even those that have up to this point shared the same global
environment.  To inherit the change to other contexts, replace the global
object first before calling <code>duk_push_thread()</code>.</p>
<p>See the test case
<a href="https://github.com/svaarala/duktape/blob/master/tests/api/test-set-global-object.c">test-set-global-object.c</a>
for discussion of detailed behavior after the change.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_set_global_object.4">Example <a class="sectionlink" href="#duk_set_global_object.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Build a global object with a subset of bindings. */</span>
<span class="function">duk_eval_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span>
<span class="normal">    </span><span class="string">"({</span><span class="specialchar">\n</span><span class="string">"</span>
<span class="normal">    </span><span class="string">"    print: this.print,</span><span class="specialchar">\n</span><span class="string">"</span>
<span class="normal">    </span><span class="string">"    JSON: this.JSON</span><span class="specialchar">\n</span><span class="string">"</span>
<span class="normal">    </span><span class="string">"})</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>

<span class="comment">/* Replace global object. */</span>
<span class="function">duk_set_global_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_set_length">
<a href="#duk_set_length"><span class="hidechar">.</span>duk_set_length()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_set_length">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_set_length.1">Prototype <a class="sectionlink" href="#duk_set_length.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_set_length(duk_context *ctx, int idx, size_t len);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_set_length</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_set_length.2">Stack <a class="sectionlink" href="#duk_set_length.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_set_length.3">Summary <a class="sectionlink" href="#duk_set_length.3">§</a></h2>
<p>Set "length" for value at <code>idx</code>.  Equivalent to the Ecmascript
statement <code>obj.length = len;</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_set_length.4">Example <a class="sectionlink" href="#duk_set_length.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Set array length to zero, deleting elements as a side effect. */</span>
<span class="function">duk_set_length</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_set_length.5">See also <a class="sectionlink" href="#duk_set_length.5">§</a></h2>
<ul>
<li><a href="#duk_get_length">duk_get_length</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_set_magic">
<a href="#duk_set_magic"><span class="hidechar">.</span>duk_set_magic()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-magic">magic</a>
<a class="apitag" href="#taglist-function">function</a>
 <a class="sectionlink" href="#duk_set_magic">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_set_magic.1">Prototype <a class="sectionlink" href="#duk_set_magic.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_set_magic(duk_context *ctx, int idx, int magic);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_set_magic</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> magic</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_set_magic.2">Stack <a class="sectionlink" href="#duk_set_magic.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_set_magic.3">Summary <a class="sectionlink" href="#duk_set_magic.3">§</a></h2>
<p>Set the 16-bit signed "magic" value associated with the Duktape/C function
at <code>idx</code>.  If the value is not a Duktape/C function, an error is
thrown.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_set_magic.4">Example <a class="sectionlink" href="#duk_set_magic.4">§</a></h2>
<pre class="c-code"><span class="function">duk_set_magic</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0x1234</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_set_magic.5">See also <a class="sectionlink" href="#duk_set_magic.5">§</a></h2>
<ul>
<li><a href="#duk_get_current_magic">duk_get_current_magic</a></li>
<li><a href="#duk_get_magic">duk_get_magic</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_set_prototype">
<a href="#duk_set_prototype"><span class="hidechar">.</span>duk_set_prototype()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-prototype">prototype</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_set_prototype">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_set_prototype.1">Prototype <a class="sectionlink" href="#duk_set_prototype.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_set_prototype(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_set_prototype</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_set_prototype.2">Stack <a class="sectionlink" href="#duk_set_prototype.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="elem active">proto</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_set_prototype.3">Summary <a class="sectionlink" href="#duk_set_prototype.3">§</a></h2>
<p>Set the internal prototype of the value at <code>idx</code> to the value
at stack top (which must be an object or <code>undefined</code>).  If the
target value is not an object or the prototype value is not an object or
<code>undefined</code>, an error is thrown.</p>
<div class="note">
Unlike Ecmascript prototype manipulation primitives, this API call allows
creation of a prototype loop.  Calling code should always avoid creating a
prototype loop: although Duktape detects long or looped prototype chains
and throws an error when it encounters one, such behavior is only intended
as a last resort to avoid an infinite loop.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_set_prototype.4">Example <a class="sectionlink" href="#duk_set_prototype.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Create new object, internal prototype is Object.prototype by default. */</span>
<span class="function">duk_push_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* Change the object's internal prototype to object at index -3. */</span>
<span class="function">duk_dup</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="function">duk_set_prototype</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">2</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* [ obj proto ] -&gt; [ obj ] */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_set_prototype.5">See also <a class="sectionlink" href="#duk_set_prototype.5">§</a></h2>
<ul>
<li><a href="#duk_get_prototype">duk_get_prototype</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_set_top">
<a href="#duk_set_top"><span class="hidechar">.</span>duk_set_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_set_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_set_top.1">Prototype <a class="sectionlink" href="#duk_set_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_set_top(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_set_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_set_top.2">Stack <a class="sectionlink" href="#duk_set_top.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem active ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem active ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_set_top.3">Summary <a class="sectionlink" href="#duk_set_top.3">§</a></h2>
<p>Set stack top (stack size) to match the argument <code>idx</code>,
normalizing negative index values.  If the value stack shrinks,
values above the new stack top are dropped; if the value stack grows,
<code>undefined</code> values are pushed to the new stack slots.</p>
<p>Negative index values are interpreted relative to the current
stack top as in other API calls.  For example, index -1 would
decrease the stack top by one.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_set_top.4">Example <a class="sectionlink" href="#duk_set_top.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Assume stack is empty initially. */</span>

<span class="function">duk_push_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">123</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* -&gt; top=1, stack: [ 123 ] */</span>
<span class="function">duk_set_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">3</span><span class="symbol">);</span><span class="normal">     </span><span class="comment">/* -&gt; top=3, stack: [ 123 undefined undefined ] */</span>
<span class="function">duk_set_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span><span class="normal">    </span><span class="comment">/* -&gt; top=2, stack: [ 123 undefined ] */</span>
<span class="function">duk_set_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span><span class="normal">     </span><span class="comment">/* -&gt; top=0, stack: [ ] */</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_steal_buffer">
<a href="#duk_steal_buffer"><span class="hidechar">.</span>duk_steal_buffer()</a>
<a class="apitag" href="#taglist-1.3.0">1.3.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_steal_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_steal_buffer.1">Prototype <a class="sectionlink" href="#duk_steal_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_steal_buffer(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_steal_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_steal_buffer.2">Stack <a class="sectionlink" href="#duk_steal_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_steal_buffer.3">Summary <a class="sectionlink" href="#duk_steal_buffer.3">§</a></h2>
<p>Steal the current allocation of the dynamic buffer at <code>idx</code>.
In concrete terms, Duktape forgets the previous allocation and resets the
buffer to zero size (and NULL data pointer).  Pointer to the previous
allocation is returned and previous allocation length is written to
<code>out_size</code> if non-NULL.  The dynamic buffer itself remains on the
value stack and can be reused.  The caller becomes responsible for freeing the
previous allocation using <code><a href="#duk_free">duk_free()</a></code>,
otherwise a memory leak happens.  Duktape won't free the previous allocation
through garbage collection or even when the Duktape heap is destroyed.</p>
<p>This API call is useful when a dynamic buffer is used as a safe temporary
in a buffer manipulation algorithm (it's automatically memory managed in case
an error occurs).  At the end of such an algorithm, the caller may want to
steal the buffer so that it won't be freed by Duktape garbage collection even
when the dynamic buffer itself is freed.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_steal_buffer.4">Example <a class="sectionlink" href="#duk_steal_buffer.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_push_dynamic_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">256</span><span class="symbol">);</span><span class="normal">  </span><span class="comment">/* initial size */</span>
<span class="keyword">for</span><span class="normal"> </span><span class="symbol">(;;)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="comment">/* Error prone algorithm, resizes and appends to buffer.  If an error</span>
<span class="comment">     * occurs, the dynamic buffer is automatically freed.</span>
<span class="comment">     */</span>

<span class="normal">    </span><span class="comment">/* ... */</span>
<span class="normal">    </span><span class="function">duk_resize_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> new_size</span><span class="symbol">);</span>
<span class="cbracket">}</span>

<span class="comment">/* Algorithm is done, we want to own the buffer.  The duk_steal_buffer()</span>
<span class="comment"> * API call returns the final data pointer (in case it has been changed</span>
<span class="comment"> * by resizes etc).</span>
<span class="comment"> */</span>
<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_steal_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>

<span class="comment">/* At this point the dynamic buffer is still on the value stack.</span>
<span class="comment"> * Its size is zero and the current allocation is empty.  Here we</span>
<span class="comment"> * just pop it as unneeded.</span>
<span class="comment"> */</span>
<span class="function">duk_pop</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>

<span class="comment">/* ... */</span>

<span class="comment">/* Eventually, when done with the buffer, you must free it yourself,</span>
<span class="comment"> * otherwise memory will be leaked.  Duktape won't free the allocation</span>
<span class="comment"> * automatically, even at Duktape heap destruction.</span>
<span class="comment"> */</span>
<span class="function">duk_free</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_strict_equals">
<a href="#duk_strict_equals"><span class="hidechar">.</span>duk_strict_equals()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-compare">compare</a>
 <a class="sectionlink" href="#duk_strict_equals">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_strict_equals.1">Prototype <a class="sectionlink" href="#duk_strict_equals.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_strict_equals(duk_context *ctx, int idx1, int idx2);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_strict_equals</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx1</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_strict_equals.2">Stack <a class="sectionlink" href="#duk_strict_equals.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_strict_equals.3">Summary <a class="sectionlink" href="#duk_strict_equals.3">§</a></h2>
<p>Compare values at <code>idx1</code> and <code>idx2</code> for equality.
Returns 1 if values are considered equal using Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.4">Strict Equals</a>
operator (<code>===</code>) semantics, otherwise returns 0.  Also returns 0 if either index
is invalid.</p>
<p>Because
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-11.9.6">The Strict Equality Comparison Algorithm</a>
used by the Strict Equals operator performs no value coercion, the comparison cannot have
side effects and cannot throw an error.</p>
<p>Comparison algorithm for Duktape custom types is described in
<a href="http://duktape.org/guide.html#strict-equality-algorithm">Strict equality</a>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_strict_equals.4">Example <a class="sectionlink" href="#duk_strict_equals.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_strict_equals</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">7</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"values at indices -3 and -7 are strictly equal</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_strict_equals.5">See also <a class="sectionlink" href="#duk_strict_equals.5">§</a></h2>
<ul>
<li><a href="#duk_equals">duk_equals</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_substring">
<a href="#duk_substring"><span class="hidechar">.</span>duk_substring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
 <a class="sectionlink" href="#duk_substring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_substring.1">Prototype <a class="sectionlink" href="#duk_substring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_substring(duk_context *ctx, int idx, size_t start_char_offset, size_t end_char_offset);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_substring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> start_char_offset</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> end_char_offset</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_substring.2">Stack <a class="sectionlink" href="#duk_substring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">substr</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_substring.3">Summary <a class="sectionlink" href="#duk_substring.3">§</a></h2>
<p>Replace a string at <code>idx</code> with a substring [<code>start_char_offset</code>,
<code>end_char_offset</code>[ of the string itself.  If the value at <code>idx</code> is
not a string or the index is invalid, throws an error.</p>
<p>The substring operation works with characters, not bytes, and the offsets
are character offsets.  The semantics of this call are similar to
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.15">String.prototype.substring (start, end)</a>.
Offset values are clamped to string length (there is no need to clamp negative
values because <code>size_t</code> is unsigned) and if start offset is larger than
end offset, the result is an empty string.</p>
<div class="note">
To get a byte-oriented substring, use
<code><a href="#duk_get_lstring">duk_get_lstring()</a></code> to get a string data
pointer and length, and
<code><a href="#duk_push_lstring">duk_push_lstring()</a></code> to push a slice of
bytes.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_substring.4">Example <a class="sectionlink" href="#duk_substring.4">§</a></h2>
<pre class="c-code"><span class="comment">/* String at index -3 is 'foobar'.  Substring [2,5[ is "oba". */</span>

<span class="function">duk_substring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="number">2</span><span class="symbol">,</span><span class="normal"> </span><span class="number">5</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"substring: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_get_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_suspend">
<a href="#duk_suspend"><span class="hidechar">.</span>duk_suspend()</a>
<a class="apitag" href="#taglist-1.6.0">1.6.0</a>
<a class="apitag" href="#taglist-thread">thread</a>
 <a class="sectionlink" href="#duk_suspend">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_suspend.1">Prototype <a class="sectionlink" href="#duk_suspend.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_suspend(duk_context *ctx, duk_thread_state *state);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_suspend</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_thread_state</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">state</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_suspend.2">Stack <a class="sectionlink" href="#duk_suspend.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">state(N)</span> <span class="cap">]</span> </span> <span class="stack-comment">(number of pushed stack entries may vary)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_suspend.3">Summary <a class="sectionlink" href="#duk_suspend.3">§</a></h2>
<p>Suspend the current call stack so that another native thread may operate
on the same Duktape heap.  The necessary internal state is stored on the
value stack and/or the provided <code>state</code> allocation.
The <code>state</code> pointer must not be NULL, otherwise memory unsafe
behavior occurs.  Execution must later be resumed using
<code><a href="#duk_resume">duk_resume()</a></code>; if execution is not
resumed later some internal book-keeping will be left in an inconsistent
state.  The native call stack of the current native thread (which calls
<code>duk_suspend()</code>) must not be unwound while Duktape execution
is suspended.</p>
<div class="note">
Duktape does not provide any locking for ensuring only one native thread
accesses a certain Duktape heap at a time.  Application code must provide
such mechanisms.
</div>
<p>See <a href="http://duktape.org/guide.html#threading">Threading</a>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_suspend.4">Example <a class="sectionlink" href="#duk_suspend.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Example of a blocking connect which suspends Duktape execution while the</span>
<span class="comment"> * connect blocks.  The example assumes an external locking mechanism for</span>
<span class="comment"> * ensuring only one native thread accesses the Duktape heap at a time.</span>
<span class="comment"> * When my_blocking_connect() is entered, the currently executing native</span>
<span class="comment"> * thread is assumed to have already obtained the lock.</span>
<span class="comment"> */</span>

<span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">my_blocking_connect</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">duk_thread_state</span><span class="normal"> st</span><span class="symbol">;</span>
<span class="normal">    </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">host</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> port</span><span class="symbol">;</span>
<span class="normal">    </span><span class="type">int</span><span class="normal"> success</span><span class="symbol">;</span>

<span class="normal">    host </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">0</span><span class="symbol">);</span>
<span class="normal">    port </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_require_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>

<span class="normal">    </span><span class="comment">/* Suspend the Duktape thread.  Once duk_suspend() returns you must</span>
<span class="comment">     * not call into the Duktape API before doing a duk_resume().</span>
<span class="comment">     */</span>
<span class="normal">    </span><span class="function">duk_suspend</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">st</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">my_release_lock</span><span class="symbol">();</span>

<span class="normal">    </span><span class="comment">/* Blocks until connect attempt is finished.  Another native thread</span>
<span class="comment">     * may call into Duktape while we're blocked provided that application</span>
<span class="comment">     * guarantees only thread does so at a time.</span>
<span class="comment">     */</span>
<span class="normal">    success </span><span class="symbol">=</span><span class="normal"> </span><span class="function">blocking_connect</span><span class="symbol">(</span><span class="normal">host</span><span class="symbol">,</span><span class="normal"> port</span><span class="symbol">);</span>

<span class="normal">    </span><span class="comment">/* When we want to resume execution we must ensure no other thread is</span>
<span class="comment">     * active for the Duktape heap.  We then call duk_resume() and proceed</span>
<span class="comment">     * normally.</span>
<span class="comment">     */</span>
<span class="normal">    </span><span class="function">my_acquire_lock</span><span class="symbol">();</span>
<span class="normal">    </span><span class="function">duk_resume</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">st</span><span class="symbol">);</span>

<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(!</span><span class="normal">success</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="function">duk_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_ERROR</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"failed to connect"</span><span class="symbol">);</span>
<span class="normal">    </span><span class="cbracket">}</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">0</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_suspend.5">See also <a class="sectionlink" href="#duk_suspend.5">§</a></h2>
<ul>
<li><a href="#duk_resume">duk_resume</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_swap">
<a href="#duk_swap"><span class="hidechar">.</span>duk_swap()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_swap">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_swap.1">Prototype <a class="sectionlink" href="#duk_swap.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_swap(duk_context *ctx, int idx1, int idx2);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_swap</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx1</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx2</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_swap.2">Stack <a class="sectionlink" href="#duk_swap.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_swap.3">Summary <a class="sectionlink" href="#duk_swap.3">§</a></h2>
<p>Swap values at indices <code>idx1</code> and <code>idx2</code>.  If the
indices are the same, the call is a no-op.  If either index is invalid,
throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_swap.4">Example <a class="sectionlink" href="#duk_swap.4">§</a></h2>
<pre class="c-code"><span class="function">duk_swap</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">5</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_swap.5">See also <a class="sectionlink" href="#duk_swap.5">§</a></h2>
<ul>
<li><a href="#duk_swap_top">duk_swap_top</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_swap_top">
<a href="#duk_swap_top"><span class="hidechar">.</span>duk_swap_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_swap_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_swap_top.1">Prototype <a class="sectionlink" href="#duk_swap_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_swap_top(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_swap_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_swap_top.2">Stack <a class="sectionlink" href="#duk_swap_top.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val2</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_swap_top.3">Summary <a class="sectionlink" href="#duk_swap_top.3">§</a></h2>
<p>Swap stack top with value at <code>idx</code>.  If <code>idx</code> refers
to the stack top, the call is a no-op.  If the value stack is empty or
<code>idx</code> is invalid, throws an error.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_swap_top.4">Example <a class="sectionlink" href="#duk_swap_top.4">§</a></h2>
<pre class="c-code"><span class="function">duk_swap_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_syntax_error">
<a href="#duk_syntax_error"><span class="hidechar">.</span>duk_syntax_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_syntax_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_syntax_error.1">Prototype <a class="sectionlink" href="#duk_syntax_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_syntax_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_syntax_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_syntax_error.2">Stack <a class="sectionlink" href="#duk_syntax_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_syntax_error.3">Summary <a class="sectionlink" href="#duk_syntax_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_SYNTAX_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_syntax_error.4">Example <a class="sectionlink" href="#duk_syntax_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_syntax_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_syntax_error.5">See also <a class="sectionlink" href="#duk_syntax_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_syntax_error_va">
<a href="#duk_syntax_error_va"><span class="hidechar">.</span>duk_syntax_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_syntax_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_syntax_error_va.1">Prototype <a class="sectionlink" href="#duk_syntax_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_syntax_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_syntax_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_syntax_error_va.2">Stack <a class="sectionlink" href="#duk_syntax_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_syntax_error_va.3">Summary <a class="sectionlink" href="#duk_syntax_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_SYNTAX_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_syntax_error_va.4">Example <a class="sectionlink" href="#duk_syntax_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_syntax_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_syntax_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_syntax_error_va.5">See also <a class="sectionlink" href="#duk_syntax_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_throw">
<a href="#duk_throw"><span class="hidechar">.</span>duk_throw()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_throw">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_throw.1">Prototype <a class="sectionlink" href="#duk_throw.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_throw(duk_context *ctx);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_throw</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_throw.2">Stack <a class="sectionlink" href="#duk_throw.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_throw.3">Summary <a class="sectionlink" href="#duk_throw.3">§</a></h2>
<p>Throw the value on top of the stack.  This call never returns.</p>
<p>Even though the function never returns, the prototype describes a return
value which allows code such as:</p>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">argvalue </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">0</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">duk_push_error_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> DUK_ERR_TYPE_ERROR</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"invalid argument: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argvalue</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_throw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_throw.4">Example <a class="sectionlink" href="#duk_throw.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Throw a string value; equivalent to the Ecmascript code:</span>
<span class="comment"> *</span>
<span class="comment"> *   throw "this string is thrown";</span>
<span class="comment"> */</span>

<span class="function">duk_push_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"this string is thrown"</span><span class="symbol">);</span>
<span class="function">duk_throw</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_throw.5">See also <a class="sectionlink" href="#duk_throw.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
<li><a href="#duk_push_error_object">duk_push_error_object</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_time_to_components">
<a href="#duk_time_to_components"><span class="hidechar">.</span>duk_time_to_components()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-time">time</a>
<a class="apitag apitagwarn" href="#taglist-experimental">experimental</a>
 <a class="sectionlink" href="#duk_time_to_components">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_time_to_components.1">Prototype <a class="sectionlink" href="#duk_time_to_components.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_time_to_components(duk_context *ctx, double time, duk_time_components *comp);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_time_to_components</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_double_t</span><span class="normal"> time</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_time_components</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">comp</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_time_to_components.2">Stack <a class="sectionlink" href="#duk_time_to_components.2">§</a></h2>
<p>(No effect on value stack.)</p>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_time_to_components.3">Summary <a class="sectionlink" href="#duk_time_to_components.3">§</a></h2>
<p>Convert a time value to components (year, month, day, etc) interpreted
in UTC.  If the time value is invalid, e.g. beyond the valid Ecmascript
time range, an error is thrown.</p>
<p>There are some differences to the Ecmascript <code>Date</code> UTC
accessors like <code>Date.prototype.getUTCMinutes()</code>:</p>
<ul>
<li>The time value is allowed to have fractions (sub-millisecond
    resolution) so that the millisecond component may also have
    fractions.</li>
</ul>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_time_to_components.4">Example <a class="sectionlink" href="#duk_time_to_components.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_double_t</span><span class="normal"> time </span><span class="symbol">=</span><span class="normal"> </span><span class="number">1451703845006.0</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* 2016-01-02 03:04:05.006Z */</span>
<span class="usertype">duk_time_components</span><span class="normal"> comp</span><span class="symbol">;</span>
<span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">weekdays</span><span class="symbol">[</span><span class="number">7</span><span class="symbol">]</span><span class="normal"> </span><span class="symbol">=</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">  </span><span class="string">"Sunday"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Monday"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Tuesday"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Wednesday"</span><span class="symbol">,</span>
<span class="normal">  </span><span class="string">"Thursday"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Friday"</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"Saturday"</span>
<span class="cbracket">}</span><span class="symbol">;</span>

<span class="comment">/* Note that month is zero-based to match the Ecmascript API, so for</span>
<span class="comment"> * human readable printing add 1 to the month.  Time components are</span>
<span class="comment"> * IEEE doubles to match Ecmascript Date behavior.</span>
<span class="comment"> */</span>
<span class="function">duk_time_components</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> time</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">comp</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"Datetime: %04d-%02d-%02d %02d:%02d:%02d.%03dZ</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span>
<span class="normal">       </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">year</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">month </span><span class="symbol">+</span><span class="normal"> </span><span class="number">1</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">day</span><span class="symbol">,</span>
<span class="normal">       </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">hours</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">minutes</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">seconds</span><span class="symbol">,</span>
<span class="normal">       </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">milliseconds</span><span class="symbol">);</span>

<span class="function">printf</span><span class="symbol">(</span><span class="string">"Weekday is: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> weekdays</span><span class="symbol">[(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> comp</span><span class="symbol">.</span><span class="normal">weekday</span><span class="symbol">]);</span><span class="normal">  </span><span class="comment">/* 0=Sunday */</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_time_to_components.5">See also <a class="sectionlink" href="#duk_time_to_components.5">§</a></h2>
<ul>
<li><a href="#duk_components_to_time">duk_components_to_time</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_boolean">
<a href="#duk_to_boolean"><span class="hidechar">.</span>duk_to_boolean()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_boolean">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_boolean.1">Prototype <a class="sectionlink" href="#duk_to_boolean.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_to_boolean(duk_context *ctx, int idx);"><span class="usertype">duk_bool_t</span><span class="normal"> </span><span class="function">duk_to_boolean</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_boolean.2">Stack <a class="sectionlink" href="#duk_to_boolean.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToBoolean(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_boolean.3">Summary <a class="sectionlink" href="#duk_to_boolean.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.2">ToBoolean()</a>
coerced value.  Returns 1 if the result of the coercion <code>true</code>, 0 otherwise.
If <code>idx</code> is invalid, throws an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_boolean.4">Example <a class="sectionlink" href="#duk_to_boolean.4">§</a></h2>
<pre class="c-code"><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="function">duk_to_boolean</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">))</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced value is true</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_buffer">
<a href="#duk_to_buffer"><span class="hidechar">.</span>duk_to_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_to_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_buffer.1">Prototype <a class="sectionlink" href="#duk_to_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_to_buffer(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_to_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_buffer.2">Stack <a class="sectionlink" href="#duk_to_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">buffer(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_buffer.3">Summary <a class="sectionlink" href="#duk_to_buffer.3">§</a></h2>
<p>Replace the value at <code>idx</code> with a buffer-coerced value.  Returns
a pointer to the buffer data (may be <code>NULL</code> for a zero-size buffer),
and writes the size of the buffer into <code>*out_size</code> (if <code>out_size</code>
is non-<code>NULL</code>).  If <code>idx</code> is invalid, throws an error.</p>
<p>Coercion rules:</p>
<ul>
<li>Buffer: no change, dynamic/fixed/external nature not changed</li>
<li>String: coerces into a fixed size buffer, byte-for-byte</li>
<li>Other types: first apply Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.8">ToString()</a>,
then coerce into a fixed size buffer, byte-for-byte</li>
</ul>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_buffer.4">Example <a class="sectionlink" href="#duk_to_buffer.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_to_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced data at %p, size %lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_to_buffer.5">See also <a class="sectionlink" href="#duk_to_buffer.5">§</a></h2>
<ul>
<li><a href="#duk_to_fixed_buffer">duk_to_fixed_buffer</a></li>
<li><a href="#duk_to_dynamic_buffer">duk_to_dynamic_buffer</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_dynamic_buffer">
<a href="#duk_to_dynamic_buffer"><span class="hidechar">.</span>duk_to_dynamic_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_to_dynamic_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_dynamic_buffer.1">Prototype <a class="sectionlink" href="#duk_to_dynamic_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_to_dynamic_buffer(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_to_dynamic_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_dynamic_buffer.2">Stack <a class="sectionlink" href="#duk_to_dynamic_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_dynamic_buffer.3">Summary <a class="sectionlink" href="#duk_to_dynamic_buffer.3">§</a></h2>
<p>Like <code><a href="#duk_to_buffer">duk_to_buffer()</a></code> but the
result is always a dynamic buffer (unless an error is thrown).  If the value
is a fixed or an external buffer, convert it to a dynamic buffer.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_dynamic_buffer.4">Example <a class="sectionlink" href="#duk_to_dynamic_buffer.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_to_dynamic_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_fixed_buffer">
<a href="#duk_to_fixed_buffer"><span class="hidechar">.</span>duk_to_fixed_buffer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-buffer">buffer</a>
 <a class="sectionlink" href="#duk_to_fixed_buffer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_fixed_buffer.1">Prototype <a class="sectionlink" href="#duk_to_fixed_buffer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_to_fixed_buffer(duk_context *ctx, int idx, size_t *out_size);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_to_fixed_buffer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_size</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_fixed_buffer.2">Stack <a class="sectionlink" href="#duk_to_fixed_buffer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_fixed_buffer.3">Summary <a class="sectionlink" href="#duk_to_fixed_buffer.3">§</a></h2>
<p>Like <code><a href="#duk_to_buffer">duk_to_buffer()</a></code> but if
the value is a dynamic or an external buffer, convert it to a fixed buffer.
The result is thus always a fixed buffer (unless an error is thrown).</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_fixed_buffer.4">Example <a class="sectionlink" href="#duk_to_fixed_buffer.4">§</a></h2>
<pre class="c-code"><span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>
<span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">buf </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_to_fixed_buffer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_int">
<a href="#duk_to_int"><span class="hidechar">.</span>duk_to_int()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_int">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_int.1">Prototype <a class="sectionlink" href="#duk_to_int.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_to_int(duk_context *ctx, int index);"><span class="usertype">duk_int_t</span><span class="normal"> </span><span class="function">duk_to_int</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> index</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_int.2">Stack <a class="sectionlink" href="#duk_to_int.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToNumber(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_int.3">Summary <a class="sectionlink" href="#duk_to_int.3">§</a></h2>
<p>Replace the value at <code>index</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.4">ToInteger()</a>
coerced value.  Returns an <code>duk_int_t</code> further coerced from the <code>ToInteger()</code>
result using the algorithm described in
<code><a href="#duk_get_int">duk_get_int()</a></code> (this second coercion is not
reflected in the new stack value).  If <code>index</code> is invalid, throws an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
<p>If you want the <code>double</code> version of the <code>ToInteger()</code> coerced value,
use:</p>
<pre class="c-code"><span class="type">double</span><span class="normal"> d</span><span class="symbol">;</span>

<span class="symbol">(</span><span class="type">void</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
<span class="normal">d </span><span class="symbol">=</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
<div class="note">
<code>duk_get_int()</code> int coercion is applied only to the return value, it is not
reflected on the value stack.  For instance, if value stack contains the string
<code>"Infinity"</code>, the value on the stack will be coerced to the number
<code>Infinity</code> and <code>DUK_INT_MAX</code> will be returned from the API call.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_int.4">Example <a class="sectionlink" href="#duk_to_int.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"ToInteger() + int coercion: %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_int</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"ToInteger() coercion: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_int32">
<a href="#duk_to_int32"><span class="hidechar">.</span>duk_to_int32()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_int32">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_int32.1">Prototype <a class="sectionlink" href="#duk_to_int32.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int32_t duk_to_int32(duk_context *ctx, int idx);"><span class="usertype">duk_int32_t</span><span class="normal"> </span><span class="function">duk_to_int32</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_int32.2">Stack <a class="sectionlink" href="#duk_to_int32.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToInt32(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_int32.3">Summary <a class="sectionlink" href="#duk_to_int32.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.5">ToInt32()</a>
coerced value.  Returns the coerced value.  If <code>idx</code> is invalid, throws
an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_int32.4">Example <a class="sectionlink" href="#duk_to_int32.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"ToInt32(): %ld</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_int32</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_lstring">
<a href="#duk_to_lstring"><span class="hidechar">.</span>duk_to_lstring()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_lstring">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_lstring.1">Prototype <a class="sectionlink" href="#duk_to_lstring.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_to_lstring(duk_context *ctx, int idx, size_t *out_len);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_to_lstring</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_size_t</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">out_len</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_lstring.2">Stack <a class="sectionlink" href="#duk_to_lstring.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToString(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_lstring.3">Summary <a class="sectionlink" href="#duk_to_lstring.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.8">ToString()</a>
coerced value.  Returns a non-<code>NULL</code> pointer to the read-only,
NUL-terminated string data, and writes the string byte length to <code>*out_len</code>
(if <code>out_len</code> is non-<code>NULL</code>).  If <code>idx</code> is invalid, throws
an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_lstring.4">Example <a class="sectionlink" href="#duk_to_lstring.4">§</a></h2>
<pre class="c-code"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ptr</span><span class="symbol">;</span>
<span class="usertype">duk_size_t</span><span class="normal"> sz</span><span class="symbol">;</span>

<span class="normal">ptr </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_to_lstring</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">&amp;</span><span class="normal">sz</span><span class="symbol">);</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s (length %lu)</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> ptr</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> sz</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_to_lstring.5">See also <a class="sectionlink" href="#duk_to_lstring.5">§</a></h2>
<ul>
<li><a href="#duk_safe_to_lstring">duk_safe_to_lstring</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_null">
<a href="#duk_to_null"><span class="hidechar">.</span>duk_to_null()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_null">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_null.1">Prototype <a class="sectionlink" href="#duk_to_null.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_to_null(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_to_null</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_null.2">Stack <a class="sectionlink" href="#duk_to_null.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">null</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_null.3">Summary <a class="sectionlink" href="#duk_to_null.3">§</a></h2>
<p>Replace the value at <code>idx</code> with <code>null</code>, regardless
of the previous value.  Throws an error if index is invalid.</p>
<div class="note">
Equivalent to <code>duk_push_null()</code> followed by <code>duk_replace()</code>
to target index.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_null.4">Example <a class="sectionlink" href="#duk_to_null.4">§</a></h2>
<pre class="c-code"><span class="function">duk_to_null</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_number">
<a href="#duk_to_number"><span class="hidechar">.</span>duk_to_number()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_number">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_number.1">Prototype <a class="sectionlink" href="#duk_to_number.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): double duk_to_number(duk_context *ctx, int idx);"><span class="usertype">duk_double_t</span><span class="normal"> </span><span class="function">duk_to_number</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_number.2">Stack <a class="sectionlink" href="#duk_to_number.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToNumber(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_number.3">Summary <a class="sectionlink" href="#duk_to_number.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.3">ToNumber()</a>
coerced value.  Returns the coerced value.  If <code>idx</code> is invalid, throws
an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_number.4">Example <a class="sectionlink" href="#duk_to_number.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced number: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_object">
<a href="#duk_to_object"><span class="hidechar">.</span>duk_to_object()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-object">object</a>
 <a class="sectionlink" href="#duk_to_object">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_object.1">Prototype <a class="sectionlink" href="#duk_to_object.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_to_object(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_to_object</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_object.2">Stack <a class="sectionlink" href="#duk_to_object.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToObject(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_object.3">Summary <a class="sectionlink" href="#duk_to_object.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.9">ToObject()</a>
coerced value.  There is no return value.  Throws an error if value at
<code>idx</code> is not
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.10">object coercible</a>,
or if <code>idx</code> is invalid.</p>
<p>The following types are not object coercible:</p>
<ul>
<li><code>undefined</code></li>
<li><code>null</code></li>
</ul>
<p>Custom type behavior: see
<a href="http://duktape.org/guide.html#typealgorithms">Type algorithms</a>.
Note in particular that plain buffer values coerce into equivalent
Uint8Array objects.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_object.4">Example <a class="sectionlink" href="#duk_to_object.4">§</a></h2>
<pre class="c-code"><span class="function">duk_to_object</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_pointer">
<a href="#duk_to_pointer"><span class="hidechar">.</span>duk_to_pointer()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_pointer">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_pointer.1">Prototype <a class="sectionlink" href="#duk_to_pointer.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void *duk_to_pointer(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_to_pointer</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_pointer.2">Stack <a class="sectionlink" href="#duk_to_pointer.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">pointer(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_pointer.3">Summary <a class="sectionlink" href="#duk_to_pointer.3">§</a></h2>
<p>Replaces the value at <code>idx</code> with a pointer-coerced value.  Returns
the resulting <code>void *</code> value.  If <code>idx</code> is invalid, throws an
error.</p>
<p>Coercion rules:</p>
<ul>
<li>Pointer: coerces to itself, no change</li>
<li>All heap allocated objects (string, object, buffer): coerce to a pointer
    which points to the Duktape internal heap header (use for debugging only,
    do not read/write)</li>
<li>Other types: coerce to NULL</li>
</ul>
<div class="note">
This API call is really only useful for debugging.  Note in particular that
the pointer returned must not be accessed, as it points to an internal heap
header.  This is the case even for string/buffer values: the returned pointer
differs from the one returned by <code>duk_get_string()</code> and
<code>duk_get_buffer()</code>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_pointer.4">Example <a class="sectionlink" href="#duk_to_pointer.4">§</a></h2>
<pre class="c-code"><span class="comment">/* Don't dereference the pointer. */</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced pointer: %p</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_pointer</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_primitive">
<a href="#duk_to_primitive"><span class="hidechar">.</span>duk_to_primitive()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_primitive">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_primitive.1">Prototype <a class="sectionlink" href="#duk_to_primitive.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_to_primitive(duk_context *ctx, int idx, int hint);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_to_primitive</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_int_t</span><span class="normal"> hint</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_primitive.2">Stack <a class="sectionlink" href="#duk_to_primitive.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToPrimitive(val)</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_primitive.3">Summary <a class="sectionlink" href="#duk_to_primitive.3">§</a></h2>
<p>Replace the object at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.1">ToPrimitive()</a>
coerced value.  The <code>hint</code> argument affects coercion of an object into a
primitive type, and indicates preference for a string (<code>DUK_HINT_STRING</code>),
a number (<code>DUK_HINT_NUMBER</code>), or neither (<code>DUK_HINT_NONE</code>).
<code>DUK_HINT_NONE</code> causes a preference to a number, unless the input value
is a <code>Date</code> instance, in which case a string is preferred (the exact
coercion behavior is described in the Ecmascript specification).  If <code>idx</code>
is invalid, throws an error.</p>
<p>Custom type coercion:</p>
<ul>
<li>Buffer value (plain): treated like an Uint8Array and usually
    coerces to the string <code>[object Uint8Array]</code></li>
<li>Pointer value (plain): keep existing value</li>
<li>Pointer object: coerces to the underlying plain pointer value</li>
<li>Lightfunc value (plain): treated like a Function and usually
    coerces to the string <code>[object Function]</code></li>
</ul>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_primitive.4">Example <a class="sectionlink" href="#duk_to_primitive.4">§</a></h2>
<pre class="c-code"><span class="function">duk_to_primitive</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">,</span><span class="normal"> DUK_HINT_NUMBER</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_string">
<a href="#duk_to_string"><span class="hidechar">.</span>duk_to_string()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_string">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_string.1">Prototype <a class="sectionlink" href="#duk_to_string.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): const char *duk_to_string(duk_context *ctx, int idx);"><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_string.2">Stack <a class="sectionlink" href="#duk_to_string.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToString(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_string.3">Summary <a class="sectionlink" href="#duk_to_string.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.8">ToString()</a>
coerced value.  Returns a non-<code>NULL</code> pointer to the read-only,
NUL-terminated string data.  If <code>idx</code> is invalid, throws an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
<div class="note">
ToString() coercion for a Symbol value causes a TypeError.
</div>
<div class="note">
In Duktape 2.x plain buffers mimic Uint8Array objects and will usually
ToString() coerce to "[object Uint8Array]".  To convert buffer or buffer
object contents into a string, use
<code><a href="#duk_buffer_to_string">duk_buffer_to_string()</a></code>
(new in Duktape 2.0).
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_string.4">Example <a class="sectionlink" href="#duk_to_string.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"coerced string: %s</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="function">duk_to_string</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_to_string.5">See also <a class="sectionlink" href="#duk_to_string.5">§</a></h2>
<ul>
<li><a href="#duk_safe_to_string">duk_safe_to_string</a></li>
<li><a href="#duk_buffer_to_string">duk_buffer_to_string</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_uint">
<a href="#duk_to_uint"><span class="hidechar">.</span>duk_to_uint()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_uint">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_uint.1">Prototype <a class="sectionlink" href="#duk_to_uint.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): unsigned int duk_to_uint(duk_context *ctx, int idx);"><span class="usertype">duk_uint_t</span><span class="normal"> </span><span class="function">duk_to_uint</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_uint.2">Stack <a class="sectionlink" href="#duk_to_uint.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToNumber(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_uint.3">Summary <a class="sectionlink" href="#duk_to_uint.3">§</a></h2>
<p>Like <code><a href="#duk_to_int">duk_to_int()</a></code> but the return value
coercion is the same as in <code><a href="#duk_get_uint">duk_get_uint()</a></code>.</p>
<div class="note">
<code>duk_get_uint()</code> int coercion is applied only to the return value, it is not
reflected on the value stack.  For instance, if value stack contains the string
<code>"Infinity"</code>, the value on the stack will be coerced to the number
<code>Infinity</code> and <code>DUK_UINT_MAX</code> will be returned from the API call.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_uint.4">Example <a class="sectionlink" href="#duk_to_uint.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"ToInteger() + uint coercion: %lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_uint</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
<span class="function">printf</span><span class="symbol">(</span><span class="string">"ToInteger() coercion: %lf</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">double</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_get_number</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_uint16">
<a href="#duk_to_uint16"><span class="hidechar">.</span>duk_to_uint16()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_uint16">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_uint16.1">Prototype <a class="sectionlink" href="#duk_to_uint16.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): uint16_t duk_to_uint16(duk_context *ctx, int idx);"><span class="usertype">duk_uint16_t</span><span class="normal"> </span><span class="function">duk_to_uint16</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_uint16.2">Stack <a class="sectionlink" href="#duk_to_uint16.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToUint16(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_uint16.3">Summary <a class="sectionlink" href="#duk_to_uint16.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.7">ToUint16()</a>
coerced value.  Returns the coerced value.  If <code>idx</code> is invalid, throws
an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_uint16.4">Example <a class="sectionlink" href="#duk_to_uint16.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"ToUint16(): %u</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">int</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_uint16</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_uint32">
<a href="#duk_to_uint32"><span class="hidechar">.</span>duk_to_uint32()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_uint32">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_uint32.1">Prototype <a class="sectionlink" href="#duk_to_uint32.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): uint32_t duk_to_uint32(duk_context *ctx, int idx);"><span class="usertype">duk_uint32_t</span><span class="normal"> </span><span class="function">duk_to_uint32</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_uint32.2">Stack <a class="sectionlink" href="#duk_to_uint32.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">ToUint32(val)</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_uint32.3">Summary <a class="sectionlink" href="#duk_to_uint32.3">§</a></h2>
<p>Replace the value at <code>idx</code> with an Ecmascript
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.6">ToUint32()</a>
coerced value.  Returns the coerced value.  If <code>idx</code> is invalid, throws
an error.</p>
<div>
<p>Custom type coercion is described in
<a href="http://duktape.org/guide.html#type-conversion-and-testing">Type conversion and testing</a>.</p>
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_uint32.4">Example <a class="sectionlink" href="#duk_to_uint32.4">§</a></h2>
<pre class="c-code"><span class="function">printf</span><span class="symbol">(</span><span class="string">"ToUint32(): %lu</span><span class="specialchar">\n</span><span class="string">"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">unsigned</span><span class="normal"> </span><span class="type">long</span><span class="symbol">)</span><span class="normal"> </span><span class="function">duk_to_uint32</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">));</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_to_undefined">
<a href="#duk_to_undefined"><span class="hidechar">.</span>duk_to_undefined()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_to_undefined">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_to_undefined.1">Prototype <a class="sectionlink" href="#duk_to_undefined.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_to_undefined(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_to_undefined</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_to_undefined.2">Stack <a class="sectionlink" href="#duk_to_undefined.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active literal">undefined</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_to_undefined.3">Summary <a class="sectionlink" href="#duk_to_undefined.3">§</a></h2>
<p>Replace the value at <code>idx</code> with <code>undefined</code>, regardless
of the previous value.  Throws an error if index is invalid.</p>
<div class="note">
Equivalent to <code>duk_push_undefined()</code> followed by <code>duk_replace()</code>
to target index.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_to_undefined.4">Example <a class="sectionlink" href="#duk_to_undefined.4">§</a></h2>
<pre class="c-code"><span class="function">duk_to_undefined</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_trim">
<a href="#duk_trim"><span class="hidechar">.</span>duk_trim()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-string">string</a>
<a class="apitag" href="#taglist-stack">stack</a>
 <a class="sectionlink" href="#duk_trim">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_trim.1">Prototype <a class="sectionlink" href="#duk_trim.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_trim(duk_context *ctx, int idx);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_trim</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> idx</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_trim.2">Stack <a class="sectionlink" href="#duk_trim.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">str</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">trimmed_str</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_trim.3">Summary <a class="sectionlink" href="#duk_trim.3">§</a></h2>
<p>Trim string at <code>idx</code>.  If the value at <code>idx</code> is not a
string or the index is invalid, throws an error.</p>
<p>Trimming removes white space characters from the beginning and
end the end of the string.  The result is an empty string if the string
consists entirely of white space characters.
The set of characters considered to be white space is defined by the
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-9.3.1">StrWhiteSpace</a>
production, which contains both
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-7.2">WhiteSpace</a> and
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-7.3">LineTerminator</a> characters.
The trimming behavior matches those of
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.20">String.prototype.trim()</a>,
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.2.2">parseInt()</a>, and
<a href="http://www.ecma-international.org/ecma-262/5.1/#sec-15.1.2.3">parseFloat()</a>.
</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_trim.4">Example <a class="sectionlink" href="#duk_trim.4">§</a></h2>
<pre class="c-code"><span class="function">duk_trim</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">3</span><span class="symbol">);</span>
</pre>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_type_error">
<a href="#duk_type_error"><span class="hidechar">.</span>duk_type_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_type_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_type_error.1">Prototype <a class="sectionlink" href="#duk_type_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_type_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_type_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_type_error.2">Stack <a class="sectionlink" href="#duk_type_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_type_error.3">Summary <a class="sectionlink" href="#duk_type_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_TYPE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_type_error.4">Example <a class="sectionlink" href="#duk_type_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_type_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_type_error.5">See also <a class="sectionlink" href="#duk_type_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_type_error_va">
<a href="#duk_type_error_va"><span class="hidechar">.</span>duk_type_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_type_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_type_error_va.1">Prototype <a class="sectionlink" href="#duk_type_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_type_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_type_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_type_error_va.2">Stack <a class="sectionlink" href="#duk_type_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_type_error_va.3">Summary <a class="sectionlink" href="#duk_type_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_TYPE_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_type_error_va.4">Example <a class="sectionlink" href="#duk_type_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_type_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_type_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_type_error_va.5">See also <a class="sectionlink" href="#duk_type_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_uri_error">
<a href="#duk_uri_error"><span class="hidechar">.</span>duk_uri_error()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_uri_error">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_uri_error.1">Prototype <a class="sectionlink" href="#duk_uri_error.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_uri_error(duk_context *ctx, const char *fmt, ...);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_uri_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_uri_error.2">Stack <a class="sectionlink" href="#duk_uri_error.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_uri_error.3">Summary <a class="sectionlink" href="#duk_uri_error.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error">duk_error()</a></code> with an error code
<code>DUK_ERR_URI_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_uri_error.4">Example <a class="sectionlink" href="#duk_uri_error.4">§</a></h2>
<pre class="c-code"><span class="keyword">return</span><span class="normal"> </span><span class="function">duk_uri_error</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="string">"my error: %d"</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">(</span><span class="type">int</span><span class="symbol">)</span><span class="normal"> argval</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_uri_error.5">See also <a class="sectionlink" href="#duk_uri_error.5">§</a></h2>
<ul>
<li><a href="#duk_error">duk_error</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_uri_error_va">
<a href="#duk_uri_error_va"><span class="hidechar">.</span>duk_uri_error_va()</a>
<a class="apitag" href="#taglist-2.0.0">2.0.0</a>
<a class="apitag" href="#taglist-vararg">vararg</a>
<a class="apitag" href="#taglist-error">error</a>
 <a class="sectionlink" href="#duk_uri_error_va">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_uri_error_va.1">Prototype <a class="sectionlink" href="#duk_uri_error_va.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): int duk_uri_error_va(duk_context *ctx, const char *fmt, va_list ap);"><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">duk_uri_error_va</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_uri_error_va.2">Stack <a class="sectionlink" href="#duk_uri_error_va.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">err</span> <span class="cap">]</span> </span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_uri_error_va.3">Summary <a class="sectionlink" href="#duk_uri_error_va.3">§</a></h2>
<p>Convenience API call, equivalent to
<code><a href="#duk_error_va">duk_error_va()</a></code> with an error code
<code>DUK_ERR_URI_ERROR</code>.</p>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_uri_error_va.4">Example <a class="sectionlink" href="#duk_uri_error_va.4">§</a></h2>
<pre class="c-code"><span class="type">void</span><span class="normal"> </span><span class="function">my_uri_error</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="keyword">const</span><span class="normal"> </span><span class="type">char</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">fmt</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">...)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">va_list</span><span class="normal"> ap</span><span class="symbol">;</span>

<span class="normal">    </span><span class="function">va_start</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_uri_error_va</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> fmt</span><span class="symbol">,</span><span class="normal"> ap</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">va_end</span><span class="symbol">(</span><span class="normal">ap</span><span class="symbol">);</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_uri_error_va.5">See also <a class="sectionlink" href="#duk_uri_error_va.5">§</a></h2>
<ul>
<li><a href="#duk_error_va">duk_error_va</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_xcopy_top">
<a href="#duk_xcopy_top"><span class="hidechar">.</span>duk_xcopy_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-slice">slice</a>
 <a class="sectionlink" href="#duk_xcopy_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_xcopy_top.1">Prototype <a class="sectionlink" href="#duk_xcopy_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_xcopy_top(duk_context *to_ctx, duk_context *from_ctx, int count);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_xcopy_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">to_ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">from_ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> count</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_xcopy_top.2">Stack <a class="sectionlink" href="#duk_xcopy_top.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="stack-comment">(on source stack, from_ctx)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="stack-comment">(on target stack, to_ctx)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_xcopy_top.3">Summary <a class="sectionlink" href="#duk_xcopy_top.3">§</a></h2>
<p>Like <code><a href="#duk_xmove_top">duk_xmove_top()</a></code> but the elements being
copied are not popped of the source stack.
<b>Both source and target stack must reside in the same Duktape heap</b>.</p>
<div class="note">
The order of from/to stack is reversed as compared to Lua's
<a href="http://pgl.yoyo.org/luai/i/lua_xmove">lua_xmove()</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_xcopy_top.4">Example <a class="sectionlink" href="#duk_xcopy_top.4">§</a></h2>
<pre class="c-code"><span class="function">duk_xcopy_top</span><span class="symbol">(</span><span class="normal">new_ctx</span><span class="symbol">,</span><span class="normal"> ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">7</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_xcopy_top.5">See also <a class="sectionlink" href="#duk_xcopy_top.5">§</a></h2>
<ul>
<li><a href="#duk_xmove_top">duk_xmove_top</a></li>
</ul>
</div>
</div><hr/><h1 class="apih1 sectiontitle" id="duk_xmove_top">
<a href="#duk_xmove_top"><span class="hidechar">.</span>duk_xmove_top()</a>
<a class="apitag" href="#taglist-1.0.0">1.0.0</a>
<a class="apitag" href="#taglist-stack">stack</a>
<a class="apitag" href="#taglist-slice">slice</a>
 <a class="sectionlink" href="#duk_xmove_top">§</a></h1><div class="api-call">
<div class="api-part">
<h2 class="api-proto sectiontitle" id="duk_xmove_top.1">Prototype <a class="sectionlink" href="#duk_xmove_top.1">§</a></h2>
<pre class="c-code" title="C99/C++11 (32-bit): void duk_xmove_top(duk_context *to_ctx, duk_context *from_ctx, int count);"><span class="type">void</span><span class="normal"> </span><span class="function">duk_xmove_top</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">to_ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">from_ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="usertype">duk_idx_t</span><span class="normal"> count</span><span class="symbol">);</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-stack sectiontitle" id="duk_xmove_top.2">Stack <a class="sectionlink" href="#duk_xmove_top.2">§</a></h2>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="stack-comment">(on source stack, from_ctx)</span> </div>
<div class="stack-wrapper"> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="cap">]</span> </span> <span class="arrow"><b>→</b></span> <span class="stack"> <span class="cap">[</span> <span class="elem ellipsis">. . .</span> <span class="elem active">val1</span> <span class="elem active ellipsis">. . .</span> <span class="elem active">valN</span> <span class="cap">]</span> </span> <span class="stack-comment">(on target stack, to_ctx)</span> </div>
</div>
<div class="api-part">
<h2 class="api-summary sectiontitle" id="duk_xmove_top.3">Summary <a class="sectionlink" href="#duk_xmove_top.3">§</a></h2>
<p>Remove <code>count</code> arguments from the top of the source stack and push
them onto the target stack.  The caller must ensure that the target stack has
enough allocated space with e.g.
<code><a href="#duk_require_stack">duk_require_stack()</a></code>.  <b>Both source
and target stack must reside in the same Duktape heap</b>.</p>
<p>If the source and target stacks are the same, an error is currently thrown.</p>
<div class="note">
The order of from/to stack is reversed as compared to Lua's
<a href="http://pgl.yoyo.org/luai/i/lua_xmove">lua_xmove()</a>.
</div>
</div>
<div class="api-part">
<h2 class="api-example sectiontitle" id="duk_xmove_top.4">Example <a class="sectionlink" href="#duk_xmove_top.4">§</a></h2>
<pre class="c-code"><span class="comment">/* A Duktape/C function which executes a given function in a new thread.</span>
<span class="comment"> */</span>
<span class="keyword">static</span><span class="normal"> </span><span class="usertype">duk_ret_t</span><span class="normal"> </span><span class="function">call_in_thread</span><span class="symbol">(</span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">ctx</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">    </span><span class="usertype">duk_idx_t</span><span class="normal"> nargs</span><span class="symbol">;</span>
<span class="normal">    </span><span class="usertype">duk_context</span><span class="normal"> </span><span class="symbol">*</span><span class="normal">new_ctx</span><span class="symbol">;</span>

<span class="normal">    </span><span class="comment">/* Arguments: func, arg1, ... argN. */</span>
<span class="normal">    nargs </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_get_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">if</span><span class="normal"> </span><span class="symbol">(</span><span class="normal">nargs </span><span class="symbol">&lt;</span><span class="normal"> </span><span class="number">1</span><span class="symbol">)</span><span class="normal"> </span><span class="cbracket">{</span>
<span class="normal">        </span><span class="keyword">return</span><span class="normal"> DUK_RET_TYPE_ERROR</span><span class="symbol">;</span><span class="normal">  </span><span class="comment">/* missing func argument */</span>
<span class="normal">    </span><span class="cbracket">}</span>

<span class="normal">    </span><span class="comment">/* Create a new context. */</span>
<span class="normal">    </span><span class="function">duk_push_thread</span><span class="symbol">();</span>
<span class="normal">    new_ctx </span><span class="symbol">=</span><span class="normal"> </span><span class="function">duk_require_context</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="symbol">-</span><span class="number">1</span><span class="symbol">);</span>

<span class="normal">    </span><span class="comment">/* Move arguments to the new context.  Note that we need to extend</span>
<span class="comment">     * the target stack allocation explicitly.</span>
<span class="comment">     */</span>
<span class="normal">    </span><span class="function">duk_require_stack</span><span class="symbol">(</span><span class="normal">new_ctx</span><span class="symbol">,</span><span class="normal"> nargs</span><span class="symbol">);</span>
<span class="normal">    </span><span class="function">duk_xmove_top</span><span class="symbol">(</span><span class="normal">ctx</span><span class="symbol">,</span><span class="normal"> new_ctx</span><span class="symbol">,</span><span class="normal"> nargs</span><span class="symbol">);</span>

<span class="normal">    </span><span class="comment">/* Call the function; new_ctx is now: [ func arg1 ... argN ]. */</span>
<span class="normal">    </span><span class="function">duk_call</span><span class="symbol">(</span><span class="normal">new_ctx</span><span class="symbol">,</span><span class="normal"> nargs </span><span class="symbol">-</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>

<span class="normal">    </span><span class="comment">/* Return the function call result by copying it to the original stack. */</span>
<span class="normal">    </span><span class="function">duk_xmove_top</span><span class="symbol">(</span><span class="normal">new_ctx</span><span class="symbol">,</span><span class="normal"> ctx</span><span class="symbol">,</span><span class="normal"> </span><span class="number">1</span><span class="symbol">);</span>
<span class="normal">    </span><span class="keyword">return</span><span class="normal"> </span><span class="number">1</span><span class="symbol">;</span>
<span class="cbracket">}</span>
</pre>
</div>
<div class="api-part">
<h2 class="api-seealso sectiontitle" id="duk_xmove_top.5">See also <a class="sectionlink" href="#duk_xmove_top.5">§</a></h2>
<ul>
<li><a href="#duk_xcopy_top">duk_xcopy_top</a></li>
</ul>
</div>
</div></div> <!-- site-middle-content -->
</div> <!-- site-middle -->
<div id="site-bottom">
<hr/>
<p>Duktape is (C) by its <a href="https://github.com/svaarala/duktape/blob/master/AUTHORS.rst">authors</a>
and licensed under the <a href="https://github.com/svaarala/duktape/blob/master/LICENSE.txt">MIT license</a>.</p>
</div> <!-- site-bottom -->
</body>
</html>
